!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=174)}({0:function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"d",function(){return r}),i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s});var n=function(t,e){return void 0===e&&(e="image"),"/proxy?url="+t+"&type="+e},r=(function(){function t(t,e){this.cmdMap={},this.reqFunc=e,this.io=t}t.prototype.send=function(t,e){var i=this;return this.reqFunc(t,e),this.cmdMap[t]?{on:function(t,e){}}:(this.cmdMap[t]=!0,{on:function(t,e){i.io.on(t,function(t){e(t)})}})}}(),function(t){var e,i,n=decodeURIComponent(window.location.search.substring(1)),r=n.split("&");for(i=0;i<r.length;i++)if(e=r[i].split("="),e[0]===t)return void 0===e[1]||e[1]}),o=function(t,e,i,n){var r=new XMLHttpRequest;r.open(e,t,!0);var o="";if("POST"==e){if(i)for(var a in i)o+=a+"="+i[a]+"&";r.setRequestHeader("Content-type","application/x-www-form-urlencoded")}r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var t=r.getResponseHeader("content-type");console.log("http.response",t,r.response);var e=r.response;t.search("json")>-1&&(e=JSON.parse(r.response)),n&&n(e)}},r.send(o)},a=function(t,e){var i=window.$http;i?i.get(t).then(function(t){e&&e(t.body,t)}):o(t,"GET",null,function(t){e&&e(t)})},s=function(t,e,i){var n=window.$http;n?n.post(t,e).then(function(t){i&&i(t.body,t)}):o(t,"POST",e,function(t){i&&i(t)})}},10:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(4),r=function(){function t(){this._texMap={}}return t.prototype.loadTex=function(t,e,r){var o=this;void 0===r&&(r=!0),"/"==t.charAt(0)&&(r=!1),this._texMap[t]?e(this._texMap[t]):i.i(n.a)(t,function(r){o._texMap[t]=i.i(n.b)(r),e(o._texMap[t])},r)},t.prototype.loadTexArr=function(t,e,i){var n=this;void 0===i&&(i=!1);var r=function(){t.length?n.loadTex(t.pop(),function(t){r()},i):e()};r()},t}(),o=window.imgLoader=new r},12:function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a});var n=function(t,e,i,n){e--;for(var r=e;r<i;r++){t[r+1]=n}},r={},o={win:11,lose:12,pre:10};n(r,1,16,o.pre),n(r,17,24,o.lose),n(r,25,32,o.win),n(r,33,40,o.lose),n(r,41,44,o.win),n(r,45,48,o.lose),n(r,49,52,o.lose),n(r,53,54,o.win),n(r,55,56,o.lose),n(r,57,58,o.lose),n(r,59,59,o.lose),n(r,60,60,o.win),n(r,61,61,o.lose),n(r,62,62,o.win);var a=function(t){var e=1,i={},n=function(n,r,o,a,s){var l=t[n],c=t[r],h=t[a];if(i[n]=0!=a,c){if(0==l.score[0]&&0==l.score[1])return;e++,l.score[0]>l.score[1]?(c.player[o]=l.player[0],0!=a&&(h.player[s]=l.player[1])):(c.player[o]=l.player[1],0!=a&&(h.player[s]=l.player[0]))}},r=function(t){var e=/\d+/gi,i=t.match(e),r=Number(i[0]),o=Number(i[1]),a=Number(i[2]),s=Number(i[3]),l=Number(i[4]);n(r,o,a,s,l)};return r("1-25.0 \n        \\17.0"),r("2-25.1 \n        \\17.1"),r("3-26.0 \n        \\18.0"),r("4-26.1 \n        \\18.1"),r("5-27.0 \n        \\19.0"),r("6-27.1 \n        \\19.1"),r("7-28.0 \n        \\20.0"),r("8-28.1 \n        \\20.1"),r("9-29.0 \n        \\21.0"),r("10-29.1 \n        \\21.1"),r("11-30.0 \n        \\22.0"),r("12-30.1 \n        \\22.1"),r("13-31.0 \n        \\23.0"),r("14-31.1  \n        \\23.1"),r("15-32.0 \n        \\24.0"),r("16-32.1 \n        \\24.1"),r("17-40.1 \n        \\0.0"),r("18-39.1 \n        \\0.0"),r("19-38.1 \n        \\0.0"),r("20-37.1 \n        \\0.0"),r("21-36.1 \n        \\0.0"),r("22-35.1 \n        \\0.0"),r("23-34.1 \n        \\0.0"),r("24-33.1 \n        \\0.0"),r("25-41.0 \n        \\33.0"),r("26-41.1 \n        \\34.0"),r("27-42.0 \n        \\35.0"),r("28-42.1 \n        \\36.0"),r("29-43.0 \n        \\37.0"),r("30-43.1 \n        \\38.0"),r("31-44.0 \n        \\39.0"),r("32-44.1 \n        \\40.0"),r("33-45.0 \n        \\0.0"),r("34-45.1 \n        \\0.0"),r("35-46.0 \n        \\0.0"),r("36-46.1 \n        \\0.0"),r("37-47.0 \n        \\0.0"),r("38-47.1 \n        \\0.0"),r("39-48.0 \n        \\0.0"),r("40-48.1 \n        \\0.0"),r("41-53.0 \n        \\51.0"),r("42-53.1 \n        \\52.0"),r("43-54.0 \n        \\49.0"),r("44-54.1 \n        \\50.0"),r("45-49.1 \n        \\0.0"),r("46-50.1 \n        \\0.0"),r("47-51.1 \n        \\0.0"),r("48-52.1 \n        \\0.0"),r("49-55.1 \n        \\0.0"),r("50-55.0 \n        \\0.0"),r("51-56.1 \n        \\0.0"),r("52-56.0 \n        \\0.0"),r("53-60.0 \n        \\57.0"),r("54-60.1 \n        \\58.0"),r("55-57.1 \n        \\0.0"),r("56-58.1 \n        \\0.0"),r("57-59.1 \n        \\0.0"),r("58-59.0 \n        \\0.0"),r("59-61.1 \n        \\0.0"),r("60-62.0 \n        \\61.0"),r("61-62.1 \n        \\0.0"),r("62-63.0 \n        \\0.0"),{incoming:e,winLoseMap:i}}},14:function(t,e,i){"use strict";function n(t,e){h(c("http://api.liangle.com/api/passerbyking/game/players/"+t),e)}function r(t){h(c("http://api.liangle.com/api/passerbyking/game/list"),t)}function o(t,e){h(c("http://api.liangle.com/api/passerbyking/game/info/"+t),e)}function a(t,e){h(c("http://api.liangle.com/api/passerbyking/game/match/"+t),e)}i.d(e,"f",function(){return l}),e.d=n,e.b=r,e.e=o,e.a=a,i.d(e,"c",function(){return d});var s=i(0),l=function(t){t("tcp.lb.liangle.com:3081")},c=function(t){return i.i(s.c)(t,"json")},h=function(t,e){i.i(s.a)(t,e)},p=function(t,e){h(c("http://api.liangle.com/api/passerbyking/player/info/"+t),e)},d=function(t,e){var i=t.concat(),n=[],r=function(){p(i.pop(),function(t){n.push(t),i.length?r():e(n)})};r()}},17:function(t,e,i){"use strict";function n(t){return"/img/ft/"+t+"g.png"}function r(t){return"/img/ft/"+t+"m.png"}function o(t){return t?"安云鹏"==t.substring(0,3)?"安云鹏":t||"":""}e.b=n,e.c=r,e.a=o},170:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(23),r=i(171),o=i(4),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){var e=t.call(this)||this;e.playerArr=[],e.groupMap={},e.gameMap={};var a=i.i(o.c)({url:"/img/panel/backend/bg.png"});e.addChild(a),i.i(o.d)(e,.5);var s=i.i(o.c)({url:"/img/panel/backend/focus.png"});e.focus=s,i.i(n.a)({target:s,time:180}),e.addChild(s);for(var l=0;l<62;l++){var c=new r.a(l+1),h=(l+0)%2;l<16?(c.x=360+200*(l-h),c.y=1820+150*h):l<24?(c.x=240+220*(l-h-16),c.y=1420+150*h):l<32?(c.x=2040+220*(l-h-24),c.y=1420+150*h):l<40?(c.x=220,c.y=250+120*(l-32)):l<44?(c.x=660,c.y=250+120*(l-40)):l<48?(c.x=660,c.y=720+120*(l-44)):l<52?(c.x=1100,c.y=490+120*(l-48)):l<54?(c.x=1580,c.y=340+120*(l-52)):l<56?(c.x=1580,c.y=640+120*(l-54)):l<58?(c.x=2020,c.y=640+120*(l-56)):l<60?(c.x=2440,c.y=680-320*(l-58)):l<62&&(c.x=2780+400*(l-60),c.y=540),e.addChild(c),e.groupMap[l+1]=c}return e}return a(e,t),e.prototype.setRec=function(t,e){for(var i=0;i<62;i++){var n=i+1,r=t[n],o=this.groupMap[n];n==e&&(this.focus.x=o.x-105,this.focus.y=o.y-20),o.setRec(r)}},e}(PIXI.Container)},171:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(4),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function e(e){var r=t.call(this)||this,o=i.i(n.c)({url:"/img/panel/backend/playerPad.png"});r.addChild(o);var a=i.i(n.c)({url:"/img/panel/backend/playerPad.png"});a.y=50,r.addChild(a);var s={font:"35px",fill:"#000",align:"right",fontWeight:"normal"},l=new PIXI.Text("player 1",s);l.x=10,l.y=2,a.alpha=.4,o.addChild(l),r.lPlayerName=l,l=new PIXI.Text("player 2",s),l.x=10,l.y=2,a.addChild(l),r.rPlayerName=l;var c=new PIXI.Text("0",s);c.x=215,r.lScore=c,o.addChild(c);var h=new PIXI.Text("0",s);h.x=c.x,r.rScore=h,a.addChild(h),s.fill="#fff",s.fontWeight="bold",s.fontSize="50px";var p=new PIXI.Text(e,s);return p.x=-60,p.y=0,r.addChild(p),r}return r(e,t),e.prototype.setRec=function(t){this.lPlayerName.text=t.player[0],i.i(n.i)(this.lPlayerName,180),this.rPlayerName.text=t.player[1],i.i(n.i)(this.rPlayerName,180),0==t.score[0]&&0==t.score[1]?(this.lScore.text="",this.rScore.text=""):(t.score[0],t.score[1],this.lScore.text=t.score[0],this.rScore.text=t.score[1])},e}(PIXI.Container)},172:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(0),r=i(4),o=i(10),a=i(2),s=i(66),l=i(17),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(e){void 0===e&&(e=!1);var o=t.call(this)||this;o.nameWidth=200;var l={fill:"#000",fontWeight:"bold",fontFamily:a.c.MicrosoftYahei,fontSize:"40px"},c=new PIXI.Text("",l);c.x=105,c.y=8,o.nameText=c,o.addChild(c);var h=new PIXI.Text("",l);h.y=6,o.pokeText=h;var p=new PIXI.Sprite;p.x=4,p.y=4,o.pokeSp=p,o.addChild(p),o.addChild(h);var d=new PIXI.Text("",l);d.x=200*s.b,d.y=5,o.scoreText=d,"1"==i.i(n.d)("score")&&o.addChild(d);var u=i.i(r.c)({url:"/img/panel/bracket/final/winHint.png"});return e?(o.nameWidth=200,u.x=162*s.b):(o.nameWidth=285,u.x=207*s.b),u.scale.x=u.scale.y=1/s.b,o.addChild(u),o.winSp=u,o}return c(e,t),e.prototype.setInfo=function(t,e,n){var a=this;if(this.nameText.text=i.i(l.a)(t),this.scoreText.text=e,n){var s=n;console.log(t,"pNum",n,"poker",s),i.i(r.i)(this.nameText,this.nameWidth),this.pokeText.text=s.charAt(1),this.pokeText.style.fontSize="40px","1"==this.pokeText.text&&(s.length<3?this.pokeText.text="A":(this.pokeText.style.fontSize="35px",this.pokeText.text="10")),this.pokeText.x=90-this.pokeText.width;"L"==s.charAt(0)?(this.pokeText.style.fill="#000",o.a.loadTex("/img/panel/bracket/final/pokerBlack.png",function(t){a.pokeSp.texture=t,a.pokeSp.scale.x=a.pokeSp.scale.y=.7},!1)):(o.a.loadTex("/img/panel/bracket/final/pokerRed.png",function(t){a.pokeSp.texture=t,a.pokeSp.scale.x=a.pokeSp.scale.y=.7},!1),this.pokeText.style.fill="#f00")}},e.prototype.setWin=function(t){var e=t>.5;this.winSp.visible=e,this.nameText.alpha=t,this.scoreText.alpha=t},e}(PIXI.Container)},173:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(3),r=i(29),o=i(8),a=i(23),s=i(2),l=i(4),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(e){var o=t.call(this)||this;e.addChild(o);var a=i.i(l.c)({url:"/img/panel/bracket/tile2.png",isTiling:!0,width:s.a.STAGE_WIDTH,height:s.a.STAGE_HEIGHT});a.alpha=.8,o.addChild(a);var c=new PIXI.Container;o.addChild(c);var h=i.i(l.c)({url:"/img/panel/bracket/bg1.png"});o.addChild(h),o.comingTitle=i.i(l.c)({url:"/img/panel/bracket/coming.png"}),o.comingTitle.visible=!1,o.addChild(o.comingTitle);for(var p in r.b){var d=new PIXI.Container;o.addChild(d);var u=r.b[p];console.log(u),d.x=u.x,d.y=u.y;var f=new PIXI.Sprite;f.x=u.x+170,f.y=u.y+50,f.scale.y=-1,c.addChild(f),u.hint1=f;var y=new PIXI.Sprite;y.x=f.x,y.y=u.y+49,c.addChild(y),u.hint2=y,d.addChild(u.scores[0]),d.addChild(u.scores[1]),d.addChild(u.labels[0]),d.addChild(u.labels[1])}return i.i(n.f)(["/img/panel/bracket/hint1.png","/img/panel/bracket/hint2.png"],function(t){var e=i.i(l.b)(t[0]);o.hint1Tex=e,o.hint2Tex=i.i(l.b)(t[1]),console.log("load tex",c.children);for(var n=0,r=c.children;n<r.length;n++){r[n].texture=e}}),o}return c(e,t),e.prototype.setWinHint=function(t,e){void 0===e&&(e=!1),t.texture=this.hint2Tex},e.prototype.hideComing=function(){this.comingTitle.visible=!1},e.prototype.showComingIdx=function(t){var e=this,n=r.b[t];this.comingTitle.visible=!1,o.a.delayedCall(610,function(){n&&(e.comingTitle.visible=!0,e.comingTitle.x=n.x-38,e.comingTitle.y=n.y-43,i.i(a.a)({target:e.comingTitle,time:600}))})},e}(PIXI.Container)},174:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(82),r=i(85),o=i(83),a=i(84),s=i(3),l=i(0),c=i(2),h=i(87),p=i(86);document.write("<canvas id='panel'></canvas>"),document.write("<style>@font-face{font-family:'digital1';src:url(/fonts/digital.ttf); font-style:normal; font-weight:normal}</style>"),console.log("PIXI",window.PIXI),document.body.style.margin="0px",document.body.style.overflow="hidden";var d,u,f=function(){var t=new PIXI.autoDetectRenderer(c.a.STAGE_WIDTH,c.a.STAGE_HEIGHT,{antialias:!1,transparent:!0,resolution:1},!1);return document.body.insertBefore(t.view,document.getElementById("panel")),t.stage=new PIXI.Container,t.backgroundColor=0,t.renderStage=function(e){requestAnimationFrame(t.renderStage),TWEEN.update(e),t.render(t.stage)},t.renderStage(),t.stage},y=i.i(l.d)("panel"),g=i.i(l.d)("gameId"),x="1"==i.i(l.d)("m");if("bracket"==y)d=window.stage=f(),new a.a(d,g,x);else if("bracket20"==y)d=window.stage=f(),new o.a(d);else if("bracket24"==y)d=window.stage=f(),new o.a(d);else if("backend"==y)d=window.stage=f(),new n.a(d);else if("poker"==y)d=window.stage=f(),new r.a(d);else{d=window.stage=f();var v=new h.a(d);u=v.localWS,new p.a(d,u)}i.i(s.f)(c.b,function(t){})},175:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(10),r=i(4),o=i(67),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){var e=t.call(this)||this;e.pokerPlayer=[];var i=new PIXI.Sprite;e.addChild(i),e.bg=i;for(var n=0;n<12;n++){var r=new o.a;e.pokerPlayer.push(r),e.addChild(r)}return e.show8Player(),e}return a(e,t),e.prototype.show12Player=function(){var t=this;n.a.loadTex("/img/panel/bracket/final/bg2.png",function(e){t.bg.texture=e});for(var e=0;e<6;e++){var o=this.pokerPlayer[e],a=this.pokerPlayer[6+e];i.i(r.d)(o,.9),i.i(r.d)(a,.9),o.setPoker("L"+(4+e+1)),a.setPoker("R"+(4+e+1)),o.x=50+305*e,o.y=240,a.x=o.x,a.y=610}this.pokerPlayer[8].visible=!0,this.pokerPlayer[9].visible=!0,this.pokerPlayer[10].visible=!0,this.pokerPlayer[11].visible=!0},e.prototype.show8Player=function(){var t=this;n.a.loadTex("/img/panel/bracket/final/bg1.png",function(e){t.bg.texture=e});for(var e=0;e<4;e++){var o=this.pokerPlayer[e],a=this.pokerPlayer[4+e];i.i(r.d)(o,1),i.i(r.d)(a,1),o.setPoker("L"+(e+1)),a.setPoker("R"+(e+1)),o.x=140+442*e,o.y=240,a.x=o.x,a.y=610}this.pokerPlayer[8].visible=!1,this.pokerPlayer[9].visible=!1,this.pokerPlayer[10].visible=!1,this.pokerPlayer[11].visible=!1},e.prototype.resetAll=function(){for(var t=0,e=this.pokerPlayer;t<e.length;t++){e[t].reset()}},e.prototype.showPokerPlayer=function(t){for(var e=0,i=this.pokerPlayer;e<i.length;e++){var n=i[e];n.pokerStr==t.pokerStr&&(t.visible?(n.setInfo(t.playerData.data),n.playOnce()):n.reset())}},e}(PIXI.Container)},176:function(t,e,i){"use strict";function n(t,e,i){if(!(i<3)){var n=2*Math.PI/i;t.moveTo(e,0);for(var r=1;r<i;r++)t.lineTo(e*Math.cos(n*r),e*Math.sin(n*r))}}i.d(e,"a",function(){return c});var r=i(4),o=i(69),a=i(8),s=i(2),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.create=function(t){this.ctn=t;var e=i.i(r.c)({url:"/img/panel/score/m2/championBack.png"});e.y=s.a.STAGE_HEIGHT-306;var a=i.i(r.c)({url:"/img/panel/score/m2/championTop.png"});a.y=s.a.STAGE_HEIGHT-306-197,this.addChild(a),this.top=a,this.addChild(e);var l=i.i(r.c)({url:"/img/panel/score/m2/championInfo.png"});l.y=e.y,this.addChild(l),this.info=l;var c=i.i(r.c)({url:"/img/panel/score/m2/championTitle.png"});c.y=e.y+125,c.x=e.x+70,this.addChild(c),c.alpha=0,this.title=c;var h={fill:"#fff",fontWeight:"normal",fontFamily:s.c.MicrosoftYahei,fontSize:"38px"},p=new o.a(l);this.playerName=p.add({x:1205,y:72,style:h}),this.playerInfo=p.add({x:p.lastX,y:p.lastY+64,style:h}),this.playerLocation=p.add({x:p.lastX,y:p.lastY+57,style:h});var d=(new PIXI.Graphics).beginFill(16711680);n(d,121,6),d.x=960,d.y=161,l.addChild(d);var u=new PIXI.Sprite;l.addChild(u),u.x=d.x-121,u.y=d.y-121,u.mask=d,this.avt=u;var f=i.i(r.c)({url:"/img/panel/score/m2/victoryLight.png"});f.y=e.y-136,this.light=f,this.addChild(f)},e.prototype.show=function(t){var e=this;i.i(r.a)(t.avatar,function(n){var o=242/n.width;e.avt.texture=i.i(r.b)(n),e.avt.scale.x=e.avt.scale.y=o,e.onLoad(t)},!0)},e.prototype.onLoad=function(t){var e=this;this.info.x=-800,this.top.y=s.a.STAGE_HEIGHT-306-197,this.title.alpha=0,this.light.alpha=1,new a.a(this.top).delay(5e3).call(function(t){a.a.to(e.title,80,{alpha:1}),a.a.to(e.info,80,{x:0}),a.a.to(e.light,80,{alpha:0})}).to({y:1080},200).start(),a.a.to(this.info,100,{x:-200}),this.playerName.text=t.name,this.playerInfo.text=t.info,this.playerLocation.text=t.location,this.ctn.addChild(this)},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container);c.class="ChampionM2"},177:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(8),r=i(3),o=i(17),a=i(4),s=i(69),l=i(2),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.create=function(t){this.ctn=t,this.ctn.addChild(this);var e=new PIXI.Graphics;e.beginFill(0,.8).drawRect(0,0,l.a.STAGE_WIDTH,l.a.STAGE_HEIGHT),this.addChild(e);var n=i.i(a.c)({url:"/img/panel/score/m2/gamePlayerBg.png"});n.x=.5*(l.a.STAGE_WIDTH-1433),n.y=110,this.addChild(n),this.lFt=new PIXI.Sprite,this.lFt.x=0,this.lFt.y=86,n.addChild(this.lFt),this.rFt=new PIXI.Sprite,this.rFt.x=715,this.rFt.y=86,n.addChild(this.rFt);var r=i.i(a.c)({url:"/img/panel/score/m2/gamePlayerStrip.png"});r.blendMode=PIXI.BLEND_MODES.MULTIPLY,r.x=n.x,r.y=n.y+86,this.addChild(r);var o=i.i(a.c)({url:"/img/panel/score/m2/gamePlayerTop.png"});o.x=n.x,o.y=n.y,this.addChild(o);var c=new s.a(this),h={fill:"#000",fontWeight:"bold",fontFamily:l.c.MicrosoftYahei,fontSize:"35px"};this.lName=c.add({x:567,y:290,style:h}),this.rName=c.add({x:1348,y:this.lName.y,style:h,hAlign:"right"}),h.fontSize="28px",this.lInfo=c.add({x:this.lName.x,y:this.lName.y+64,style:h}),this.lLocation=c.add({x:this.lName.x,y:this.lName.y+120,style:h}),this.rInfo=c.add({x:this.rName.x,y:this.lInfo.y,style:h,hAlign:"right"}),this.rLocation=c.add({x:this.rName.x,y:this.lLocation.y,style:h,hAlign:"right"}),h.fill="#fff",h.fontSize="30px",this.lIntro=c.add({x:310,y:680,style:h}),this.rIntro=c.add({x:1632,y:this.lIntro.y,style:h,hAlign:"right"}),h.fontSize="50px",c.add({x:310,y:570,text:"参赛宣言",style:h}),c.add({x:this.rIntro.x,y:570,text:"参赛宣言",hAlign:"right",style:h}),this.lAvt=new PIXI.Sprite,this.lAvt.x=310,this.lAvt.y=290,this.addChild(this.lAvt),this.rAvt=new PIXI.Sprite,this.rAvt.x=1464,this.rAvt.y=this.lAvt.y,this.addChild(this.rAvt)},e.prototype._fixN=function(t){return t.search("微博")>0&&(t=t.replace("微博","\n微博")),t},e.prototype.show=function(t){var e=this,s=t.leftPlayer.data,l=t.rightPlayer.data;this.lName.text=i.i(o.a)(s.name),this.rName.text=i.i(o.a)(l.name),this.lInfo.text=s.height+" cm/ "+s.weight+" kg/ "+s.age+" 岁",this.rInfo.text=l.height+" cm/ "+l.weight+" kg/ "+l.age+" 岁",s.intro=i.i(r.h)(s.intro.replace("\n",""),32,96),l.intro=i.i(r.h)(l.intro.replace("\n",""),32,96),this.lIntro.text=s.intro,this.rIntro.text=l.intro,this.lLocation.text=i.i(r.h)(s.school,20,20)||"路人王",this.rLocation.text=i.i(r.h)(l.school,20,20)||"路人王",i.i(a.a)(s.avatar,function(t){e.lAvt.texture=i.i(a.b)(t);var n=164/t.height;e.lAvt.scale.x=e.lAvt.scale.y=n},!0),i.i(a.a)(l.avatar,function(t){e.rAvt.texture=i.i(a.b)(t);var n=164/t.height;e.rAvt.scale.x=e.rAvt.scale.y=n},!0),i.i(r.g)(i.i(o.b)(s.groupId),function(t){e.lFt.texture=i.i(a.b)(t)}),i.i(r.g)(i.i(o.b)(l.groupId),function(t){e.rFt.texture=i.i(a.b)(t)}),this.ctn.addChild(this),n.a.delayedCall(6e3,function(t){e.hide()})},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container);h.class="GamePlayerInfo"},178:function(t,e,i){"use strict";i.d(e,"a",function(){return f});var n=i(10),r=i(65),o=i(23),a=i(29),s=i(8),l=i(17),c=i(2),h=i(4),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(t){function e(e){var n=t.call(this)||this,o=new PIXI.Graphics;o.beginFill(16777215).drawRect(0,0,388,84),n.addChild(o);var a=new PIXI.Graphics;a.beginFill(16777215).drawRect(0,84,388,84),n.addChild(a);var s=i.i(h.c)({url:"/img/panel/process/playerBg2.png"});n.addChild(s),s.mask=o;var l=i.i(h.c)({url:"/img/panel/process/playerBg2.png"});n.addChild(l),l.mask=a,n.lAvt=new r.a("/img/panel/score/m4/avtMask.png",84),n.lAvt.x=295,n.lAvt.y=3,s.addChild(n.lAvt),n.rAvt=new r.a("/img/panel/score/m4/avtMask.png",84),n.rAvt.x=n.lAvt.x,n.rAvt.y=88,l.addChild(n.rAvt);var p={fontFamily:c.c.MicrosoftYahei,fontWeight:"bold",fontSize:"38px",fill:"#323232"},d=new PIXI.Text("",p);d.y=8,n.lPlayerName=d,s.addChild(d);var u=new PIXI.Text("",p);u.x=d.x,u.y=95,n.rPlayerName=u,l.addChild(u);var f={1:[55,38],2:[55,260],3:[30,530],4:[30,710],5:[440,502],6:[440,670],7:[830,534],8:[648,80],9:[1220,528],10:[1132,178]},y=f[e];return n.x=y[0],n.y=y[1],3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&9!=e||i.i(h.d)(n,.8),10==e&&i.i(h.d)(n,1.2),7==e&&(a.y=l.y=120),8==e&&(a.y=l.y=130),10==e&&(a.y=l.y=20),n}return p(e,t),e.prototype.setData=function(t,e){this.lPlayerName.text=i.i(l.a)(t.hupuID),i.i(a.a)(this.lPlayerName,270,38),this.lPlayerName.x=285-this.lPlayerName.width,this.rPlayerName.text=i.i(l.a)(e.hupuID),i.i(a.a)(this.rPlayerName,270,38),this.rPlayerName.x=285-this.rPlayerName.width,t.data.avatar&&this.lAvt.load(t.data.avatar),e.data.avatar&&this.rAvt.load(e.data.avatar);var n=t.score,r=e.score,o=this.lAvt.parent,s=this.rAvt.parent;0==n&&0==r?o.alpha=s.alpha=1:n<r?(o.alpha=.5,s.alpha=1):(o.alpha=1,s.alpha=.5)},e}(PIXI.Container),u=function(t){function e(){var e=t.call(this)||this,n=new PIXI.Graphics;n.beginFill(3158064).drawRect(0,0,1377,100),e.addChild(n),n.alpha=.2,e.flatBg=n;var o=i.i(h.c)({url:"/img/panel/process/playerBg.png"});e.addChild(o);var a=i.i(h.c)({url:"/img/panel/process/playerBg.png"});e.addChild(a),o.x=.5*(n.width-967),o.y=8,a.x=o.x,a.y=o.y;var s=new PIXI.Graphics;s.beginFill(16777215).drawRect(0,0,470,84),s.x=o.x,e.addChild(s),o.mask=s;var l=new PIXI.Graphics;l.beginFill(16777215).drawRect(470,0,470,84),l.x=o.x,e.addChild(l),a.mask=l;var p={fontFamily:c.c.MicrosoftYahei,fontWeight:"bold",fontSize:"38px",fill:"#323232"},d=new PIXI.Text("",p);d.y=10,e.lPlayerName=d,o.addChild(d);var u=new PIXI.Text("",p);u.y=d.y,e.rPlayerName=u,a.addChild(u),p.fill="#435359";var f=new PIXI.Text("",p);e.gameIdxText=f,f.x=o.x-160,f.y=15,e.addChild(f),p.fontSize="56px",p.fill="#fff";var y=new PIXI.Text("3",p);y.y=5,y.x=424,e.lScoreText=y,o.addChild(y);var g=new PIXI.Text("2",p);return g.x=510,g.y=y.y,e.rScoreText=g,a.addChild(g),e.lAvt=new r.a("/img/panel/score/m4/avtMask.png",88),e.lAvt.x=310,e.lAvt.y=2,o.addChild(e.lAvt),e.rAvt=new r.a("/img/panel/score/m4/avtMaskR.png",88),e.rAvt.x=568,e.rAvt.y=e.lAvt.y,a.addChild(e.rAvt),e}return p(e,t),e.prototype.setStrip=function(t){this.odd=t,this.flatBg.alpha=t?.3:.2},e.prototype.setPlayerName=function(t,e){this.lPlayerName.text=i.i(l.a)(t),i.i(a.a)(this.lPlayerName,270,38),this.lPlayerName.x=295-this.lPlayerName.width,this.rPlayerName.text=i.i(l.a)(e),i.i(a.a)(this.rPlayerName,270,38),this.rPlayerName.x=670},e.prototype.setScore=function(t,e,i){var n=!(0==t&&0==e);this.lScoreText.visible=this.rScoreText.visible=n;var r=this.lAvt.parent,o=this.rAvt.parent;r.alpha=o.alpha=1,!n||2!=i&&4!=i&&6!=i&&7!=i||(t<e?r.alpha=.5:o.alpha=.5),this.lScoreText.text=t,this.rScoreText.text=e},e.prototype.setAvatar=function(t,e){this.lAvt.load(t),this.rAvt.load(e)},e.prototype.setData=function(t,e,i){this.setPlayerName(t.hupuID,e.hupuID),this.setScore(t.score,e.score,i),this.setAvatar(t.data.avatar,e.data.avatar)},e.prototype.setGameIdx=function(t){this.gameIdxText.text=t},e.prototype.setFocus=function(t){var e=.5*(this.flatBg.width-967);t?(this.flatBg.y=-5,this.flatBg.alpha=.6,this.x=-70,this.gameIdxText.x=e-110,i.i(h.d)(this,1.1)):(this.gameIdxText.x=e-160,this.flatBg.y=0,this.setStrip(this.odd),this.x=0,i.i(h.d)(this,1))},e}(PIXI.Container),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.create=function(t){this.p=t;var e=i.i(h.c)({url:"/img/panel/process/bg.png"});this.addChild(e);var n=i.i(h.c)({url:"/img/panel/process/title.png"});n.x=.5*(c.a.STAGE_WIDTH-1377),n.y=122;var r=i.i(h.c)({url:"/img/panel/process/titleTex.png"});r.x=520,r.y=-2;var a=i.i(h.c)({url:"/img/panel/process/final8Bg.png"});a.x=.5*(c.a.STAGE_WIDTH-1652),a.y=155,this.final8Bg=a,this.addChild(a);var s=i.i(h.c)({url:"/img/panel/process/final8Line.png"});a.addChild(s);var l=new PIXI.Graphics;l.beginFill(3158064).drawRect(0,0,1377,30),l.x=n.x,l.y=170,l.alpha=.2,this.flatBg=l;var p={fontFamily:c.c.MicrosoftYahei,fontWeight:"bold",fontSize:"56px",fill:"#fff"};this.title=new PIXI.Text("",p),this.title.y=1,r.mask=this.title,n.addChild(this.title),n.addChild(r),this.addChild(l),this.addChild(n),this.playerItemCtn=new PIXI.Container,this.playerItemCtn.x=n.x,this.addChild(this.playerItemCtn),this.playerItemArr=[];for(var f=0;f<8;f++){var y=new u;y.y=n.y+80+105*f,y.setStrip(f%2),this.playerItemCtn.addChild(y),this.playerItemArr.push(y)}this.toPosX=0,this.initVSFocus(this.playerItemCtn),this.playerItemArr2=[];for(var f=0;f<10;f++){var g=new d(f+1);this.playerItemArr2.push(g),a.addChild(g)}this.tabIdxPosMap=[0,262,425,596,763,936,1101,1270,1439,1604];var x=i.i(h.c)({url:"/img/panel/process/tabFocus.png"});x.x=253,x.y=104,this.addChild(x),i.i(o.a)({target:x,time:500}),this.tabFocus=x},e.prototype.initVSFocus=function(t){var e=i.i(h.c)({url:"/img/panel/process/vs.png"});this.vs=e,e.x=645,e.y=225,t.addChild(e)},e.prototype.show=function(t){var e=this;console.log("show process",t);for(var i=t.processParam,r=i.gamePlayerArr,o=[],a=0;a<r.length;a++){var l=r[a];l[0].data.avatar&&o.push(l[0].data.avatar),l[1].data.avatar&&o.push(l[1].data.avatar)}n.a.loadTexArr(o,function(t){e.title.text=i.title,e.title.x=.5*(1377-e.title.width);var n=i.idx;if(e.tabFocus.x=e.tabIdxPosMap[n],8==n||9==n){e.final8Bg.visible=!0,e.playerItemCtn.visible=!1,e.flatBg.visible=!1;for(var o=0;o<r.length;o++){var a=r[o],l=e.playerItemArr2[o];l.setData(a[0],a[1])}}else{for(var h=0,p=e.playerItemArr;h<p.length;h++){var l=p[h];l.visible=!1}e.vs.visible=!1;for(var o=0;o<r.length;o++){var a=r[o],l=e.playerItemArr[o];l.setData(a[0],a[1],n),i.gameIdx==i.start+o?e.setFucosPlayerItem(l):l.setFocus(!1),l.setGameIdx(i.start+o);var d=o%2;l.x=d?-l.width:c.a.STAGE_WIDTH,l.visible=!0}for(var o=0;o<e.playerItemArr.length;o++){var l=e.playerItemArr[o];s.a.to(l,200,{x:e.toPosX})}e.playerItemCtn.visible=!0,e.flatBg.visible=!0,e.final8Bg.visible=!1}console.log("this.tabIdxPosMap",e.tabFocus.x),e.p.addChild(e)},!0)},e.prototype.setFucosPlayerItem=function(t){var e=this;s.a.delayedCall(500,function(i){e.vs.visible=!0,e.vs.y=t.y+30,t.setFocus(!0)})},e.prototype.setFinal8=function(){},e.prototype.hide=function(){this.p.removeChild(this)},e}(PIXI.Container);f.class="GameProcess"},179:function(t,e,i){"use strict";function n(t,e,i){if(!(i<3)){var n=2*Math.PI/i;t.moveTo(e,0);for(var r=1;r<i;r++)t.lineTo(e*Math.cos(n*r),e*Math.sin(n*r))}}i.d(e,"a",function(){return l});var r=i(4),o=i(17),a=i(2),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerTextArr=[],e.avatarArr=[],e.ftArr=[],e}return s(e,t),e.prototype.create=function(t){this.p=t;var e=this.groupText=new PIXI.Text;e.style.fill="#fff",e.style.fontFamily=a.c.MicrosoftYahei,e.style.fontSize="50px",e.x=345,e.y=170;var o=i.i(r.c)({url:"/img/panel/score/m2/groupBg.png"});this.addChild(o);for(var s=[50,150,790,935],l=0;l<4;l++){for(var c=0;c<4;c++){var h=new PIXI.Text;h.x=s[c],h.y=125+128*l,h.style.fontSize="35px",h.style.fill="#fff",h.style.fontFamily=a.c.MicrosoftYahei,h.style.fontWeight="bold",this.playerTextArr.push(h),o.addChild(h)}var p=new PIXI.Sprite;p.x=145,p.y=98+128*l,o.addChild(p),this.avatarArr.push(p);var d=new PIXI.Graphics;d.beginFill(16711680),d.drawCircle(51,51,51),d.x=p.x,d.y=p.y,p.mask=d,o.addChild(d);var u=new PIXI.Graphics;u.beginFill(12426079),u.x=650,u.y=p.y+50,n(u,52,6),u.rotation=30*PIXI.DEG_TO_RAD,o.addChild(u);var f=new PIXI.Graphics;f.beginFill(16777215),f.x=u.x,f.y=u.y,n(f,44,6),f.rotation=30*PIXI.DEG_TO_RAD,o.addChild(f);var y=new PIXI.Sprite;y.x=u.x-35,y.y=u.y-35,o.addChild(y),this.ftArr.push(y)}o.x=a.a.STAGE_WIDTH-1018,o.y=170},e.prototype.show=function(t){var e=t.group,n=t.playerArr;this.groupText.text=e.toLocaleUpperCase()+"组";for(var a=this,s=0;s<4;s++)!function(t){var s=n[t];a.playerTextArr[4*t].text=e.toLocaleUpperCase();var l=a.playerTextArr[4*t+1];l.text=s.name,l.x=400-.5*l.width,a.playerTextArr[4*t+2].text=s.win||"0",a.playerTextArr[4*t+3].text=s.dtScore||"0";var c=a.avatarArr[t];i.i(r.a)(s.avatar,function(t){c.texture=i.i(r.b)(t);var e=102/t.width;c.scale.x=c.scale.y=e},!0);var h=a.ftArr[t];i.i(r.a)(i.i(o.c)(s.groupId),function(t){h.texture=i.i(r.b)(t);var e=70/t.width;h.scale.x=h.scale.y=e},!1)}(s);this.p.addChild(this)},e.prototype.hide=function(){this.p.removeChild(this)},e}(PIXI.Container);l.class="GroupRankM2"},180:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(187),r=i(3),o=i(4),a=i(2),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.create=function(t){var e=this;t.addChild(this),this.bg=new PIXI.Graphics,this.bg.alpha=.8,this.addChild(this.bg),i.i(r.g)("/img/panel/score2017/noticeBg.png",function(t){e.imgWidth=250,e.imgHeight=130,e.frame=new n.a(t,{x:27,y:29,width:31,height:27}),e.addChildAt(e.frame,1),e.setText(e._content,e._title,e._isLeft,e._isBold)}),this.lLight=i.i(o.c)({url:"/img/panel/score2017/noticeLight.png"}),this.lLight.y=34,this.addChild(this.lLight),this.rLight=i.i(o.c)({url:"/img/panel/score2017/noticeLight.png"}),this.rLight.y=this.lLight.y,this.addChild(this.rLight);var s={fontFamily:a.c.MicrosoftYahei,fontSize:"35px",fill:"#fff",fontWeight:"bold"};this.line=i.i(o.c)({url:"/img/panel/score2017/noticeLine.png"}),this.line.y=48,this.line.x=9,this.addChild(this.line),this.content=new PIXI.Text("",s),this.content.y=60,this.addChild(this.content),this.title=new PIXI.Text("",s),this.title.style.fontSize="25px",this.title.y=12,this.addChild(this.title),this.y=85},e.prototype.show=function(t){this.setText(t.content,t.title,t.isLeft,t.isBold),this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.setText=function(t,e,i,n){e||(e="公告"),this._content=t,this._title=e,this._isLeft=i,this._isBold=n,this.content.style.fontWeight=n;var r=15;"bold"==n&&(r=18),this.content.style.lineHeight=Number((this.content.style.fontSize+"").replace("px",""))+r,this.content.text=t,this.title.text=e;var o=Math.max(this.content.width,this.title.width);o<this.imgWidth&&(o=this.imgWidth);var s=this.content.height;s<this.imgHeight&&(s=this.imgHeight),this.frame.resize(o+40,this.content.height+15+this.content.y),this.line.width=o+40-18,this.content.x=.5*(this.frame.width-this.content.width),this.title.x=.5*(this.frame.width-this.title.width),this.bg.clear();var l=this.frame.width,c=this.frame.height;this.bg.beginFill(0).moveTo(25,6).lineTo(l-8,6).lineTo(l-8,c-28).lineTo(l-25,c-6).lineTo(6,c-6).lineTo(6,25),l<260?(this.lLight.visible=!1,this.rLight.visible=!1):(this.lLight.visible=!0,this.rLight.visible=!0,this.lLight.x=this.title.x-75-8,this.rLight.x=this.title.x+this.title.width+8,this.rLight.x+this.rLight.width-this.lLight.x>l-25&&(this.lLight.visible=!1,this.rLight.visible=!1)),this.x=i?5:a.a.STAGE_WIDTH-l-5,this.y=.382*(a.a.STAGE_HEIGHT-c)},e}(PIXI.Container);l.class="NoticePanel"},181:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(8),r=i(4),o=i(2),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.create=function(t){t.addChild(this);var e={fontFamily:o.c.MicrosoftYahei,fontSize:"32px",fill:"#fff",fontWeight:"bold"};this.rollText=new PIXI.Text("",e),this.rollText.y=o.a.STAGE_HEIGHT-50;var n=i.i(r.e)();n.y=this.rollText.y-10,this.addChild(n),this.addChild(this.rollText)},e.prototype.show=function(t){var e=this;console.log("show roll text"),n.a.to(this,50,{alpha:1}),this.rollText.text=t.text,this.rollText.x=o.a.STAGE_WIDTH-100;var i=(this.rollText.width+this.rollText.x)/80;n.a.to(this.rollText,1e3*i,{x:-this.rollText.width},function(t){e.hide()})},e.prototype.hide=function(){console.log("hide roll text"),n.a.to(this,200,{alpha:0})},e}(PIXI.Container);s.class="RollText"},182:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(2),r=i(10),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(){function t(t,e,i,n){this.name=t,this.x=e,this.y=i,this.url=n}return t}(),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgConfMap={},e}return o(e,t),e.prototype.create=function(t){this.p=t,this.imgConfMap.bd1=new a("bd1",0,n.a.STAGE_HEIGHT-190,"/img/bd/bd1.png"),this.imgConfMap.bd2=new a("bd2",0,n.a.STAGE_HEIGHT-190,"/img/bd/bd2.png"),this.imgConfMap.bd1.group="bd",this.imgConfMap.bd2.group="bd"},e.prototype.show=function(t){var e=this,i=this;for(var n in this.imgConfMap)!function(n){var o=i.imgConfMap[n];o.name==t.name&&(o.sp?i.p.addChild(o.sp):r.a.loadTex(o.url,function(t){o.sp=new PIXI.Sprite(t),o.sp.x=o.x,o.sp.y=o.y,e.p.addChild(o.sp)}))}(n)},e.prototype.hide=function(t){for(var e in this.imgConfMap){var i=this.imgConfMap[e];if(i.name==t.name){if(i.group)for(var n in this.imgConfMap){var r=this.imgConfMap[n];r.group==i.group&&this.p.removeChild(r.sp)}this.p.removeChild(i.sp)}}},e}(PIXI.Container);s.class="StaticImg"},183:function(t,e,i){"use strict";i.d(e,"a",function(){return f});var n=i(40),r=i(3),o=i(8),a=i(65),s=i(2),l=i(68),c=i(4),h=i(12),p=i(17),d=i(29),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.create=function(t){this.p=t,this.addChild(i.i(c.e)(.4));var e=i.i(c.c)({url:"/img/panel/score/m4/winBg.png"});this.addChild(e),this.bg=e;var n=new l.a("/img/fx/victory/winFx_",0,24);this.fx=n,this.addChild(n);var r=i.i(c.c)({url:"/img/panel/score/m4/winPlayerBg.png"});r.x=.5*(s.a.STAGE_WIDTH-564),r.y=376,this.addChild(r);var o=new a.a("/img/panel/score/m4/avtMaskR.png",180);o.x=20,o.y=5,this.avt=o,r.addChild(o);var h={fontFamily:s.c.MicrosoftYahei,fontSize:"54px",fill:"#fff",fontWeight:"bold",stroke:"#000",strokeThickness:3,dropShadow:!0,dropShadowAngle:Math.PI/2,dropShadowColor:875666,dropShadowDistance:3},p=new PIXI.Text("player name",h);this.playerNameText=p,p.x=220,p.y=12,r.addChild(p),h.fontSize="34px";var d=new PIXI.Text("1胜1负",h);d.x=220,d.y=96,this.winLoseText=d,r.addChild(d);var u={fontFamily:s.c.MicrosoftYahei,fontSize:"80px",fill:"#fff"},f=new PIXI.Text("￥20,000",u);this.rewardText=f,f.y=150,f.x=125,r.addChild(f);var y=i.i(c.c)({url:"/img/panel/score/m4/rewardTex.png"});i.i(c.d)(y,3),y.scale.x=4,y.x=15,y.y=160,r.addChild(y),y.mask=f},e.prototype.show=function(t){var e=this;this.alpha=1;var a=t.winner;this.playerNameText.text=i.i(p.a)(a.name),i.i(d.a)(this.playerNameText,300,54),this.avt.load(a.avatar);var s="";if(t.gameType?s=t.gameType:h.b[t.gameIdx]==h.c.lose?s="败者组":h.b[t.gameIdx]==h.c.win?s="胜者组":h.b[t.gameIdx]==h.c.pre&&(s="分组赛"),this.winLoseText.text=s+"  "+t.rec.win+"胜  "+t.rec.lose+"负",t.isLeft?(this.playerNameText.style.dropShadowColor=875666,this.winLoseText.style.dropShadowColor=875666):(this.playerNameText.style.dropShadowColor=3485746,this.winLoseText.style.dropShadowColor=3485746),t.reward){this.rewardText.visible=!0,i.i(c.f)(this.rewardText);var l=t.reward.rewardArr;if(0==l.length)this.rewardText.text="￥000,00";else{var u={reward:0},f=n.a.sumRewardArr(l),y=f-l[l.length-1],g=l[l.length-1];new o.a(u).to({reward:g},600).update(function(t){e.rewardText.text="￥"+Math.floor((y+u.reward)/1e3)+","+i.i(r.d)(Math.floor((y+u.reward)%1e3),3),i.i(c.d)(e.rewardText,1+.2*Math.random())}).start(),o.a.delayedCall(700,function(t){i.i(c.d)(e.rewardText,1),e.rewardText.text="￥"+f/1e3+",000"})}}else this.rewardText.visible=!1;o.a.delayedCall(2500,function(t){e.hide()}),this.fx.playOnce(),this.p.addChild(this)},e.prototype.hide=function(){var t=this;o.a.to(this,250,{alpha:0},function(e){t.p.removeChild(t)})},e}(PIXI.Container);f.class="Victory0"},184:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(2),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function e(){var e=t.call(this)||this;e.hasHint=!0;var i={fontFamily:n.c.Impact,fontSize:"35px",fill:"#a0adb6"},r=new PIXI.Text("",i);return e.addChild(r),e.label=r,e}return r(e,t),e.prototype.setFoul=function(t){this.label.style.fill=t>3?"#eba334":"#a0adb6";var e=t+" ";this.label.text=e,this.label.x=.5*(109-this.label.width)},e}(PIXI.Container)},185:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i(8),r=i(10),o=i(17),a=i(4),s=i(188),l=i(2),c=i(3),h=i(23),p=i(184),d=i(12),u=function(){function t(t,e){void 0===e&&(e=!1);var r=this;this._tex={},this._texFt={},this._NAME_WIDTH=280;var o=i.i(a.c)({url:"/img/panel/score/m4/bg.png"});t.addChild(o),this.ctn=o;var c=new PIXI.Container;o.addChild(c),c.y=l.a.STAGE_HEIGHT-300,this.gameSection=new PIXI.Sprite,this.gameSection.x=926,this.gameSection.y=174,c.addChild(this.gameSection),i.i(a.a)("/img/panel/score/m2/score.png",function(t){var e=i.i(a.b)(t),n={text:"0",animations:{7:0,8:1,9:2,0:3,1:4,2:5,3:6,4:7,5:8,6:9},texture:e,frames:[[0,0,54,80],[55,0,54,80],[0,81,54,80],[55,81,54,80],[110,0,54,80],[110,81,54,80],[165,0,54,80],[165,81,54,80],[0,162,54,80],[55,162,54,80]]},o=new a.g(n);r.leftScoreText=o,o.x=822,o.y=140,o.align="center",c.addChild(o);var s=new a.g(n);r.rightScoreText=s,s.x=o.x+224,s.y=o.y,s.align="center",c.addChild(s)});var h=new p.a;h.x=850,h.y=225,c.addChild(h),this.lFoulText=h;var d=new p.a;d.x=967,d.y=h.y,c.addChild(d),this.rFoulText=d;var u={fontFamily:l.c.DigiLED,fontSize:"38px",fill:"#de172f",fontWeight:"normal"},f=new s.a("",u);c.addChild(f),f.x=919,f.y=193,this.timer=f,n.a.delayedCall(3e3,function(t){f.textInSec=0,d.setFoul(0),h.setFoul(0)});var y={fontFamily:l.c.MicrosoftYahei,fontSize:"30px",fill:"#fff",fontWeight:"normal"},g=new PIXI.Text("",y);g.x=f.x,g.y=f.y,g.visible=!1,c.addChild(g),this.winScoreText=g;var x={fontFamily:l.c.MicrosoftYahei,fontSize:"24px",fill:"#a0adb6",fontWeight:"bold"},v=new PIXI.Text("",x);this.gameIdx=v,v.x=908,v.y=105,c.addChild(v);var m={fontFamily:l.c.MicrosoftYahei,fontSize:"34px",fill:"#fff",fontWeight:"bold",stroke:"#000",strokeThickness:2,dropShadow:!0,dropShadowAngle:Math.PI/2,dropShadowColor:875666,dropShadowDistance:5},w=new PIXI.Text("",m);w.y=136,this.lPlayerName=w,c.addChild(w),m.dropShadowColor=4862264;var I=new PIXI.Text("",m);I.y=w.y,I.x=1326,this.rPlayerName=I,c.addChild(I);var _={fontFamily:l.c.Impact,fontSize:"28px",fill:"#fff",dropShadow:!0,dropShadowAngle:Math.PI/2,dropShadowColor:2835797,dropShadowDistance:5},b=new PIXI.Text("",_);b.x=420,b.y=202,this.lPlayerHeight=b,c.addChild(b);var P=new PIXI.Text("",_);P.y=b.y,this.lPlayerWeight=P,c.addChild(P),_.dropShadowColor=3485746;var T=new PIXI.Text("",_);T.x=1235,T.y=b.y,this.rPlayerHeight=T,c.addChild(T);var C=new PIXI.Text("",_);C.x=I.x-10,C.y=b.y,this.rPlayerWeight=C,c.addChild(C);var k=i.i(a.c)({url:"/img/panel/score/m4/avtMask.png"});c.addChild(k);var S=new PIXI.Sprite;this.lAvatar=S,c.addChild(this.lAvatar);var A=i.i(a.c)({url:"/img/panel/score/m4/avtMaskR.png"});c.addChild(A);var X=new PIXI.Sprite;this.rAvatar=X,c.addChild(this.rAvatar),S.mask=k,X.mask=A,k.x=652,k.y=122,S.x=k.x-2,S.y=76,X.x=1100,X.y=k.y,A.x=1118,A.y=X.y;var M={fontFamily:l.c.Impact,fontSize:"30px",fill:"#fff",dropShadow:!0,dropShadowAngle:Math.PI/2,dropShadowColor:2835797,dropShadowDistance:3},F=new PIXI.Text("",M);F.y=144,c.addChild(F),this.lRankingText=F,M.dropShadowColor=3485746;var O=new PIXI.Text("",M);O.y=F.y,c.addChild(O),this.rRankingText=O;var R={fontFamily:l.c.MicrosoftYahei,fontSize:"28px",fill:"#fff"},N=i.i(a.c)({url:"/img/panel/score/m4/rewardTex.png"});c.addChild(N);var L=i.i(a.c)({url:"/img/panel/score/m4/rewardTex.png"});c.addChild(L);var G=new PIXI.Text("",R);G.x=695,G.y=238,this.lRewardText=G,c.addChild(G);var W=new PIXI.Text("",R);this.rRewardText=W,W.x=1227-W.width,W.y=G.y,c.addChild(W),N.x=G.x,N.y=G.y+5,N.mask=G,L.x=W.x,L.y=W.y+5,L.mask=W}return t.prototype._drawRankingColor=function(t,e){t.beginFill(e).moveTo(25,0).lineTo(75,0).lineTo(100,50).lineTo(0,50)},t.prototype.set35ScoreLight=function(t){this.winScoreText.text=t+"球胜"},t.prototype.setGameIdx=function(t,e,n){var r=i.i(c.d)(t,2);if(n&&n.gameTitle)this.gameIdx.text=n.gameTitle;else if(console.log("isMaster",e),61==t)this.gameIdx.text="败者组决赛";else if(60==t)this.gameIdx.text="胜者组决赛";else if(62==t)this.gameIdx.text="决赛";else{var o=d.b[t];10==o?this.gameIdx.text="分组赛"+r:11==o?this.gameIdx.text="胜者组"+r:12==o&&(this.gameIdx.text="败者组"+r)}this.gameIdx.x=960-.5*this.gameIdx.width},t.prototype._showWinScore=function(){var t=this;this.winScoreText.visible=!0,this.timer.visible=!1,i.i(h.a)({target:this.winScoreText,time:100,loop:20,callback:function(){t.winScoreText.visible=!1,t.timer.visible=!0}})},t.prototype.setLeftScore=function(t){this.leftScoreText.text=t+"",this._showWinScore()},t.prototype.setScoreFoul=function(t){"leftScore"in t&&this.setLeftScore(t.leftScore),"rightScore"in t&&this.setRightScore(t.rightScore),"leftFoul"in t&&this.setLeftFoul(t.leftFoul),"rightFoul"in t&&this.setRightFoul(t.rightFoul)},t.prototype.setRightScore=function(t){this.rightScoreText.text=t+"",this._showWinScore()},t.prototype._setFoulText=function(t,e){var i=e+"";t.text=i},t.prototype.setLeftFoul=function(t){this.lFoulText.setFoul(t)},t.prototype.setRightFoul=function(t){this.rFoulText.setFoul(t)},t.prototype.resetTimer=function(){this.timer.resetTimer()},t.prototype.setTimer=function(t){this.timer.setTimeBySec(t)},t.prototype.toggleTimer=function(t){this.timer.toggleTimer(t)},t.prototype.resetScore=function(){this.setLeftScore(0),this.setRightScore(0),this.setLeftFoul(0),this.setRightFoul(0)},t.prototype._fixFtName=function(t,e){"GREENLIGHT"==e.toUpperCase()?(e="GREENLIGHT",t.style.fontSize="13px"):t.style.fontSize="22px",t.text=e,t.y=280-.5*t.height},t.prototype.cutName=function(t,e){t.width>e&&(t.text=t.text.substr(0,t.text.length-1),this.cutName(t,e))},t.prototype.setLeftPlayerInfo=function(t,e,n,s,l,c,h){var p=this;this._lFtId=l,this._loadFrame(c,this.lFrame),this.lPlayerName.text=i.i(o.a)(t),this.cutName(this.lPlayerName,this._NAME_WIDTH),this.lPlayerName.x=595-this.lPlayerName.width,r.a.loadTex(e,function(t){var e=p.lAvatar;e.texture=t;var i=153/t.width;e.x=e.mask.x,e.scale.x=e.scale.y=i,e.y=e.mask.y-.5*(e.height-e.mask.height)}),this.lPlayerHeight.text=s+" cm   |    "+n+" kg",i.i(a.h)(this.lPlayerHeight,515),h&&(console.log("lPlayer ranking data",h),this.lRankingText.text=h.text,this.lRankingText.x=632-.5*this.lRankingText.width)},t.prototype._loadFrame=function(t,e){},t.prototype.setRightPlayerInfo=function(t,e,n,s,l,c,h){var p=this;this._rFtId=l,this._loadFrame(c,this.rFrame),this.rPlayerName.text=i.i(o.a)(t),this.cutName(this.rPlayerName,this._NAME_WIDTH),r.a.loadTex(e,function(t){var e=p.rAvatar;e.texture=t;var i=153/t.width;e.x=e.mask.x,e.scale.x=e.scale.y=i,e.y=e.mask.y-.5*(e.height-e.mask.height)}),this.rPlayerHeight.text=s+" cm   |    "+n+" kg",i.i(a.h)(this.rPlayerHeight,1400),h&&(this.rRankingText.text=h.text,this.rRankingText.x=1293-.5*this.rRankingText.width)},t.prototype.setExPlayerInfo=function(t){var e="";e=0==t.lReward?"￥000.00":"￥"+t.lReward/1e3+",000";var i="";i=0==t.rReward?"￥000.00":"￥"+t.rReward/1e3+",000",this.lRewardText.text=e,this.rRewardText.text=i,t.lReward&&t.rReward||(this.lRewardText.text="",this.rRewardText.text="")},t.prototype.getPlayerInfo=function(t){var e={};return t?(e.name=this.lPlayerName.text,e.info=this.lPlayerHeight.text+" CM "+this.lPlayerWeight.text+" KG",e.ftId=this._lFtId):(e.name=this.rPlayerName.text,e.info=this.rPlayerHeight.text+" CM "+this.rPlayerWeight.text+" KG",e.ftId=this._rFtId),e},t.prototype.show=function(){this.ctn.visible=!0},t.prototype.hide=function(){this.ctn.visible=!1},t}()},187:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(e,i){var n=t.call(this)||this,r=new PIXI.BaseTexture(e),o=function(t,e,i,n){return new PIXI.Sprite(new PIXI.Texture(r,new PIXI.Rectangle(t,e,i,n)))},a=o(0,0,i.x,i.y);n.addChild(a),n.lt=a,n.t=o(i.x,0,i.width,i.y),n.t.x=i.x,n.addChild(n.t);var s=o(i.x+i.width,0,r.width-i.x-i.width,i.y);return s.x=i.x+i.width,n.addChild(s),n.rt=s,n.r=o(i.x+i.width,i.y,r.width-i.x-i.width,i.height),n.r.x=i.x+i.width,n.r.y=i.y,n.addChild(n.r),n.rb=o(i.x+i.width,i.y+i.height,r.width-i.x-i.width,r.height-i.y-i.height),n.rb.x=i.x+i.width,n.rb.y=i.y+i.height,n.addChild(n.rb),n.b=o(i.x,i.y+i.height,i.width,r.height-i.y-i.height),n.b.x=i.x,n.b.y=i.y+i.height,n.addChild(n.b),n.lb=o(0,i.y+i.height,i.x,r.height-i.y-i.height),n.lb.y=i.y+i.height,n.addChild(n.lb),n.l=o(0,i.y,i.x,i.height),n.l.y=i.y,n.addChild(n.l),n}return n(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._w},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._h},enumerable:!0,configurable:!0}),e.prototype.resize=function(t,e){this._w=t,this._h=e;var i=t-this.lt.width-this.rt.width;this.t.width=i,this.b.width=i,this.rt.x=this.lt.width+i,this.r.x=this.lt.width+i,this.rb.x=this.lt.width+i;var n=e-this.lt.height-this.lb.height;this.l.height=n,this.r.height=n,this.lb.y=this.lt.height+n,this.b.y=this.lt.height+n,this.rb.y=this.lt.height+n},e}(PIXI.Container)},188:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(3),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o={PAUSE:0,RUNNING:1},a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeInSec=0,e.timerId=null,e.isMin=!1,e}return r(e,t),Object.defineProperty(e.prototype,"textInSec",{set:function(t){this.setTimeBySec(t)},enumerable:!0,configurable:!0}),e.prototype.setTimeBySec=function(t){this.timeInSec=t,this.text=i.i(n.i)(this.timeInSec)},e.prototype.toggleTimer=function(t){var e=this,r=function(){e.timerId&&(clearInterval(e.timerId),e.timerId=0,e.timerState=o.PAUSE)},a=function(){e.timerId&&clearInterval(e.timerId),e.timerId=setInterval(function(){e.isMin?--e.timeInSec<0&&(e.timeInSec=0):e.timeInSec++,e.text=i.i(n.i)(e.timeInSec)},1e3),e.timerState=o.RUNNING};null!=t?t==o.PAUSE?r():t==o.RUNNING&&a():this.timerId?r():a()},e.prototype.resetTimer=function(){this.timeInSec=0,this.timerState=o.PAUSE,this.text=i.i(n.i)(this.timeInSec)},e}(PIXI.Text)},2:function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"a",function(){return r}),i.d(e,"d",function(){return o}),i.d(e,"b",function(){return a});var n={MicrosoftYahei:"Microsoft Yahei",Impact:"impact",DigiLED:"digital"},r={STAGE_WIDTH:1920,STAGE_HEIGHT:1080},o={PAUSE:0,RUNNING:1,RESET:-1},a=["/img/panel/process/bg.png","/img/panel/process/title.png","/img/panel/process/titleTex.png","/img/panel/process/playerBg.png","/img/panel/process/tabFocus.png","/img/panel/process/final8Bg.png","/img/panel/process/final8Line.png","/img/panel/process/vs.png","/img/panel/score/m4/winBg.png","/img/panel/score/m4/winPlayerBg.png"]},23:function(t,e,i){"use strict";function n(t){function e(t){i.visible&&a>0?new r.a(i).to({alpha:t},n).call(function(){a-=1,e(t?0:1)}).start():(o&&o(),a=-1)}var i=t.target,n=t.time||80,o=t.callback,a=t.loop||1/0;e(1)}e.a=n;var r=i(8)},29:function(t,e,i){"use strict";function n(t){var e=t.x,i=t.y,n=t.hints?t.hints:["",""],r={font:"25px",fill:"#fff",align:"right"},a=new PIXI.Text("",r);a.y=8;var s=new PIXI.Text("",r);s.y=61,a.x=s.x=188;var l={fontSize:"25px",fontFamily:o.c.MicrosoftYahei,fontWeight:"bold"},c=new PIXI.Text("",l);c.x=3,c.y=8;var h=new PIXI.Text("",l);return h.x=c.x,h.y=c.y+50,{x:e,y:i,labels:[c,h],hints:n,winIdx:-1,scores:[a,s]}}function r(t,e,i){console.log(t.width,e),t.width>e&&(t.style.fontSize=i+"px",r(t,e,i-1))}e.a=r,i.d(e,"b",function(){return a});var o=i(2),a={1:n({x:320,y:91,hints:["1号种子 ","8号种子 "]}),2:n({x:320,y:232,hints:["4号种子 ","5号种子 "]}),3:n({x:320,y:403,hints:["2号种子 ","7号种子 "]}),4:n({x:320,y:544,hints:["3号种子 ","6号种子 "]}),5:n({x:320,y:806,hints:["第1场败者 ","第2场败者 "]}),6:n({x:320,y:947,hints:["第3场败者 ","第4场败者 "]}),7:n({x:671,y:162}),8:n({x:671,y:476}),9:n({x:664,y:893,hints:["第7场败者 ",""]}),10:n({x:664,y:751,hints:["第8场败者 ",""]}),11:n({x:1067,y:319}),12:n({x:1020,y:825}),13:n({x:1366,y:770,hints:["第11场败者 ",""]}),14:n({x:1463,y:396,hints:["","第13场胜者 "]})},s=(function(){function t(t){this.idx=t,this.playerArr=[new s,new s]}}(),function(){function t(){this.isHint=!1,this.isWin=!1,this.score=0}return t}())},3:function(t,e,i){"use strict";function n(t){return function(e,i){return e[t]-i[t]}}function r(t){return function(e,i){return i[t]-e[t]}}function o(t,e){var i=[];for(var n in t)i.push(t[n]);return e&&(i=JSON.parse(JSON.stringify(i))),i}function a(t,e,i){var n=new Image;n.onload=function(){e(n)},null!=i&&(n.onerror=function(t){i(t)}),n.src=t}function s(t,e){function i(){0===--o&&(o=-1,e(n))}var n,r,o=t.length;o&&t[0].hasOwnProperty("name")&&t[0].hasOwnProperty("url")?(r=!1,n={}):(r=!0,n=[]);for(var a,s,l=0;l<t.length;l++){var c=t[l];a=new Image,r?(n.push(a),s=c):(n[c.name]=a,s=c.url),a.onload=i,a.src=s}}function l(t,e,i){void 0===e&&(e=":"),void 0===i&&(i="");var n=Math.floor(t/60),r=t%60,o=n+"",a=r+"";return n<10&&(o="0"+o),r<10&&(a="0"+a),o+e+a+i}function c(t,e,i){void 0===i&&(i=0);for(var n=0,r=t.length,o=new String,a="",s=0,l=0;l<r&&!(0!=i&&s>i);l++){var c=t.charAt(l);n++,s++,escape(c).length>4&&(n++,s++),o=o.concat(c),n>=e&&(a+=o.concat("\n"),o=new String,n=0)}return a+=o}function h(t,e,i){var n=void 0!==i?i:"0",r=new Array(1+e).join(n);return(r+t).slice(-r.length)}e.c=n,e.a=r,e.e=o,e.g=a,e.f=s,e.i=l,e.h=c,i.d(e,"b",function(){return p}),e.d=h;var p=function(t,e){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e}},39:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(t){var e=1,i=function(i,n,r){var o=t[i],a=n.split("."),s=a[0],l=Number(a[1]);a=r.split(".");var c=a[0],h=Number(a[1]),p=t[s],d=t[c];0==o.score[0]&&0==o.score[1]||(e++,5==i&&console.log("toWin",p,"toLose",d,h),o.score[0]>o.score[1]?(p.player[l]=o.player[0],"x"!=c&&(d.player[h]=o.player[1])):(p.player[l]=o.player[1],"x"!=c&&(d.player[h]=o.player[0])))};return i(1,"9.1","16.1"),i(2,"10.1","15.1"),i(3,"11.1","14.1"),i(4,"12.1","13.1"),i(5,"21.1","13.0"),i(6,"22.1","14.0"),i(7,"23.1","15.0"),i(8,"24.1","16.0"),i(9,"21.0","17.0"),i(10,"22.0","18.0"),i(11,"23.0","19.0"),i(12,"24.0","20.0"),i(13,"17.1","x.0"),i(14,"18.1","x.0"),i(15,"19.1","x.0"),i(16,"20.1","x.0"),i(17,"27.1","x.0"),i(18,"28.1","x.0"),i(19,"25.1","x.0"),i(20,"26.1","x.0"),i(21,"31.0","25.0"),i(22,"31.1","26.0"),i(23,"32.0","27.0"),i(24,"32.1","28.0"),i(25,"29.1","x.0"),i(26,"29.0","x.0"),i(27,"30.1","x.0"),i(28,"30.0","x.0"),i(29,"34.1","x.0"),i(30,"33.1","x.0"),i(31,"36.0","33.0"),i(32,"36.1","34.0"),i(33,"35.1","x.0"),i(34,"35.0","x.0"),i(35,"37.1","x.0"),i(36,"38.0","37.0"),i(37,"38.1","x.0"),{incoming:e}}},4:function(t,e,i){"use strict";function n(t){return new PIXI.Texture(new PIXI.BaseTexture(t))}function r(t){var e=t.url,i=t.isCrossOrigin,r=t.callback,a=new PIXI.Sprite;return o(e,function(t){a.texture=n(t),r&&r(a)},i),a}function o(t,e,n){if(n){var r=new XMLHttpRequest;r.open("GET",i.i(f.c)(t),!0),r.onload=function(t){i.i(u.g)(r.responseText,e)},r.send()}else i.i(u.g)(t,e)}function a(t){var e=t.width,i=t.height,r=t.url,a=t.callback,s=t.isCrossOrigin;o(r,function(t){l.texture=n(t),a&&a(l)},s);var l=new PIXI.extras.TilingSprite(g,e,i);return l}function s(t){var e,i=t.isTiling;return e=i?a(t):r(t),e.x=t.x?t.x:0,e.y=t.y?t.y:0,e}function l(t,e){t.scale.x=t.scale.y=e}function c(t,e){t.x=e-.5*t.width}function h(t,e){t.width>e&&(t.text=t.text.substring(0,t.text.length-1),h(t,e))}function p(t){t.__parent&&t.__parent.addChild(t)}e.b=n,e.a=o,e.c=s,i.d(e,"g",function(){return x}),i.d(e,"e",function(){return v}),e.d=l,e.h=c,e.i=h,e.f=p;var d=i(2),u=i(3),f=i(0),y=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),g=n(null),x=function(t){function e(e){var i=t.call(this)||this;i.mapSprite={};var r=e.text;return i.animations=e.animations,i.frames=e.frames,i.digis={},i._digiCtn=new PIXI.Container,i.addChild(i._digiCtn),i.text=r,e.texture?(i._tex=e.texture,i.updateTex()):e.img&&o(e.img,function(t){i._tex=n(t),i.updateTex()}),i}return y(e,t),e.prototype.updateTex=function(){for(var t in this.digis){this.digis[t].sp.texture=this._tex}},Object.defineProperty(e.prototype,"text",{set:function(t){for(var e=0,i=t.charAt(e);""!=i;){var n=this.animations[i];if(n>-1){var r=this.frames[n],o=r[0],a=r[1];this._frameWidth||(this._frameWidth=r[2]),this._frameHeight||(this._frameHeight=r[3]),this.digis[e]||(this.digis[e]=this._makeFrame(this._frameWidth,this._frameHeight));var s=this.digis[e];s.x=e*this._frameWidth,s.idx=e,s.sp.x=-o,s.sp.y=-a,e+=1,i=t.charAt(e)}}this._digiWidth=(e-1)*this._frameWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{set:function(t){console.log("align right",this._digiWidth),"left"==t?this._digiCtn.x=0:"center"==t?this._digiCtn.x=.5*-this._digiWidth:"right"==t&&(this._digiCtn.x=-this._digiWidth)},enumerable:!0,configurable:!0}),e.prototype._makeFrame=function(t,e){var i=new PIXI.Container;this._digiCtn.addChild(i);var n=new PIXI.Graphics;n.beginFill(16711680).drawRect(0,0,t,e).endFill(),i.addChild(n);var r=new PIXI.Sprite(this._tex);return i.addChild(r),r.mask=n,i.sp=r,i},e}(PIXI.Container),v=function(t,e,i){void 0===t&&(t=.8),e||(e=d.a.STAGE_WIDTH),i||(i=d.a.STAGE_HEIGHT);var n=new PIXI.Graphics;return n.drawRect(0,0,e,i).alpha=t,n};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}y(e,t),Object.defineProperty(e.prototype,"text",{set:function(t){this._text=t,this.align},enumerable:!0,configurable:!0})}(PIXI.Text)},40:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(3),r=i(12),o=function(){function t(){}return t.getReward=function(e,i,n,r,o){return void 0===r&&(r=!1),void 0===o&&(o={}),t._getReward(e,i,n,r,o)},t._getReward=function(e,n,o,a,s){void 0===a&&(a=!1);var l=i.i(r.a)(e),c=t.calcReward(e,l.winLoseMap);for(var h in c)if(s[h]){var p=s[h].hupuID,d=t.sumRewardArr(c[h]);console.log("reward2",p,d)}var u=c[n],f=c[o];if(a)return[u,f];var y=0;if(u)for(var g=0,x=u;g<x.length;g++){var v=x[g];y+=v}var m=0;if(f)for(var w=0,I=f;w<I.length;w++){var v=I[w];m+=v}return[y,m]},t.sumRewardArr=function(t){for(var e=0,i=0,n=t;i<n.length;i++){e+=n[i]}return e},t.calcReward=function(t,e){for(var i={},n=function(t,n,r){i[t]||(i[t]=[]),i[r]||(i[r]=[]);var o=i[t],a=i[r];n>16&&(62==n?(o.push(5e4),a.push(2e4)):(61==n&&a.push(1e4),59==n&&a.push(5e3),e[n]?o.push(2e3):o.push(1e3)))},r=0;r<62;r++){var o=r+1,a=t[r+1],s=a.score[0],l=a.score[1];console.log("reward idx",o),0==s&&0==l||(s>l?n(a.player[0],o,a.player[1]):n(a.player[1],o,a.player[0]))}var c=0;for(var h in i)for(var p=i[h],d=0,u=0,f=p;u<f.length;u++){var a=f[u];c+=a,d+=a}return console.log("total reward ",c),i},t.final4Reward=function(e,i,n){return t.getReward(e,"p1","p2",!1,i)},t.final4Reward2=function(t,e,r){var o=t[59].player,a=t[60].player,s=this.getReward(t,o[0],o[1]),l=this.getReward(t,a[0],a[1]),c=[{player:o[0],reward:s[0],data:null},{player:o[1],reward:s[1],data:null},{player:a[0],reward:l[0],data:null},{player:a[1],reward:l[1],data:null}];c=c.sort(i.i(n.a)("reward")),r.text="",r.visible=!0;for(var h=0,p=c;h<p.length;h++){var d=p[h];d.data=e[d.player],r.text+=d.data.hupuID+" :￥"+d.reward/1e3+",000       "}return c},t}()},41:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={resetTimer:"",sc_startTimer:"",sc_pauseTimer:"",sc_resetTimer:"",cs_setDelayTime:"",sc_setDelayTime:"",sc_setTimer:"",sc_toggleTheme:"",sc_showChampion:"",sc_toggleScorePanel:"",sc_toggleChampionPanel:"",sc_showNotice:"",sc_setFxPoint:"",sc_playScoreFx:"",sc_setBdVisible:""};for(var r in n)n[r]=r},65:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(4),r=i(10),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(e,o){var a=t.call(this)||this;return a.isLoaded=!1,a.avtWidth=o,r.a.loadTex(e,function(t){a.isLoaded=!0,a.msk=new PIXI.Sprite(t),i.i(n.d)(a.msk,a.avtWidth/t.width),a.addChild(a.msk),a.avt=new PIXI.Sprite,a.addChild(a.avt),a.avt.mask=a.msk,a.waitUrl&&(a.load(a.waitUrl),a.waitUrl=null)}),a}return o(e,t),e.prototype.load=function(t){var e=this;t&&(this.isLoaded?r.a.loadTex(t,function(t){var i=e.avt;i.texture=t;var n=e.avtWidth/t.width;i.x=i.mask.x,i.scale.x=i.scale.y=n,i.y=i.mask.y-.5*(i.height-i.mask.height)}):this.waitUrl=t)},e}(PIXI.Container)},66:function(t,e,i){"use strict";i.d(e,"b",function(){return l}),i.d(e,"a",function(){return p});var n=i(23),r=i(10),o=i(4),a=i(172),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=2,c={"1.0":"L1",1.1:"R1","2.0":"L2",2.1:"R2","3.0":"L3",3.1:"R3","4.0":"L4",4.1:"R4","5.0":"L5",5.1:"R5","6.0":"L6",6.1:"R6","7.0":"L7",7.1:"R7","8.0":"L8",8.1:"R8","9.0":"L9","10.0":"R9","11.0":"L10","12.0":"R10"},h=[29,30,33,34,35],p=function(t){function e(e){var s=t.call(this)||this;s.gameMap={},s.playerNameMapPoker={},e.addChild(s);var c=i.i(o.c)({url:"/img/panel/bracket/final/bracketBg.png"});s.addChild(c);var p=i.i(o.c)({url:"/img/panel/bracket/final/bracket.png"});s.addChild(p);var d=395,u={1:[78,82],2:[78,241],3:[78,400],4:[78,562],5:[d,123],6:[d,279],7:[d,439],8:[d,601],9:[d,45],10:[d,201],11:[d,359],12:[d,519],13:[78,990],14:[78,910],15:[78,830],16:[78,750],17:[365,970],18:[365,890],19:[365,810],20:[365,730],21:[712,82],22:[712,242],23:[712,402],24:[712,562],25:[652,790],26:[652,710],27:[652,950],28:[652,870],29:[930,750],30:[930,910],31:[1030,162],32:[1030,482],33:[1168,870],34:[1168,710],35:[1405,795],36:[1345,320],37:[1650,758],38:[1662,448]};s.posMap=u;var f={29:!0,30:!0,33:!0,34:!0,35:!0},y=[13,14,15,16,17,18,19,20,25,26,27,28,37],g=function(t,e){r.a.loadTex(t,function(t){var i=new PIXI.Sprite;i.texture=t;var n=u[e];n[0]*=l,n[1]*=l,s.addChild(i),i.x=n[0],i.y=n[1];var r=Boolean(f[e]),o=new a.a(r);o.setInfo("","");var c=new a.a(r);c.x=o.x,c.y=o.y+37*l,c.setInfo("",""),i.addChild(o),i.addChild(c),s.gameMap[e]=[o,c]})};return r.a.loadTexArr(["/img/panel/bracket/final/pokerBlack.png","/img/panel/bracket/final/pokerRed.png","/img/panel/bracket/final/winHint.png","/img/panel/bracket/final/groupBg1.png","/img/panel/bracket/final/groupBg2.png","/img/panel/bracket/final/groupBg3.png"],function(t){for(var e=0;e<38;e++){var r=e+1,a="/img/panel/bracket/final/groupBg1.png";y.indexOf(r)>-1?a="/img/panel/bracket/final/groupBg2.png":h.indexOf(r)>-1&&(a="/img/panel/bracket/final/groupBg3.png"),g(a,r)}var l=new PIXI.Sprite;s.addChild(l),s.incomingSp=l,i.i(n.a)({target:s.incomingSp,time:600}),s.initKey(),i.i(o.d)(s,.5)},!1),s}return s(e,t),e.prototype.setFirstView=function(){this.x=0,this.scale.x=this.scale.y=.8,this.y=-30},e.prototype.initKey=function(){var t=this;window.onkeyup=function(e){219==e.keyCode?(console.log("zoom out"),t.scale.x=t.scale.y=.5,t.x=t.y=0):81==e.keyCode?t.setFirstView():65==e.keyCode?(t.x=0,t.y=-1080,t.scale.x=t.scale.y=1):87==e.keyCode?(t.x=-576,t.y=0,t.scale.x=t.scale.y=1):83==e.keyCode?(t.x=-384,t.y=-1080,t.scale.x=t.scale.y=1):69==e.keyCode?(t.x=-1920,t.y=-50,t.scale.x=t.scale.y=1):68==e.keyCode?(t.x=-1920,t.y=-1080,t.scale.x=t.scale.y=1):221==e.keyCode&&(console.log("zoom in"),t.scale.x=t.scale.y=1),console.log("key up",e.keyCode)};var e=!1,i=function(i){e&&.5!=t.scale.x&&(t.x+=i.movementX,t.y+=i.movementY,t.x>0&&(t.x=0),t.y>0&&(t.y=0),t.x<-1920&&(t.x=-1920),t.y<-1080&&(t.y=-1080))};window.onmousemove=function(t){i(t)},window.onmouseup=function(t){e=!1},window.onmousedown=function(t){e=!0}},e.prototype.setRec=function(t,e){for(var i=this,n={},o=0;o<38;o++){var a=o+1,s=t[a],l=this.gameMap[a];console.log("gameIdx",a,l);var p=l[0],d=l[1],u=[c[a+".0"],c[a+".1"]];console.log("gameIdx",a,u),u[0]&&(n[s.player[0]]=u[0]),u[1]&&(n[s.player[1]]=u[1]),s.poker=[n[s.player[0]],n[s.player[1]]],s.player[0]&&p.setInfo(s.player[0],s.score[0],s.poker[0]),s.player[1]&&d.setInfo(s.player[1],s.score[1],s.poker[1]);var f=Number(s.score[0]),y=Number(s.score[1]);p.setWin(1),d.setWin(1),0==f&&0==y?(p.winSp.visible=!1,d.winSp.visible=!1):f<y?p.setWin(.3):d.setWin(.3)}var g=this.posMap[e],x="/img/panel/bracket/final/incoming.png";h.indexOf(e)>-1&&(x="/img/panel/bracket/final/incoming2.png"),r.a.loadTex(x,function(t){g&&(i.incomingSp.x=g[0]-34,i.incomingSp.y=g[1]-34),i.incomingSp.texture=t})},e}(PIXI.Container)},67:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(4),r=i(8),o=i(68),a=i(10),s=i(2),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){var e=t.call(this)||this;return e.isPlaying=!1,e.ctn=new PIXI.Container,e.addChild(e.ctn),a.a.loadTex("/img/panel/bracket/final/playerBg1.png",function(t){var r=new PIXI.Sprite;r.texture=t,e.bg=r;var a=new PIXI.Sprite;a.x=61,a.y=39;var l=new PIXI.Graphics;l.x=a.x,l.y=a.y,l.beginFill(16711680).drawCircle(105,105,105),e.ctn.addChild(a),a.mask=l,e.ctn.addChild(l),e.avt=a,e.ctn.addChild(r);var c={fill:"#000",fontWeight:"bold",fontFamily:s.c.MicrosoftYahei,fontSize:"32px"},h=new PIXI.Text("",c);h.x=20,h.y=255,e.ctn.addChild(h),e.nameText=h;var p=new PIXI.Text("",c);p.x=20,p.y=305,e.ctn.addChild(p),p.style.fontSize="25px",e.infoText=p;var d=new PIXI.Sprite,u={fontWeight:"bold",fontFamily:s.c.MicrosoftYahei,fontSize:"50px"},f=new PIXI.Text("A",u);f.y=65,d.label=f,d.addChild(f),d.x=25,d.y=25,e.pokerSpTop=d,e.ctn.addChild(d);var y=new PIXI.Sprite;f=new PIXI.Text("A",u),y.label=f,f.y=65,y.addChild(f),y.x=308,y.y=340,y.rotation=180*PIXI.DEG_TO_RAD,e.pokerSpBottom=y,e.ctn.addChild(y),i.i(n.d)(y,.6),i.i(n.d)(d,.6);var g=new o.a("/img/panel/bracket/final/poker8/poker_8_",0,13);g.y=-72,g.x=-87,e.addChild(g),e.fx=g,g.on("complete",function(t){e.isPlaying=!1,e.fx.visible=!1,e.ctn.visible=!0,console.log("complete",e.pokerSpTop,e.nameText)})}),e}return l(e,t),e.prototype.playOnce=function(){if(!this.isPlaying){this.isPlaying=!0;var t=this.fx;t.visible=!0,this.ctn.visible=!1,t.playOnce()}},e.prototype.setPoker=function(t){var e=this;this.pokerStr=t;var r,o,s=t.charAt(0);"L"==s?(r="/img/panel/bracket/final/pokerBlack.png",o="#000"):"R"==s&&(r="/img/panel/bracket/final/pokerRed.png",o="#d40d0d"),a.a.loadTex(r,function(t){e.pokerSpTop.texture=t,e.pokerSpBottom.texture=t}),this.pokerSpBottom.label.style.fill=o,this.pokerSpTop.label.style.fill=o;var l=t.substring(1);"1"==l&&(l="A"),this.pokerSpBottom.label.text=l,this.pokerSpTop.label.text=l,i.i(n.h)(this.pokerSpBottom.label,30),i.i(n.h)(this.pokerSpTop.label,30)},e.prototype.setInfo=function(t){var e=this;this.nameText.text=t.name,i.i(n.i)(this.nameText,230),i.i(n.h)(this.nameText,164),this.infoText.text=t.height+" CM /"+t.weight+" KG",i.i(n.h)(this.infoText,164),a.a.loadTex(t.avatar,function(t){e.avt.texture=t,t.width>t.height?i.i(n.d)(e.avt,210/t.height):i.i(n.d)(e.avt,210/t.width),e.playOnce()})},e.prototype.toPos=function(t,e,o,a,s){var l=this,c=this;r.a.to(c,300,{x:o,y:a-100}).call(function(r){c.x=t,c.y=e,l.reset(),i.i(n.d)(c,1),s()}),r.a.to(c.scale,150,{x:.05,y:.05})},e.prototype.reset=function(){this.isPlaying=!1,console.log("poker reset",this.pokerStr),this.ctn.visible=!1,this.fx.visible=!0,this.fx.gotoAndStop(0)},e}(PIXI.Container)},68:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(3),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function e(e,r,o,a){void 0===a&&(a=2);for(var s=t.call(this)||this,l=[],c=r;c<o+1;c++)l.push(e+i.i(n.d)(c,a)+".png");for(var h=[],p=0;p<l.length;p++){var d=PIXI.Texture.fromImage(l[p]);h.push(d)}var u=new PIXI.extras.AnimatedSprite(h);return u.animationSpeed=.3,u.loop=!1,s.addChild(u),s.mc=u,u.onComplete=function(){s.emit("complete")},s}return r(e,t),e.prototype.onComplete=function(t){},e.prototype.show=function(){this.mc.play()},e.prototype.gotoAndStop=function(t){this.mc.gotoAndStop(t)},e.prototype.playOnce=function(){this.mc.gotoAndStop(0),this.mc.play()},e}(PIXI.Container)},69:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=function(){function t(t){this._x=0,this._y=0,this.hAlign="left",this.vAlign="top",this.t=t}return Object.defineProperty(t.prototype,"text",{get:function(){return this.t.text},set:function(t){this.t.text=t,this.x=this._x,this.y=this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,"right"==this.hAlign?(console.log("set x right"),this.t.x=this._x-this.t.width):"center"==this.hAlign?this.t.x=this._x-.5*this.t.width:this.t.x=this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,"bottom"==this.vAlign?this.t.y=this._y-this.t.height:"middle"==this.vAlign?this.t.y=this._y-.5*this.t.height:this.t.y=this._y},enumerable:!0,configurable:!0}),t}(),r=function(){function t(t){this.lastX=0,this.lastY=0,this.ctn=t}return t.prototype._cloneStyle=function(t){var e={};for(var i in t)e[i]=t[i];return e},t.prototype.add=function(t){var e=t.style;e=this._cloneStyle(e);var i=new PIXI.Text(t.text||"",e);t.parent?t.parent.addChild(i):this.ctn.addChild(i);var r=new n(i);return r.hAlign=t.hAlign||"left",r.x=t.x||0,r.y=t.y||0,this.lastX=r.x,this.lastY=r.y,r},t}()},7:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={init:"",pull:"",cs_pull:"",cs_showNotice:"",sc_showNotice:"",cs_showRollText:"",sc_showRollText:"",sc_showImg:"",cs_showImg:"",sc_showPoker:"",cs_showPoker:"",sc_showPokerPlayer:"",cs_showPokerPlayer:"",cs_init:"",sc_init:"",cs_bracketInit:"",sc_bracketInit:"",cs_bracket20Init:"",sc_bracket20Init:"",cs_showGameProcess:"",sc_showGameProcess:"",cs_bracket24Init:"",sc_bracket24Init:"",cs_startGame:"",sc_startGame:"",cs_showGroupRank:"",sc_showGroupRank:"",cs_showChampion:"",sc_showChampion:"",cs_showGamePlayerInfo:"",sc_showGamePlayerInfo:"",cs_showVictory:"",sc_showVictory:"",cs_startTimer:"",sc_startTimer:"",cs_setTimer:"",sc_setTimer:"",cs_commit:"",sc_commit:"",cs_score:"",sc_score:"",cs_showScore:"",sc_showScore:"",cs_panelCreated:"",sc_panelCreated:"",cs_bracketCreated:"",sc_bracketCreated:"",cs_bracket20Created:"",sc_bracket20Created:"",cs_bracket24Created:"",sc_bracket24Created:"",cs_srvCreated:"",sc_srvCreated:""};for(var r in n)n[r]=r},8:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(t){this.target=t,this.eventArr=[]}return t.prototype.to=function(t,e){return this.eventArr.push({event:"to",data:{vars:t,duration:e}}),this},t.prototype.delay=function(t){return this.eventArr.push({event:"delay",data:{duration:t}}),this},t.prototype.update=function(t){return this.updateFunc=t,this},t.prototype.start=function(){var t=this,e=function(){var i=t.eventArr.shift();if(i)if("to"==i.event){var n={};for(var r in i.data.vars)n[r]=t.target[r];new TWEEN.Tween(n).to(i.data.vars,i.data.duration).onUpdate(function(){for(var e in i.data.vars)t.target[e]=n[e];t.updateFunc&&t.updateFunc(t.target)}).onComplete(function(){e()}).start()}else"delay"==i.event?new TWEEN.Tween({_:0}).to({_:0},i.data.duration).onComplete(function(){e()}).start():"call"==i.event&&(i.data.callback(t),e());else t.target=null,t.eventArr=null,t.vars=null};return e(),this},t.prototype.call=function(t){return t&&this.eventArr.push({event:"call",data:{callback:t}}),this},t.to=function(e,i,n,r){return new t(e).to(n,i).call(r).start()},t.delayedCall=function(e,i){new t({_:0}).delay(e).call(i).start()},t}()},82:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(170),r=i(0),o=i(7),a=i(12),s=function(){function t(t){console.log("init backend view"),this.backend=new n.a,t.addChild(this.backend),this.initLocal()}return t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(t){setTimeout(function(t){i.i(r.b)("/emit/"+o.a.cs_bracket24Created,{_:null})},3e3),console.log("connect",window.location.host)}).on(""+o.a.sc_bracket24Init,function(e){console.log("sc_bracket24Init",e),t.onBracketData(e.rec)})},t.prototype.onBracketData=function(t){var e=i.i(a.a)(t);this.backend.setRec(t,e.incoming)},t}()},83:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(4),r=i(8),o=i(66),a=i(0),s=i(7),l=i(39),c=i(67),h=function(){function t(t){this.pokerPlayerArr=[],this.bracket=new o.a(t),this.pokerCtn=new PIXI.Container,t.addChild(this.pokerCtn),this.initPokerPanel(),this.initLocal()}return t.prototype.initPokerPanel=function(){var t=i.i(n.e)(.9,1500,1080);t.x=1060,this.pokerCtn.addChild(t);var e=new c.a;this.pokerPlayer=e,e.x=1130,e.y=640,this.pokerCtn.visible=!1;for(var r=0;r<10;r++){var o=new c.a;o.x=1130+50*(r+1),o.y=e.y,this.pokerPlayerArr.push(o),this.pokerCtn.addChildAt(o,1)}this.pokerCtn.addChild(e)},t.prototype.onBracketData=function(t){var e=i.i(l.a)(t);this.bracket.setRec(t,e.incoming)},t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(t){setTimeout(function(t){i.i(a.b)("/emit/"+s.a.cs_bracket20Created,{_:null})},3e3),console.log("connect",window.location.host)}).on(""+s.a.sc_bracket20Init,function(e){console.log("sc_bracketInit",e),t.onBracketData(e.rec)}).on(""+s.a.sc_showPokerPlayer,function(e){console.log("sc_showPokerPlayer",e,t.pokerPlayer),t.pokerPlayer.reset(),t.pokerPlayer.setPoker(e.pokerStr),t.pokerPlayer.setInfo(e.playerData.data),r.a.delayedCall(2500,function(i){var n=e.pokerStr.substring(1),o=t.bracket.posMap[n];if(console.log("toPos",o,n),o){t.pokerPlayer.toPos(1130,640,o[0],o[1],function(e){for(var i=0;i<t.pokerPlayerArr.length;i++){var n=t.pokerPlayerArr[i];r.a.to(n,80*i,{x:1130+50*(i+1)})}});for(var a=0;a<t.pokerPlayerArr.length;a++){var s=t.pokerPlayerArr[a];r.a.to(s,30*a,{x:1130})}}})}).on(""+s.a.sc_showPoker,function(e){console.log("sc_showPokerPlayer",e,t.pokerPlayer),t.pokerCtn.visible=e.visible,e.visible&&t.bracket.setFirstView()})},t}()},84:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(0),r=i(14),o=i(2),a=i(7),s=i(173),l=i(29),c=function(){function t(t,e,i){var n=this;console.log("BracketView isMon: ",i),this.isMonth=i,this.bracket=new s.a(t),this.isMonth?this.initManmaul():(this.bracket.visible=!1,window.onkeyup=function(t){console.log(t),"ArrowLeft"==t.key||"ArrowRight"==t.key||("Tab"==t.key?n.bracket.visible=!n.bracket.visible:t.key)},this.getPreRoundInfo(e),this.initAuto(Number(e))),this.initLocal()}return t.prototype.initManmaul=function(){},t.prototype.getPreRoundInfo=function(t){},t.prototype.showComingIdx=function(t){this.bracket.showComingIdx(t)},t.prototype.hide=function(){},t.prototype.show=function(){},t.prototype.getFtBracketInfo=function(){},t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(e){t.isMonth&&!t.isInit&&(t.isInit=!0,i.i(n.b)("/emit/"+a.a.cs_bracketCreated,{_:null})),console.log("connect",window.location.host)}).on(""+a.a.sc_bracketInit,function(e){console.log("sc_bracketInit"),delete e._,t.onBracketData({data:e})})},t.prototype.initAuto=function(t){var e=this,n=function(i){var n=io.connect(i);n.on("connect",function(){t?(console.log("hupuAuto socket connected GameId",t),n.emit("passerbyking",{game_id:t,page:"top8Map"})):(e.getFtBracketInfo(),console.log("connected local /rkb"))});var r={};r.top8Match=function(t){console.log("top8Match",t),t.data=t.list,e.onBracketData(t)},r.startGame=function(i){console.log("startGame",i),e.getPreRoundInfo(t)},r.init=function(t){console.log("init",t)},r.commitGame=function(i){console.log("commitGame",i),e.getPreRoundInfo(t)},r.updateScore=function(t){e.bracket.hideComing()},n.on("wall",function(t){var e=t.et;console.log("event:",e,t),r[e]&&r[e](t)})};t?i.i(r.f)(function(t){n(t)}):n("/rkb")},t.prototype.onBracketData=function(t){var e={},n=new PIXI.TextStyle({fontSize:"25px",fill:"#e1e1e1",align:"right",fontFamily:o.c.MicrosoftYahei});console.log("onBracketData",t.data);for(var r in t.data){var a=t.data[r],s=l.b[r];s.idx=Number(r),(Number(a.left.score)||Number(a.right.score))&&(a.left.score>a.right.score?this.bracket.setWinHint(s.hint1,!0):this.bracket.setWinHint(s.hint2),e[r]=!0),a.left.name&&(s.labels[0].style=n),a.right.name&&(s.labels[1].style=n);var c=s.hints;s.labels[0].text=a.left.name||(c?c[0]:""),i.i(l.a)(s.labels[0],160,25),s.scores[0].text=a.left.score||"0",s.labels[1].text=a.right.name||(c?c[1]:""),i.i(l.a)(s.labels[1],160,25),s.scores[1].text=a.right.score||"0"}for(var h=1,p=0;p<14;p++){if(e[14-p]){h=14-p+1;break}}this.showComingIdx(h)},t}()},85:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(10),r=i(175),o=i(7),a=function(){function t(t){var e=this;this.isInit=!1;for(var i=0;i<13;i++);n.a.loadTexArr(["/img/panel/bracket/final/playerBg1.png","/img/panel/bracket/final/bg1.png","/img/panel/bracket/final/bg2.png","/img/panel/bracket/final/pokerBlack.png","/img/panel/bracket/final/pokerRed.png"],function(i){e.pokerPanel=new r.a,t.addChild(e.pokerPanel),e.initLocal()},!1)}return t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(t){}).on(""+o.a.sc_showPokerPlayer,function(e){console.log("sc_showPokerPlayer",e),t.pokerPanel.showPokerPlayer(e)}).on(""+o.a.sc_showPoker,function(e){t.pokerPanel.visible=e.visible,e.visible&&(8==e.pokerNum?t.pokerPanel.show8Player():12==e.pokerNum?t.pokerPanel.show12Player():0==e.pokerNum&&t.pokerPanel.resetAll()),console.log("sc_bracketInit",e)})},t}()},86:function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i(182),r=i(178),o=i(181),a=i(7),s=i(176),l=i(177),c=i(179),h=i(180),p=i(183),d=function(){function t(t,e){this.popupItemMap={},this.ctn=t,this.initWS(e)}return t.prototype.initWS=function(t){var e=this;t.on(a.a.sc_showGroupRank,function(t){console.log("sc_groupRank",t),t.visible?e.show(c.a,t):e.hide(c.a)}).on(a.a.sc_showChampion,function(t){console.log("sc_showChampion",t),t.visible?e.show(s.a,t):e.hide(s.a)}).on(a.a.sc_showGamePlayerInfo,function(t){console.log("sc_showGamePlayerInfo",t),t.visible?e.show(l.a,t):e.hide(l.a)}).on(a.a.sc_showNotice,function(t){console.log("sc_showNotice",t),t.visible?e.show(h.a,t):e.hide(h.a)}).on(a.a.sc_showVictory,function(t){console.log("sc_showVictory",t),t.visible?e.show(p.a,t):e.hide(p.a)}).on(a.a.sc_showRollText,function(t){console.log("sc_showRollText",t,e.popupItemMap),t.visible?e.show(o.a,t):e.hide(o.a)}).on(a.a.sc_showGameProcess,function(t){console.log("sc_showGameProcess"),t.visible?e.show(r.a,t):e.hide(r.a)}).on(a.a.sc_showImg,function(t){console.log("sc_showImg"),t.visible?e.show(n.a,t):e.hide(n.a,t)})},t.prototype.show=function(t,e){if(!t.class)throw"check class def"+t;this.popupItemMap[t.class]||(this.popupItemMap[t.class]=new t,this.popupItemMap[t.class].create(this.ctn)),this.popupItemMap[t.class].show(e)},t.prototype.hide=function(t,e){this.popupItemMap[t.class]&&this.popupItemMap[t.class].hide(e)},t}()},87:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(185),r=i(7),o=i(0),a=i(41),s=i(2),l=i(8),c=function(){function t(t){this.delayTimeMS=0,this.isInit=!1;var e=i.i(o.d)("gameId"),r="dark"==i.i(o.d)("theme"),a="1"==i.i(o.d)("m");console.log(e,r),a&&(this.scorePanel=new n.a(t,r)),this.localWS=this.initLocalWs(),"1"==i.i(o.d)("t")&&this.test()}return t.prototype.test=function(){this.localWS.emit()},t.prototype.initDefaultPlayer=function(){var t="http://w1.hoopchina.com.cn/huputv/resource/img/amateur.jpg";this.scorePanel.setLeftPlayerInfo("Player 1",t,78,178,"",0,{}),this.scorePanel.setRightPlayerInfo("Player 2",t,78,178,"",0,{})},t.prototype.initLocalWs=function(){var t=this,e=io.connect("/rkb");return e.on("connect",function(e){console.log("connect",window.location.host),t.isInit||(t.isInit=!0,i.i(o.b)("/emit/"+r.a.cs_panelCreated,{_:null}))}).on(""+a.a.sc_setDelayTime,function(e){t.delayTimeMS=e.delayTimeMS}).on(""+a.a.sc_toggleTheme,function(t){}).on(""+a.a.sc_toggleScorePanel,function(e){e.visible?t.scorePanel.show():t.scorePanel.hide()}).on(""+a.a.sc_toggleChampionPanel,function(e){e.visible?t.eventPanel.champion.show():t.eventPanel.champion.hide()}).on(""+a.a.sc_showNotice,function(e){t.eventPanel.showNotice(e.title,e.content,e.isLeft,e.isBold),e.visible?t.eventPanel.noticeSprite.show():t.eventPanel.noticeSprite.hide()}).on(""+a.a.sc_setFxPoint,function(e){t.eventPanel.setFxPoint(e.mx,e.my)}).on(""+a.a.sc_playScoreFx,function(e){t.eventPanel.showScoreFx()}).on(""+a.a.sc_setBdVisible,function(e){t.eventPanel.showBd(e.v),e.v?t.scorePanel.hide():t.scorePanel.show()}).on(""+r.a.sc_init,function(e){if(console.log("sc_init",e),e.leftPlayer){var i=e.leftPlayer;t.scorePanel.setLeftPlayerInfo(i.name,i.avatar,i.weight,i.height,i.groupId,i.level,{text:i.ranking}),i=e.rightPlayer,t.scorePanel.setRightPlayerInfo(i.name,i.avatar,i.weight,i.height,i.groupId,i.level,{text:i.ranking}),t.scorePanel.setGameIdx(e.gameIdx,e.matchType,e),t.scorePanel.set35ScoreLight(e.winScore),t.scorePanel.setLeftFoul(e.leftFoul),t.scorePanel.setRightFoul(e.rightFoul),t.scorePanel.setLeftScore(e.leftScore),t.scorePanel.setRightScore(e.rightScore),t.scorePanel.setExPlayerInfo(e)}}).on(""+r.a.sc_score,function(e){t.scorePanel.setScoreFoul(e)}).on(""+r.a.sc_showScore,function(e){e.visible?t.scorePanel.show():t.scorePanel.hide()}).on(""+r.a.sc_setTimer,function(e){console.log("webdbcmd",e);var i=e.state;i==s.d.RUNNING?(console.log("start timer"),t.scorePanel.toggleTimer(Number(i))):i==s.d.PAUSE?t.scorePanel.toggleTimer(i):i==s.d.RESET&&t.scorePanel.resetTimer(),"sec"in e&&t.scorePanel.setTimer(e.sec)}).on(r.a.sc_showVictory,function(e){e.visible&&(t.scorePanel.hide(),l.a.delayedCall(2500,function(e){t.scorePanel.show()}))}),e},t}()}});
//# sourceMappingURL=panel.js.map?e0a25c3acc7423b0d8e9