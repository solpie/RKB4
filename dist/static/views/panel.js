!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=138)}({10:function(t,e,i){"use strict";function n(t){function e(t){i.visible&&a>0?new r.a(i).to({alpha:t},n).call(function(){a-=1,e(t?0:1)}).start():(o&&o(),a=-1)}var i=t.target,n=t.time||80,o=t.callback,a=t.loop||1/0;e(1)}function o(t,e,i){void 0===e&&(e=80),void 0===i&&(i=!1);var n=e;new r.a(t).to({alpha:1},n).to({alpha:0},n).to({alpha:1},n).to({alpha:0},n).to({alpha:1},n).start()}e.a=n,e.b=o;var r=i(31)},11:function(t,e,i){"use strict";function n(t){return new PIXI.Texture(new PIXI.BaseTexture(t))}function o(t){var e=t.url,i=t.isCrossOrigin,o=t.callback,a=new PIXI.Sprite;return r(e,function(t){a.texture=n(t),o&&o(a)},i),a}function r(t,e,n){if(n){var o=new XMLHttpRequest;o.open("GET",i.i(l.c)(t),!0),o.onload=function(t){i.i(c.a)(o.responseText,e)},o.send()}else i.i(c.a)(t,e)}function a(t){var e=t.width,i=t.height,o=t.url,a=t.callback,s=t.isCrossOrigin;r(o,function(t){c.texture=n(t),a&&a(c)},s);var c=new PIXI.extras.TilingSprite(u,e,i);return c}function s(t){var e,i=t.isTiling;return e=i?a(t):o(t),e.x=t.x?t.x:0,e.y=t.y?t.y:0,e}e.c=n,e.b=r,e.a=s,i.d(e,"d",function(){return f});var c=i(14),l=i(3),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=n(null),f=function(t){function e(e){var i=t.call(this)||this;i.mapSprite={};var o=e.text;return i.animations=e.animations,i.frames=e.frames,i.digis={},i._digiCtn=new PIXI.Container,i.addChild(i._digiCtn),i.text=o,e.texture?(i._tex=e.texture,i.updateTex()):e.img&&r(e.img,function(t){i._tex=n(t),i.updateTex()}),i}return h(e,t),e.prototype.updateTex=function(){for(var t in this.digis){this.digis[t].sp.texture=this._tex}},Object.defineProperty(e.prototype,"text",{set:function(t){for(var e=0,i=t.charAt(e);""!=i;){var n=this.animations[i];if(n>-1){var o=this.frames[n],r=o[0],a=o[1];this._frameWidth||(this._frameWidth=o[2]),this._frameHeight||(this._frameHeight=o[3]),this.digis[e]||(this.digis[e]=this._makeFrame(this._frameWidth,this._frameHeight));var s=this.digis[e];s.x=e*this._frameWidth,s.idx=e,s.sp.x=-r,s.sp.y=-a,e+=1,i=t.charAt(e)}}this._digiWidth=(e-1)*this._frameWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{set:function(t){console.log("align right",this._digiWidth),"left"==t?this._digiCtn.x=0:"center"==t?this._digiCtn.x=.5*-this._digiWidth:"right"==t&&(this._digiCtn.x=-this._digiWidth)},enumerable:!0,configurable:!0}),e.prototype._makeFrame=function(t,e){var i=new PIXI.Container;this._digiCtn.addChild(i);var n=new PIXI.Graphics;n.beginFill(16711680).drawRect(0,0,t,e).endFill(),i.addChild(n);var o=new PIXI.Sprite(this._tex);return i.addChild(o),o.mask=n,i.sp=o,i},e}(PIXI.Container);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}h(e,t),Object.defineProperty(e.prototype,"text",{set:function(t){this._text=t,this.align},enumerable:!0,configurable:!0})}(PIXI.Text)},13:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={init:"",pull:"",cs_pull:"",cs_init:"",sc_init:"",cs_bracketInit:"",sc_bracketInit:"",cs_startGame:"",sc_startGame:"",cs_showProgress:"",sc_showProgress:"",cs_hideProgress:"",sc_hideProgress:"",cs_startTimer:"",sc_startTimer:"",cs_setTimer:"",sc_setTimer:"",cs_commit:"",sc_commit:"",cs_score:"",sc_score:"",cs_panelCreated:"",sc_panelCreated:"",cs_bracketCreated:"",sc_bracketCreated:"",cs_srvCreated:"",sc_srvCreated:""};for(var o in n)n[o]=o},137:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(14),o=i(52),r=i(31),a=i(10),s=i(6),c=i(11),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(e){var r=t.call(this)||this;e.addChild(r);var a=i.i(c.a)({url:"/img/panel/bracket/tile2.png",isTiling:!0,width:s.a.STAGE_WIDTH,height:s.a.STAGE_HEIGHT});a.alpha=.8,r.addChild(a);var l=new PIXI.Container;r.addChild(l);var h=i.i(c.a)({url:"/img/panel/bracket/bg1.png"});r.addChild(h),r.comingTitle=i.i(c.a)({url:"/img/panel/bracket/coming.png"}),r.comingTitle.visible=!1,r.addChild(r.comingTitle);for(var u in o.a){var f=new PIXI.Container;r.addChild(f);var d=o.a[u];console.log(d),f.x=d.x,f.y=d.y;var p=new PIXI.Sprite;p.x=d.x+170,p.y=d.y+50,p.scale.y=-1,l.addChild(p),d.hint1=p;var m=new PIXI.Sprite;m.x=p.x,m.y=d.y+49,l.addChild(m),d.hint2=m,f.addChild(d.scores[0]),f.addChild(d.scores[1]),f.addChild(d.labels[0]),f.addChild(d.labels[1])}return i.i(n.d)(["/img/panel/bracket/hint1.png","/img/panel/bracket/hint2.png"],function(t){var e=i.i(c.c)(t[0]);r.hint1Tex=e,r.hint2Tex=i.i(c.c)(t[1]),console.log("load tex",l.children);for(var n=0,o=l.children;n<o.length;n++){o[n].texture=e}}),r}return l(e,t),e.prototype.setWinHint=function(t,e){void 0===e&&(e=!1),t.texture=this.hint2Tex},e.prototype.hideComing=function(){this.comingTitle.visible=!1},e.prototype.showComingIdx=function(t){var e=this,n=o.a[t];this.comingTitle.visible=!1,r.a.delayedCall(610,function(){n&&(e.comingTitle.visible=!0,e.comingTitle.x=n.x-38,e.comingTitle.y=n.y-43,i.i(a.a)({target:e.comingTitle,time:600}))})},e}(PIXI.Container)},138:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),o=i(67),r=i(3),a=i(68);document.write("<canvas id='panel'></canvas>"),console.log("PIXI",window.PIXI),document.body.style.margin="0px";window.stage=function(){var t=new PIXI.autoDetectRenderer(n.a.STAGE_WIDTH,n.a.STAGE_HEIGHT,{antialias:!1,transparent:!0,resolution:1},!1);return document.body.insertBefore(t.view,document.getElementById("panel")),t.stage=new PIXI.Container,t.backgroundColor=0,t.renderStage=function(e){requestAnimationFrame(t.renderStage),TWEEN.update(e),t.render(t.stage)},t.renderStage(),t.stage}();var s=i.i(r.d)("panel"),c=i.i(r.d)("gameId"),l="1"==i.i(r.d)("m");"bracket"==s?new o.a(window.stage,c,l):new a.a(window.stage)},139:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={resetTimer:"",sc_startTimer:"",sc_pauseTimer:"",sc_resetTimer:"",sc_setDelayTime:"",sc_setTimer:"",sc_toggleTheme:"",sc_showChampion:"",sc_toggleScorePanel:"",sc_toggleChampionPanel:"",sc_showNotice:"",sc_setFxPoint:"",sc_playScoreFx:"",sc_setBdVisible:""};for(var o in n)n[o]=o},14:function(t,e,i){"use strict";function n(t,e,i){var n=new Image;n.onload=function(){e(n)},null!=i&&(n.onerror=function(t){i(t)}),n.src=t}function o(t,e){function i(){0===--r&&(r=-1,e(n))}var n,o,r=t.length;r&&t[0].hasOwnProperty("name")&&t[0].hasOwnProperty("url")?(o=!1,n={}):(o=!0,n=[]);for(var a,s,c=0;c<t.length;c++){var l=t[c];a=new Image,o?(n.push(a),s=l):(n[l.name]=a,s=l.url),a.onload=i,a.src=s}}function r(t,e,i){void 0===e&&(e=":"),void 0===i&&(i="");var n=Math.floor(t/60),o=t%60,r=n+"",a=o+"";return n<10&&(r="0"+r),o<10&&(a="0"+a),r+e+a+i}function a(t,e,i){var n=void 0!==i?i:"0",o=new Array(1+e).join(n);return(o+t).slice(-o.length)}e.a=n,e.d=o,e.c=r,e.b=a},140:function(t,e,i){"use strict";function n(t,e,i){if(!(i<3)){var n=2*Math.PI/i;t.moveTo(e,0);for(var o=1;o<i;o++)t.lineTo(e*Math.cos(n*o),e*Math.sin(n*o))}}i.d(e,"a",function(){return p});var o=i(19),r=i(54),a=i(10),s=i(53),c=i(55),l=i(30),h=i(6),u=i(14),f=i(11),d={light:{bg:"/img/panel/score2017/bgLight.png",fontColor:"#fff",score:"/img/panel/score2017/scoreLight.png",foul:"/img/panel/score2017/foul.png",foulHint:"/img/panel/score2017/foulHintLight.png",section1:"/img/panel/score2017/section1Light.png",section2:"/img/panel/score2017/section2Light.png",section3:"/img/panel/score2017/section3Light.png"},dark:{bg:"/img/panel/score2017/bgDark.png",fontColor:"#1b5e80",score:"/img/panel/score2017/scoreDark.png",foul:"/img/panel/score2017/foul.png",foulHint:"/img/panel/score2017/foulHintDark.png",section1:"/img/panel/score2017/section1Dark.png",section2:"/img/panel/score2017/section2Dark.png",section3:"/img/panel/score2017/section3Dark.png"}},p=function(){function t(t,e){void 0===e&&(e=!1);var o=this;this._tex={},this.stage=t,this.skin=e?d.dark:d.light;var a=i.i(f.a)({url:this.skin.bg});t.addChild(a),this.ctn=a;var u=new PIXI.Container;a.addChild(u),u.y=h.a.STAGE_HEIGHT-300,this.gameSection=new PIXI.Sprite,this.gameSection.x=926,this.gameSection.y=174,u.addChild(this.gameSection),i.i(f.b)(this.skin.score,function(t){var e=i.i(f.c)(t),n={text:"0",animations:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:9,9:8},texture:e,frames:[[0,0,110,128],[111,0,110,128],[0,129,110,128],[111,129,110,128],[222,0,110,128],[222,129,110,128],[0,258,110,128],[111,258,110,128],[222,258,110,128],[333,0,110,128]]},r=new f.d(n);o.leftScoreText=r,r.x=765,r.y=130,r.align="center",u.addChild(r);var a=new f.d(n);o.rightScoreText=a,a.x=r.x+275,a.y=r.y,a.align="center",u.addChild(a)});var p=new s.a({dir:l.a.e,invert:29,img:this.skin.foul,count:4});p.x=771,p.y=262,this.leftFoul=p;var m=new s.a({dir:l.a.w,invert:29,img:this.skin.foul,count:4});m.x=1037,m.y=p.y,this.rightFoul=m;var g=(h.c.MicrosoftYahei,new r.a(this.skin.foulHint));g.x=774,g.y=255,u.addChild(g),this.lFoulText=g;var y=new r.a(this.skin.foulHint);y.x=1036,y.y=g.y,u.addChild(y),this.rFoulText=y;var x={fontFamily:h.c.MicrosoftYahei,fontSize:"30px",fill:"#fff",fontWeight:"bold"},v=new c.a("",x);u.addChild(v),v.x=917,v.y=90,v.textInSec=0,this.timer=v;var I=new PIXI.Text("",x);I.x=v.x,I.y=v.y,I.visible=!1,u.addChild(I),this.winScoreText=I;var P={fontFamily:h.c.MicrosoftYahei,fontSize:"26px",fill:"#fff",fontWeight:"bold"},S=new PIXI.Text("第00场",P);this.gameIdx=S,S.x=917,S.y=258,u.addChild(S);var b={fontFamily:h.c.MicrosoftYahei,fontSize:"31px",fill:this.skin.fontColor,stroke:"#000",strokeThickness:2,fontWeight:"bold"},w={fontFamily:h.c.MicrosoftYahei,fontSize:"22px",fill:this.skin.fontColor,stroke:"#000",strokeThickness:2,fontWeight:"bold"},_=new PIXI.Text("",b);_.y=155,this.lPlayerName=_,u.addChild(_);var T=new PIXI.Text("",w);T.y=200,this.lPlayerInfo=T,u.addChild(T);var F=new PIXI.Text("",b);F.y=_.y,F.x=1420,this.rPlayerName=F,u.addChild(F);var C=new PIXI.Text("",w);C.x=F.x,C.y=T.y,this.rPlayerInfo=C,u.addChild(C);var k=(new PIXI.Graphics).beginFill(16711680);n(k,63,6),k.x=628,k.y=193,u.addChild(k);var N=(new PIXI.Graphics).beginFill(16711680);n(N,63,6),N.x=1294,N.y=k.y,u.addChild(N);var X=new PIXI.Sprite;X.x=k.x,X.y=k.y,X.mask=k,this.lAvatar=X,u.addChild(this.lAvatar);var G=new PIXI.Sprite;G.x=N.x,G.y=N.y,G.mask=N,this.rAvatar=G,u.addChild(this.rAvatar);var A={fontFamily:h.c.MicrosoftYahei,fontSize:"22px",fill:"#fff",fontWeight:"bold"},M=new PIXI.Text("",A);this.lFtName=M,M.y=267,u.addChild(M);var H=new PIXI.Text("",A);u.addChild(H),this.rFtName=H,H.y=M.y,u.addChild(H);var L=new PIXI.Sprite;L.scale.x=L.scale.y=.97,this.lFrame=L,L.x=562,L.y=134,u.addChild(L);var R=new PIXI.Sprite;R.scale.x=R.scale.y=.97,this.rFrame=R,R.x=1228,R.y=L.y,u.addChild(R)}return t.prototype.set35ScoreLight=function(t){this.winScoreText.text=t+"球胜"},t.prototype.setGameIdx=function(t,e){var n=this;console.log("isMaster",e),2==e?this.gameSection2?this.gameSection.texture=this.gameSection2:i.i(u.a)(this.skin.section2,function(t){n.gameSection2=i.i(f.c)(t),n.gameSection.texture=n.gameSection2}):1==e?this.gameSection1?this.gameSection.texture=this.gameSection1:i.i(u.a)(this.skin.section1,function(t){n.gameSection1=i.i(f.c)(t),n.gameSection.texture=n.gameSection1}):3==e&&(this.gameSection3?this.gameSection.texture=this.gameSection3:i.i(u.a)(this.skin.section3,function(t){n.gameSection3=i.i(f.c)(t),n.gameSection.texture=n.gameSection3})),this.gameIdx.text="第"+i.i(u.b)(t,2)+"场"},t.prototype._showWinScore=function(){var t=this;this.winScoreText.visible=!0,this.timer.visible=!1,i.i(a.a)({target:this.winScoreText,time:100,loop:20,callback:function(){t.winScoreText.visible=!1,t.timer.visible=!0}})},t.prototype.setLeftScore=function(t){this.leftScoreText.text=t+"",this._showWinScore()},t.prototype.setScoreFoul=function(t){"leftScore"in t&&this.setLeftScore(t.leftScore),"rightScore"in t&&this.setRightScore(t.rightScore),"leftFoul"in t&&this.setLeftFoul(t.leftFoul),"rightFoul"in t&&this.setRightFoul(t.rightFoul)},t.prototype.setRightScore=function(t){this.rightScoreText.text=t+"",this._showWinScore()},t.prototype._setFoulText=function(t,e){var i=e+" Foul";Number(e)>3&&(i="  犯满"),t.text=i},t.prototype.setLeftFoul=function(t){this.lFoulText.setFoul(t)},t.prototype.setRightFoul=function(t){this.rFoulText.setFoul(t)},t.prototype.resetTimer=function(){this.timer.resetTimer()},t.prototype.setTimer=function(t){this.timer.setTimeBySec(t)},t.prototype.toggleTimer=function(t){this.timer.toggleTimer(t)},t.prototype.resetScore=function(){this.setLeftScore(0),this.setRightScore(0),this.setLeftFoul(0),this.setRightFoul(0)},t.prototype._fixFtName=function(t,e){"GREENLIGHT"==e.toUpperCase()?(e="GREENLIGHT",t.style.fontSize="13px"):t.style.fontSize="22px",t.text=e,t.y=280-.5*t.height},t.prototype.setLeftPlayerInfo=function(t,e,n,r,a,s){var c=this;this._lFtId=a,this._loadFrame(s,this.lFrame),this.lPlayerName.text=t,this.lPlayerName.x=500-this.lPlayerName.width,i.i(f.b)(e,function(t){var e=c.lAvatar;e.texture=i.i(f.c)(t);var n=e.mask.width/t.width;e.x=e.mask.x-.5*e.texture.width*n,e.y=e.mask.y-.5*e.texture.height*n,e.scale.x=e.scale.y=n},!0),r||(r=0),n||(n=0),this.lPlayerInfo.text=r+"CM "+n+"KG",this.lPlayerInfo.x=500-this.lPlayerInfo.width,this._fixFtName(this.lFtName,i.i(o.b)(a)),this.lFtName.x=630-.5*this.lFtName.width},t.prototype._loadFrame=function(t,e){var n=this;if((t=Number(t))>0){var o="/img/panel/score2017/frame"+t+".png";e.visible=!0,this._tex[o]?e.texture=this._tex[o]:i.i(u.a)(o,function(t){n._tex[o]=e.texture=i.i(f.c)(t)})}else e.visible=!1},t.prototype.setRightPlayerInfo=function(t,e,n,r,a,s){var c=this;this._rFtId=a,this._loadFrame(s,this.rFrame),this.rPlayerName.text=t,i.i(f.b)(e,function(t){var e=c.rAvatar;e.texture=i.i(f.c)(t);var n=e.mask.width/t.width;e.x=e.mask.x-.5*e.texture.width*n,e.y=e.mask.y-.5*e.texture.height*n,e.scale.x=e.scale.y=n},!0),r||(r=0),n||(n=0),this.rPlayerInfo.text=r+"CM "+n+"KG",this._fixFtName(this.rFtName,i.i(o.b)(a)),this.rFtName.x=1293-.5*this.rFtName.width},t.prototype.getPlayerInfo=function(t){var e={};return t?(e.name=this.lPlayerName.text,e.info=this.lPlayerInfo.text,e.ftId=this._lFtId):(e.name=this.rPlayerName.text,e.info=this.rPlayerInfo.text,e.ftId=this._rFtId),e},t.prototype.show=function(){this.ctn.visible=!0},t.prototype.hide=function(){this.ctn.visible=!1},t}()},141:function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i(19),o=i(54),r=i(10),a=i(53),s=i(55),c=i(30),l=i(6),h=i(14),u=i(11),f={light:{bg:"/img/panel/score/m2/bg.png",fontColor:"#fff",score:"/img/panel/score/m2/score.png",foul:"/img/panel/score2017/foul.png",foulHint:"/img/panel/score2017/foulHintLight.png",section1:"/img/panel/score2017/section1Light.png",section2:"/img/panel/score2017/section2Light.png",section3:"/img/panel/score2017/section3Light.png"},dark:{bg:"/img/panel/score/m2/bg.png",fontColor:"#1b5e80",score:"/img/panel/score/m2/score.png",foul:"/img/panel/score2017/foul.png",foulHint:"/img/panel/score2017/foulHintDark.png",section1:"/img/panel/score2017/section1Dark.png",section2:"/img/panel/score2017/section2Dark.png",section3:"/img/panel/score2017/section3Dark.png"}},d=function(){function t(t,e){void 0===e&&(e=!1);var n=this;this._tex={},this.stage=t,this.skin=e?f.dark:f.light;var r=i.i(u.a)({url:this.skin.bg});t.addChild(r),this.ctn=r;var h=new PIXI.Container;r.addChild(h),h.y=l.a.STAGE_HEIGHT-300,this.gameSection=new PIXI.Sprite,this.gameSection.x=926,this.gameSection.y=174,h.addChild(this.gameSection),i.i(u.b)(this.skin.score,function(t){var e=i.i(u.c)(t),o={text:"0",animations:{7:0,8:1,9:2,0:3,1:4,2:5,3:6,4:7,5:8,6:9},texture:e,frames:[[0,0,54,80],[55,0,54,80],[0,81,54,80],[55,81,54,80],[110,0,54,80],[110,81,54,80],[165,0,54,80],[165,81,54,80],[0,162,54,80],[55,162,54,80]]},r=new u.d(o);n.leftScoreText=r,r.x=825,r.y=188,r.align="center",h.addChild(r);var a=new u.d(o);n.rightScoreText=a,a.x=r.x+222,a.y=r.y,a.align="center",h.addChild(a)});var d=new a.a({dir:c.a.e,invert:29,img:this.skin.foul,count:4});d.x=771,d.y=262,this.leftFoul=d;var p=new a.a({dir:c.a.w,invert:29,img:this.skin.foul,count:4});p.x=1037,p.y=d.y,this.rightFoul=p;var m=(l.c.MicrosoftYahei,new o.a(this.skin.foulHint));m.hasHint=!1,m.x=490,m.y=255,m.setFoul(0),h.addChild(m),this.lFoulText=m;var g=new o.a(this.skin.foulHint);g.hasHint=!1,g.x=1290,g.y=m.y,g.setFoul(0),h.addChild(g),this.rFoulText=g;var y={fontFamily:l.c.MicrosoftYahei,fontSize:"30px",fill:"#fff",fontWeight:"bold"},x=new s.a("",y);h.addChild(x),x.x=919,x.y=248,x.textInSec=0,this.timer=x;var v=new PIXI.Text("",y);v.x=x.x,v.y=x.y,v.visible=!1,h.addChild(v),this.winScoreText=v;var I={fontFamily:l.c.MicrosoftYahei,fontSize:"26px",fill:"#fff",fontWeight:"bold"},P=new PIXI.Text("第00场",I);this.gameIdx=P,P.x=917,P.y=168,h.addChild(P);var S={fontFamily:l.c.MicrosoftYahei,fontSize:"31px",fill:this.skin.fontColor,stroke:"#000",strokeThickness:2,fontWeight:"bold"},b={fontFamily:l.c.MicrosoftYahei,fontSize:"22px",fill:this.skin.fontColor,stroke:"#000",strokeThickness:2,fontWeight:"bold"},w=new PIXI.Text("",S);w.y=155,this.lPlayerName=w,h.addChild(w);var _=new PIXI.Text("",b);_.y=215,this.lPlayerInfo=_,h.addChild(_);var T=new PIXI.Text("",S);T.y=w.y,T.x=1288,this.rPlayerName=T,h.addChild(T);var F=new PIXI.Text("",b);F.x=T.x-10,F.y=_.y,this.rPlayerInfo=F,h.addChild(F);var C=(new PIXI.Graphics).beginFill(16711680);C.moveTo(0,0).lineTo(124,0).lineTo(144,123).lineTo(20,123),C.x=650,C.y=163,h.addChild(C);var k=(new PIXI.Graphics).beginFill(16711680);k.moveTo(20,0).lineTo(144,0).lineTo(124,123).lineTo(0,123),k.x=1122,k.y=C.y,h.addChild(k);var N=new PIXI.Sprite;N.x=C.x,N.y=C.y,N.mask=C,this.lAvatar=N,h.addChild(this.lAvatar);var X=new PIXI.Sprite;X.x=k.x,X.y=k.y,X.mask=k,this.rAvatar=X,h.addChild(this.rAvatar);var G={fontFamily:l.c.MicrosoftYahei,fontSize:"22px",fill:"#fff",fontWeight:"bold"},A=new PIXI.Text("",G);this.lFtName=A,A.y=267,h.addChild(A);var M=new PIXI.Text("",G);h.addChild(M),this.rFtName=M,M.y=A.y,h.addChild(M);var H=new PIXI.Sprite;H.scale.x=H.scale.y=.97,this.lFrame=H,H.x=562,H.y=134,h.addChild(H);var L=new PIXI.Sprite;L.scale.x=L.scale.y=.97,this.rFrame=L,L.x=1228,L.y=H.y,h.addChild(L)}return t.prototype.set35ScoreLight=function(t){this.winScoreText.text=t+"球胜"},t.prototype.setGameIdx=function(t,e){var n=this;console.log("isMaster",e),2==e?this.gameSection2?this.gameSection.texture=this.gameSection2:i.i(h.a)(this.skin.section2,function(t){n.gameSection2=i.i(u.c)(t),n.gameSection.texture=n.gameSection2}):1==e?this.gameSection1?this.gameSection.texture=this.gameSection1:i.i(h.a)(this.skin.section1,function(t){n.gameSection1=i.i(u.c)(t),n.gameSection.texture=n.gameSection1}):3==e&&(this.gameSection3?this.gameSection.texture=this.gameSection3:i.i(h.a)(this.skin.section3,function(t){n.gameSection3=i.i(u.c)(t),n.gameSection.texture=n.gameSection3})),this.gameIdx.text="第"+i.i(h.b)(t,2)+"场"},t.prototype._showWinScore=function(){var t=this;this.winScoreText.visible=!0,this.timer.visible=!1,i.i(r.a)({target:this.winScoreText,time:100,loop:20,callback:function(){t.winScoreText.visible=!1,t.timer.visible=!0}})},t.prototype.setLeftScore=function(t){this.leftScoreText.text=t+"",this._showWinScore()},t.prototype.setScoreFoul=function(t){"leftScore"in t&&this.setLeftScore(t.leftScore),"rightScore"in t&&this.setRightScore(t.rightScore),"leftFoul"in t&&this.setLeftFoul(t.leftFoul),"rightFoul"in t&&this.setRightFoul(t.rightFoul)},t.prototype.setRightScore=function(t){this.rightScoreText.text=t+"",this._showWinScore()},t.prototype._setFoulText=function(t,e){var i=e+" Foul";Number(e)>3&&(i="  犯满"),t.text=i},t.prototype.setLeftFoul=function(t){this.lFoulText.setFoul(t)},t.prototype.setRightFoul=function(t){this.rFoulText.setFoul(t)},t.prototype.resetTimer=function(){this.timer.resetTimer()},t.prototype.setTimer=function(t){this.timer.setTimeBySec(t)},t.prototype.toggleTimer=function(t){this.timer.toggleTimer(t)},t.prototype.resetScore=function(){this.setLeftScore(0),this.setRightScore(0),this.setLeftFoul(0),this.setRightFoul(0)},t.prototype._fixFtName=function(t,e){"GREENLIGHT"==e.toUpperCase()?(e="GREENLIGHT",t.style.fontSize="13px"):t.style.fontSize="22px",t.text=e,t.y=280-.5*t.height},t.prototype.cutName=function(t,e){t.width>e&&(t.text=t.text.substr(0,t.text.length-1),this.cutName(t,e))},t.prototype.setLeftPlayerInfo=function(t,e,o,r,a,s){var c=this;this._lFtId=a,this._loadFrame(s,this.lFrame),this.lPlayerName.text=t,this.cutName(this.lPlayerName,160),this.lPlayerName.x=634-this.lPlayerName.width,i.i(u.b)(e,function(t){var e=c.lAvatar;e.texture=i.i(u.c)(t);var n=148/t.width;e.x=e.mask.x,e.y=e.mask.y,e.scale.x=e.scale.y=n},!0),r||(r=0),o||(o=0),this.lPlayerInfo.text=r+"CM  "+o+"KG",this.lPlayerInfo.x=640-this.lPlayerInfo.width,this._fixFtName(this.lFtName,i.i(n.b)(a)),this.lFtName.x=630-.5*this.lFtName.width},t.prototype._loadFrame=function(t,e){var n=this;if((t=Number(t))>0){var o="/img/panel/score2017/frame"+t+".png";e.visible=!0,this._tex[o]?e.texture=this._tex[o]:i.i(h.a)(o,function(t){n._tex[o]=e.texture=i.i(u.c)(t)})}else e.visible=!1},t.prototype.setRightPlayerInfo=function(t,e,o,r,a,s){var c=this;this._rFtId=a,this._loadFrame(s,this.rFrame),this.rPlayerName.text=t,this.cutName(this.rPlayerName,160),i.i(u.b)(e,function(t){var e=c.rAvatar;e.texture=i.i(u.c)(t);var n=148/t.width;e.x=e.mask.x,e.y=e.mask.y,e.scale.x=e.scale.y=n},!0),r||(r=0),o||(o=0),this.rPlayerInfo.text=r+"CM "+o+"KG",this._fixFtName(this.rFtName,i.i(n.b)(a)),this.rFtName.x=1293-.5*this.rFtName.width},t.prototype.getPlayerInfo=function(t){var e={};return t?(e.name=this.lPlayerName.text,e.info=this.lPlayerInfo.text,e.ftId=this._lFtId):(e.name=this.rPlayerName.text,e.info=this.rPlayerInfo.text,e.ftId=this._rFtId),e},t.prototype.show=function(){this.ctn.visible=!0},t.prototype.hide=function(){this.ctn.visible=!1},t}()},19:function(t,e,i){"use strict";function n(t){return o[t]||""}e.b=n,i.d(e,"a",function(){return r});var o={1:"Gambia",2:"TSH",3:"Fe3O4",4:"FTG",5:"3P-Shot",6:"Bravo!",7:"XJBD",8:"GreenLight"},r={PreGame:1,Master:2,Final:3,RawDay:4}},20:function(t,e,i){"use strict";function n(t,e){s(a("http://api.liangle.com/api/passerbyking/game/players/"+t),e)}i.d(e,"b",function(){return r}),e.a=n;var o=i(3),r=function(t){t("tcp.lb.liangle.com:3081")},a=function(t){return i.i(o.c)(t,"json")},s=function(t,e){i.i(o.b)(t,e)}},3:function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"d",function(){return o}),i.d(e,"b",function(){return a}),i.d(e,"a",function(){return s});var n=function(t,e){return void 0===e&&(e="image"),"/proxy?url="+t+"&type="+e},o=(function(){function t(t,e){this.cmdMap={},this.reqFunc=e,this.io=t}t.prototype.send=function(t,e){var i=this;return this.reqFunc(t,e),this.cmdMap[t]?{on:function(t,e){}}:(this.cmdMap[t]=!0,{on:function(t,e){i.io.on(t,function(t){e(t)})}})}}(),function(t){var e,i,n=decodeURIComponent(window.location.search.substring(1)),o=n.split("&");for(i=0;i<o.length;i++)if(e=o[i].split("="),e[0]===t)return void 0===e[1]||e[1]}),r=function(t,e,i,n){var o=new XMLHttpRequest;o.open(e,t,!0);var r="";if("POST"==e){if(i)for(var a in i)r+=a+"="+i[a]+"&";o.setRequestHeader("Content-type","application/x-www-form-urlencoded")}o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var t=o.getResponseHeader("content-type");console.log("http.response",t,o.response);var e=o.response;t.search("json")>-1&&(e=JSON.parse(o.response)),n&&n(e)}},o.send(r)},a=function(t,e){var i=window.$http;i?i.get(t).then(function(t){e&&e(t.body,t)}):r(t,"GET",null,function(t){e&&e(t)})},s=function(t,e,i){var n=window.$http;n?n.post(t,e).then(function(t){i&&i(t.body,t)}):r(t,"POST",e,function(t){i&&i(t)})}},30:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var n,o=i(10),r=i(11),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.e=0]="e",t[t.w=1]="w",t[t.s=2]="s",t[t.n=3]="n"}(n||(n={}));var s=function(t){function e(e){var o=t.call(this)||this;o.spArr=[];var a=e.dir||n.e,s=e.flip||1,c=e.flipY||1,l=e.count,h=e.invert;o._w=l*h;for(var u=0;u<l;u++){var f=i.i(r.a)({url:e.img});a==n.e?f.x=u*e.invert:a==n.w?f.x=(l-1-u)*h:a==n.s?f.y=u*h:a==n.n&&(f.y=(l-1-u)*h),f.scale.x=s,f.scale.y=c,o.spArr.push(f),o.addChild(f)}return o}return a(e,t),e.prototype.setNum=function(t){for(var e=0;e<this.spArr.length;e++){var i=this.spArr[e];e<t?this.onShowPoint(i):this.onHidePoint(i)}},Object.defineProperty(e.prototype,"width",{get:function(){return this._w},enumerable:!0,configurable:!0}),e.prototype.onShowPoint=function(t){t.visible=!0,i.i(o.b)(t)},e.prototype.onHidePoint=function(t){t.visible=!1},e}(PIXI.Container)},31:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(t){this.target=t,this.eventArr=[]}return t.prototype.to=function(t,e){return this.eventArr.push({event:"to",data:{vars:t,duration:e}}),this},t.prototype.delay=function(t){return this.eventArr.push({event:"delay",data:{duration:t}}),this},t.prototype.update=function(t){return this.updateFunc=t,this},t.prototype.start=function(){var t=this,e=function(){var i=t.eventArr.shift();if(i)if("to"==i.event){var n={};for(var o in i.data.vars)n[o]=t.target[o];new TWEEN.Tween(n).to(i.data.vars,i.data.duration).onUpdate(function(){for(var e in i.data.vars)t.target[e]=n[e];t.updateFunc&&t.updateFunc(t.target)}).onComplete(function(){e()}).start()}else"delay"==i.event?new TWEEN.Tween({_:0}).to({_:0},i.data.duration).onComplete(function(){e()}).start():"call"==i.event&&(i.data.callback(t),e());else t.target=null,t.eventArr=null,t.vars=null};return e(),this},t.prototype.call=function(t){return t&&this.eventArr.push({event:"call",data:{callback:t}}),this},t.to=function(e,i,n,o){return new t(e).to(n,i).call(o).start()},t.delayedCall=function(e,i){new t({_:0}).delay(e).call(i).start()},t}()},52:function(t,e,i){"use strict";function n(t){var e=t.x,i=t.y,n=t.hints?t.hints:["",""],o={font:"25px",fill:"#fff",align:"right"},a=new PIXI.Text("",o);a.y=8;var s=new PIXI.Text("",o);s.y=61,a.x=s.x=188;var c={fontSize:"25px",fontFamily:r.c.MicrosoftYahei,fontWeight:"bold"},l=new PIXI.Text("",c);l.x=3,l.y=8;var h=new PIXI.Text("",c);return h.x=l.x,h.y=l.y+50,{x:e,y:i,labels:[l,h],hints:n,winIdx:-1,scores:[a,s]}}function o(t,e,i){console.log(t.width,e),t.width>e&&(t.style.font=i+"px",t.style.fontFamily=r.c.MicrosoftYahei,o(t,e,i-1))}e.b=o,i.d(e,"a",function(){return a});var r=i(6),a={1:n({x:320,y:91,hints:["1号种子 ","8号种子 "]}),2:n({x:320,y:232,hints:["4号种子 ","5号种子 "]}),3:n({x:320,y:403,hints:["2号种子 ","7号种子 "]}),4:n({x:320,y:544,hints:["3号种子 ","6号种子 "]}),5:n({x:320,y:806,hints:["第1场败者 ","第2场败者 "]}),6:n({x:320,y:947,hints:["第3场败者 ","第4场败者 "]}),7:n({x:671,y:162}),8:n({x:671,y:476}),9:n({x:664,y:893,hints:["第7场败者 ",""]}),10:n({x:664,y:751,hints:["第8场败者 ",""]}),11:n({x:1067,y:319}),12:n({x:1020,y:825}),13:n({x:1366,y:770,hints:["第11场败者 ",""]}),14:n({x:1463,y:396,hints:["","第13场胜者 "]})},s=(function(){function t(t){this.idx=t,this.playerArr=[new s,new s]}}(),function(){function t(){this.isHint=!1,this.isWin=!1,this.score=0}return t}())},53:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(10),o=i(11),r=i(30),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setNum=function(e){t.prototype.setNum.call(this,e),e>=4?(this._hint||(this._hint=i.i(o.a)({url:"/img/panel/score2017/foulHint.png",x:-20,y:-22}),this.addChild(this._hint)),this._hint.visible=!0,i.i(n.a)({target:this._hint,time:100,loop:100})):this._hint&&(this._hint.visible=!1)},e}(r.b)},54:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(10),o=i(11),r=i(6),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(e){var n=t.call(this)||this;n.hasHint=!0;var a=i.i(o.a)({url:e});n.hint=a,n.hint.visible=n.hasHint,n.addChild(a);var s={fontFamily:r.c.MicrosoftYahei,fontSize:"30px",fill:"#fff",fontWeight:"bold"},c=new PIXI.Text("",s);return n.addChild(c),n.label=c,n}return a(e,t),e.prototype.setFoul=function(t){var e=t+" Foul";this.hint.visible=!1,Number(t)>3&&(e="犯 满",this.hint.visible=this.hasHint,i.i(n.a)({target:this.hint,time:130,loop:31})),this.label.text=e,this.label.x=.5*(109-this.label.width)},e}(PIXI.Container)},55:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(14),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r={PAUSE:0,RUNNING:1},a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeInSec=0,e.timerId=null,e.isMin=!1,e}return o(e,t),Object.defineProperty(e.prototype,"textInSec",{set:function(t){this.setTimeBySec(t)},enumerable:!0,configurable:!0}),e.prototype.setTimeBySec=function(t){this.timeInSec=t,this.text=i.i(n.c)(this.timeInSec)},e.prototype.toggleTimer=function(t){var e=this,o=function(){e.timerId&&(clearInterval(e.timerId),e.timerId=0,e.timerState=r.PAUSE)},a=function(){e.timerId&&clearInterval(e.timerId),e.timerId=setInterval(function(){e.isMin?--e.timeInSec<0&&(e.timeInSec=0):e.timeInSec++,e.text=i.i(n.c)(e.timeInSec)},1e3),e.timerState=r.RUNNING};null!=t?t==r.PAUSE?o():t==r.RUNNING&&a():this.timerId?o():a()},e.prototype.resetTimer=function(){this.timeInSec=0,this.timerState=r.PAUSE,this.text=i.i(n.c)(this.timeInSec)},e}(PIXI.Text)},6:function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r});var n={MicrosoftYahei:"Microsoft Yahei"},o={STAGE_WIDTH:1920,STAGE_HEIGHT:1080},r={PAUSE:0,RUNNING:1,RESET:-1}},67:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(3),o=i(20),r=i(6),a=i(13),s=i(137),c=i(52),l=function(){function t(t,e,i){var n=this;console.log("BracketView isMon: ",i),this.isMonth=i,this.bracket=new s.a(t),this.isMonth?this.initManmaul():(this.bracket.visible=!1,window.onkeyup=function(t){console.log(t),"ArrowLeft"==t.key||"ArrowRight"==t.key||("Tab"==t.key?n.bracket.visible=!n.bracket.visible:t.key)},this.getPreRoundInfo(e),this.initAuto(Number(e))),this.initLocal()}return t.prototype.initManmaul=function(){},t.prototype.getPreRoundInfo=function(t){},t.prototype.showComingIdx=function(t){this.bracket.showComingIdx(t)},t.prototype.hide=function(){},t.prototype.show=function(){},t.prototype.getFtBracketInfo=function(){},t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(e){t.isMonth&&!t.isInit&&(t.isInit=!0,i.i(n.a)("/emit/"+a.a.cs_bracketCreated,{_:null})),console.log("connect",window.location.host)}).on(""+a.a.sc_bracketInit,function(e){console.log("sc_bracketInit"),delete e._,t.onBracketData({data:e})})},t.prototype.initAuto=function(t){var e=this,n=function(i){var n=io.connect(i);n.on("connect",function(){t?(console.log("hupuAuto socket connected GameId",t),n.emit("passerbyking",{game_id:t,page:"top8Map"})):(e.getFtBracketInfo(),console.log("connected local /rkb"))});var o={};o.top8Match=function(t){console.log("top8Match",t),t.data=t.list,e.onBracketData(t)},o.startGame=function(i){console.log("startGame",i),e.getPreRoundInfo(t)},o.init=function(t){console.log("init",t)},o.commitGame=function(i){console.log("commitGame",i),e.getPreRoundInfo(t)},o.updateScore=function(t){e.bracket.hideComing()},n.on("wall",function(t){var e=t.et;console.log("event:",e,t),o[e]&&o[e](t)})};t?i.i(o.b)(function(t){n(t)}):n("/rkb")},t.prototype.onBracketData=function(t){var e={},n=new PIXI.TextStyle({fontSize:"25px",fill:"#e1e1e1",align:"right",fontFamily:r.c.MicrosoftYahei});console.log("onBracketData",t.data);for(var o in t.data){var a=t.data[o],s=c.a[o];s.idx=Number(o),(Number(a.left.score)||Number(a.right.score))&&(a.left.score>a.right.score?this.bracket.setWinHint(s.hint1,!0):this.bracket.setWinHint(s.hint2),e[o]=!0),a.left.name&&(s.labels[0].style=n),a.right.name&&(s.labels[1].style=n);var l=s.hints;s.labels[0].text=a.left.name||(l?l[0]:""),i.i(c.b)(s.labels[0],160,25),s.scores[0].text=a.left.score||"0",s.labels[1].text=a.right.name||(l?l[1]:""),i.i(c.b)(s.labels[1],160,25),s.scores[1].text=a.right.score||"0"}for(var h=1,u=0;u<14;u++){if(e[14-u]){h=14-u+1;break}}this.showComingIdx(h)},t}()},68:function(t,e,i){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=new Date,n="["+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+"]";console.info(n,t)}i.d(e,"a",function(){return f});var o=i(141),r=i(13),a=i(140),s=i(3),c=i(139),l=i(6),h=i(20),u=i(31),f=function(){function t(t){this.delayTimeMS=0;var e=i.i(s.d)("gameId"),n="dark"==i.i(s.d)("theme"),r="1"==i.i(s.d)("m");console.log(e,n),this.scorePanel=r?new o.a(t,n):new a.a(t,n),this.initLocalWs(),this.initRemote()}return t.prototype.initDefaultPlayer=function(){var t="http://w1.hoopchina.com.cn/huputv/resource/img/amateur.jpg";this.scorePanel.setLeftPlayerInfo("Player 1",t,78,178,"",0),this.scorePanel.setRightPlayerInfo("Player 2",t,78,178,"",0)},t.prototype.initRemote=function(){var t=this,e=!1;i.i(h.b)(function(o){var r=io.connect(o),a=function(e,i){console.log(e),t.scorePanel.setLeftPlayerInfo(e.name,e.avatar,e.weight,e.height,e.groupId,e.level),t.scorePanel.setRightPlayerInfo(i.name,i.avatar,i.weight,i.height,i.groupId,i.level)},c=i.i(s.d)("gameId");r.on("connect",function(){console.log("hupuAuto socket connected",o),r.emit("passerbyking",{game_id:c,page:"score"}),u.a.delayedCall(2500,function(){e||t.initDefaultPlayer()})}),r.on("wall",function(i){var o=i.et,r={};if(console.log("event:",o,i),r.init=function(){console.log("eventMap['init']",i),n("init",i),t.scorePanel.set35ScoreLight(i.winScore),t.scorePanel.setGameIdx(Number(i.gameIdx),Number(i.matchType)),a(i.player.left,i.player.right),t.scorePanel.setLeftScore(i.player.left.leftScore),t.scorePanel.setRightScore(i.player.right.rightScore),t.scorePanel.setLeftFoul(i.player.left.leftFoul),t.scorePanel.setRightFoul(i.player.right.rightFoul),i.delayTimeMS=t.delayTimeMS;Number(i.status);if(0==i.status){var e=Math.floor(i.t/1e3-Number(i.st));t.scorePanel.setTimer(e),t.scorePanel.toggleTimer(l.b.RUNNING)}else 2==i.status&&(t.scorePanel.toggleTimer(l.b.PAUSE),t.scorePanel.resetTimer())},r.updateScore=function(){console.log("updateScore",i),n("updateScore",i),null!=i.leftScore&&t.scorePanel.setLeftScore(i.leftScore),null!=i.rightScore&&t.scorePanel.setRightScore(i.rightScore),null!=i.rightFoul&&t.scorePanel.setRightFoul(i.rightFoul),null!=i.leftFoul&&t.scorePanel.setLeftFoul(i.leftFoul)},r.timeStart=function(){console.log("timeStart",i),t.scorePanel.toggleTimer(l.b.RUNNING)},r.startGame=function(){console.log("startGame",i),n("startGame",i),t.scorePanel.set35ScoreLight(i.winScore),t.scorePanel.setGameIdx(i.gameIdx,Number(i.matchType)),a(i.player.left,i.player.right),t.scorePanel.toggleTimer(l.b.PAUSE),t.scorePanel.resetScore(),t.scorePanel.resetTimer()},r.commitGame=function(){console.log("commitGame",i),n("commitGame",i);var e=i.player;t.eventPanel.showWin(e),t.scorePanel.toggleTimer(l.b.PAUSE)},r[o]){e=!0;var s=t.delayTimeMS;n(o,"delay",s,i),"init"==o&&(s=0),u.a.delayedCall(s,function(){r[o]()})}})})},t.prototype.initLocalWs=function(){var t=this;io.connect("/rkb").on("connect",function(t){console.log("connect",window.location.host),i.i(s.a)("/emit/"+r.a.cs_panelCreated,{_:null})}).on(""+c.a.sc_setDelayTime,function(e){t.delayTimeMS=e.delayTimeMS}).on(""+c.a.sc_toggleTheme,function(t){}).on(""+c.a.sc_showChampion,function(e){var i=t.scorePanel.getPlayerInfo(e.isLeft);t.eventPanel.showChampion(e.title,i),t.eventPanel.champion.show(),t.scorePanel.hide()}).on(""+c.a.sc_toggleScorePanel,function(e){e.visible?t.scorePanel.show():t.scorePanel.hide()}).on(""+c.a.sc_toggleChampionPanel,function(e){e.visible?t.eventPanel.champion.show():t.eventPanel.champion.hide()}).on(""+c.a.sc_showNotice,function(e){t.eventPanel.showNotice(e.title,e.content,e.isLeft,e.isBold),e.visible?t.eventPanel.noticeSprite.show():t.eventPanel.noticeSprite.hide()}).on(""+c.a.sc_setFxPoint,function(e){t.eventPanel.setFxPoint(e.mx,e.my)}).on(""+c.a.sc_playScoreFx,function(e){t.eventPanel.showScoreFx()}).on(""+c.a.sc_setBdVisible,function(e){t.eventPanel.showBd(e.v),e.v?t.scorePanel.hide():t.scorePanel.show()}).on(""+r.a.sc_init,function(e){t.scorePanel.setGameIdx(e.gameIdx,e.matchType)}).on(""+r.a.sc_score,function(e){t.scorePanel.setScoreFoul(e)}).on(""+r.a.sc_setTimer,function(e){console.log("webdbcmd",e);var i=e.state;i==l.b.RUNNING?(console.log("start timer"),t.scorePanel.toggleTimer(Number(i))):i==l.b.PAUSE?t.scorePanel.toggleTimer(i):i==l.b.RESET&&t.scorePanel.resetTimer(),"sec"in e&&t.scorePanel.setTimer(e.sec)})},t}()}});
//# sourceMappingURL=panel.js.map?c7a676d9b6234baff298