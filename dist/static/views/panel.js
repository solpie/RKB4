!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=186)}([function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"a",function(){return r}),i.d(e,"d",function(){return a}),i.d(e,"b",function(){return o});var n={MicrosoftYahei:"Microsoft Yahei",Impact:"impact",DigiLED:"digital"},r={STAGE_WIDTH:1920,STAGE_HEIGHT:1080},a={PAUSE:0,RUNNING:1,RESET:-1},o=[]},function(t,e,i){"use strict";function n(t){return new PIXI.Texture(new PIXI.BaseTexture(t))}function r(t){var e=t.url,i=t.isCrossOrigin,r=t.callback,o=new PIXI.Sprite;return a(e,function(t){o.texture=n(t),r&&r(o)},i),o}function a(t,e,n){if(n){var r=new XMLHttpRequest;r.open("GET",i.i(x.c)(t),!0),r.onload=function(t){i.i(y.g)(r.responseText,e)},r.send()}else i.i(y.g)(t,e)}function o(t){var e=t.width,i=t.height,r=t.url,o=t.callback,s=t.isCrossOrigin;a(r,function(t){l.texture=n(t),o&&o(l)},s);var l=new PIXI.extras.TilingSprite(m,e,i);return l}function s(t){var e,i=t.isTiling;return e=i?o(t):r(t),e.x=t.x?t.x:0,e.y=t.y?t.y:0,e}function l(t,e){t.scale.x=t.scale.y=e}function h(t,e){t.x=e-.5*t.width}function c(t){t.x=.5*(u.a.STAGE_WIDTH-t.width)}function d(t,e){t.width>e&&(t.text=t.text.substring(0,t.text.length-1),d(t,e))}function p(t){t.__parent&&t.__parent.addChild(t)}function f(t,e,i,n,r,a,o){for(var s,l,h,c=[a>>16,(65280&a)>>8,255&a],d=[o>>16,(65280&o)>>8,255&o],p=0;p<r;p++)s=c[0]-Math.floor((c[0]-d[0])*p/r),l=c[1]-Math.floor((c[1]-d[1])*p/r),h=c[2]-Math.floor((c[2]-d[2])*p/r),t.beginFill((s<<16)+(l<<8)+h),t.drawRect(e,i+p,n,1);t.endFill()}e.b=n,e.a=a,e.c=s,i.d(e,"h",function(){return v}),i.d(e,"e",function(){return w}),e.d=l,e.i=h,e.g=c,e.j=d,e.f=p,e.k=f;var u=i(0),y=i(6),x=i(2),g=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),m=n(null),v=function(t){function e(e){var i=t.call(this)||this;i.mapSprite={};var r=e.text;return i.animations=e.animations,i.frames=e.frames,i.digis={},i._digiCtn=new PIXI.Container,i.addChild(i._digiCtn),i.text=r,e.texture?(i._tex=e.texture,i.updateTex()):e.img&&a(e.img,function(t){i._tex=n(t),i.updateTex()}),i}return g(e,t),e.prototype.updateTex=function(){for(var t in this.digis){this.digis[t].sp.texture=this._tex}},Object.defineProperty(e.prototype,"text",{set:function(t){if(!(Number(t)<0)){var e=0,i=t.charAt(e);for(var n in this.digis){this.digis[n].visible=!1}for(;""!=i;){var r=this.animations[i];if(r>-1){var a=this.frames[r],o=a[0],s=a[1];this._frameWidth||(this._frameWidth=a[2]),this._frameHeight||(this._frameHeight=a[3]),this.digis[e]||(this.digis[e]=this._makeFrame(this._frameWidth,this._frameHeight));var l=this.digis[e];l.x=e*this._frameWidth,l.visible=!0,l.idx=e,l.sp.x=-o,l.sp.y=-s,e+=1,i=t.charAt(e)}}this._digiWidth=(e-1)*this._frameWidth}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{set:function(t){console.log("align right",this._digiWidth),"left"==t?this._digiCtn.x=0:"center"==t?this._digiCtn.x=.5*-this._digiWidth:"right"==t&&(this._digiCtn.x=-this._digiWidth)},enumerable:!0,configurable:!0}),e.prototype._makeFrame=function(t,e){var i=new PIXI.Container;this._digiCtn.addChild(i);var n=new PIXI.Graphics;n.beginFill(16711680).drawRect(0,0,t,e).endFill(),i.addChild(n);var r=new PIXI.Sprite(this._tex);return i.addChild(r),r.mask=n,i.sp=r,i},e}(PIXI.Container),w=function(t,e,i){void 0===t&&(t=.8),e||(e=u.a.STAGE_WIDTH),i||(i=u.a.STAGE_HEIGHT);var n=new PIXI.Graphics;return n.drawRect(0,0,e,i).alpha=t,n};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}g(e,t),Object.defineProperty(e.prototype,"text",{set:function(t){this._text=t,this.align},enumerable:!0,configurable:!0})}(PIXI.Text)},function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"d",function(){return r}),i.d(e,"b",function(){return o}),i.d(e,"a",function(){return s});var n=function(t,e){return void 0===e&&(e="image"),"/proxy?url="+t+"&type="+e},r=(function(){function t(t,e){this.cmdMap={},this.reqFunc=e,this.io=t}t.prototype.send=function(t,e){var i=this;return this.reqFunc(t,e),this.cmdMap[t]?{on:function(t,e){}}:(this.cmdMap[t]=!0,{on:function(t,e){i.io.on(t,function(t){e(t)})}})}}(),function(t){var e,i,n=decodeURIComponent(window.location.search.substring(1)),r=n.split("&");for(i=0;i<r.length;i++)if(e=r[i].split("="),e[0]===t)return void 0===e[1]||e[1]}),a=function(t,e,i,n){var r=new XMLHttpRequest;r.open(e,t,!0);var a="";if("POST"==e){if(i)for(var o in i)a+=o+"="+i[o]+"&";r.setRequestHeader("Content-type","application/x-www-form-urlencoded")}r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var t=r.getResponseHeader("content-type"),e=r.response;t.search("json")>-1&&(e=JSON.parse(r.response)),n&&n(e)}},r.send(a)},o=function(t,e){var i=window.$http;i?i.get(t).then(function(t){e&&e(t.body,t)}):a(t,"GET",null,function(t){e&&e(t)})},s=function(t,e,i){var n=window.$http;n?n.post(t,e).then(function(t){i&&i(t.body,t)}):a(t,"POST",e,function(t){i&&i(t)})}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(t){this.target=t,this.eventArr=[]}return t.prototype.to=function(t,e){return this.eventArr.push({event:"to",data:{vars:t,duration:e}}),this},t.prototype.delay=function(t){return this.eventArr.push({event:"delay",data:{duration:t}}),this},t.prototype.update=function(t){return this.updateFunc=t,this},t.prototype.start=function(){var t=this,e=function(){var i=t.eventArr.shift();if(i)if("to"==i.event){var n={};for(var r in i.data.vars)n[r]=t.target[r];new TWEEN.Tween(n).to(i.data.vars,i.data.duration).onUpdate(function(){for(var e in i.data.vars)t.target[e]=n[e];t.updateFunc&&t.updateFunc(t.target)}).onComplete(function(){e()}).start()}else"delay"==i.event?new TWEEN.Tween({_:0}).to({_:0},i.data.duration).onComplete(function(){e()}).start():"call"==i.event&&(i.data.callback(t),e());else t.target=null,t.eventArr=null,t.vars=null};return e(),this},t.prototype.call=function(t){return t&&this.eventArr.push({event:"call",data:{callback:t}}),this},t.to=function(e,i,n,r){return new t(e).to(n,i).call(r).start()},t.delayedCall=function(e,i){new t({_:0}).delay(e).call(i).start()},t}()},,function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(1),r=function(){function t(){this._texMap={}}return t.prototype.loadTex=function(t,e,r){var a=this;void 0===r&&(r=!0),"/"==t.charAt(0)&&(r=!1),this._texMap[t]?(console.log("loaded:",t),e(this._texMap[t])):i.i(n.a)(t,function(r){a._texMap[t]=i.i(n.b)(r),e(a._texMap[t])},r)},t.prototype.loadTexArr=function(t,e,i){var n=this;void 0===i&&(i=!1);var r=function(){t.length?n.loadTex(t.pop(),function(t){r()},i):e()};r()},t.prototype.getTex=function(t){return console.log(this._texMap),this._texMap[t]},t}(),a=window.imgLoader=new r},function(t,e,i){"use strict";function n(t){return function(e,i){return e[t]-i[t]}}function r(t){return function(e,i){return i[t]-e[t]}}function a(t,e){var i=[];for(var n in t)i.push(t[n]);return e&&(i=JSON.parse(JSON.stringify(i))),i}function o(t,e,i){var n=new Image;n.onload=function(){e(n)},null!=i&&(n.onerror=function(t){i(t)}),n.src=t}function s(t,e){function i(){0===--a&&(a=-1,e(n))}var n,r,a=t.length;a&&t[0].hasOwnProperty("name")&&t[0].hasOwnProperty("url")?(r=!1,n={}):(r=!0,n=[]);for(var o,s,l=0;l<t.length;l++){var h=t[l];o=new Image,r?(n.push(o),s=h):(n[h.name]=o,s=h.url),o.onload=i,o.src=s}}function l(t,e,i){void 0===e&&(e=":"),void 0===i&&(i="");var n=Math.floor(t/60),r=t%60,a=n+"",o=r+"";return n<10&&(a="0"+a),r<10&&(o="0"+o),a+e+o+i}function h(t,e,i){void 0===i&&(i=0);for(var n=0,r=t.length,a=new String,o="",s=0,l=0;l<r&&!(0!=i&&s>i);l++){var h=t.charAt(l);n++,s++,escape(h).length>4&&(n++,s++),a=a.concat(h),n>=e&&(o+=a.concat("\n"),a=new String,n=0)}return o+=a}function c(t,e,i){var n=void 0!==i?i:"0",r=new Array(1+e).join(n);return(r+t).slice(-r.length)}function d(t,e){var n="";e||(e=0);for(var r="",a=0;a<e+1;a++)r+="    ";if("object"==typeof t){var o=0;for(var s in t){var l=t[s];"object"==typeof l?(n+=r+"{\n",n+=d(l,e+1),n+="},"):(o==i.i(p.a)(t)-1?n+=r+'"'+s+'": "'+l+'"\n':n+=r+'"'+s+'": "'+l+'",\n',o++)}}else n="===>"+t+"<===("+typeof t+")";return n}e.e=n,e.d=r,e.b=a,e.g=o,e.f=s,e.i=l,e.h=h,e.c=c,e.a=d;var p=i(31)},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={init:"",pull:"",cs_pull:"",cs_showNotice:"",sc_showNotice:"",cs_showRollText:"",sc_showRollText:"",sc_showImg:"",cs_showImg:"",sc_showPoker:"",cs_showPoker:"",sc_showPokerPlayer:"",cs_showPokerPlayer:"",cs_init:"",sc_init:"",cs_bracketInit:"",sc_bracketInit:"",cs_bracket20Init:"",sc_bracket20Init:"",cs_showGameProcess:"",sc_showGameProcess:"",cs_bracket24Init:"",sc_bracket24Init:"",cs_bo3Score:"",sc_bo3Score:"",cs_bo3_5group:"",sc_bo3_5group:"",cs_3v3Init:"",sc_3v3Init:"",cs_startGame:"",sc_startGame:"",cs_showGroupRank:"",sc_showGroupRank:"",cs_showChampion:"",sc_showChampion:"",cs_showGamePlayerInfo:"",sc_showGamePlayerInfo:"",cs_showVictory:"",sc_showVictory:"",cs_startTimer:"",sc_startTimer:"",cs_setTimer:"",sc_setTimer:"",cs_setMinTimer:"",sc_setMinTimer:"",cs_commit:"",sc_commit:"",cs_score:"",sc_score:"",cs_timeOut:"",sc_timeOut:"",cs_showScore:"",sc_showScore:"",cs_showCombo:"",sc_showCombo:"",cs_panelCreated:"",sc_panelCreated:"",cs_bracketCreated:"",sc_bracketCreated:"",cs_bracket20Created:"",sc_bracket20Created:"",cs_bracket24Created:"",sc_bracket24Created:"",cs_srvCreated:"",sc_srvCreated:""};for(var r in n)n[r]=r},,,function(t,e,i){"use strict";function n(t,e){h(l("http://api.liangle.com/api/passerbyking/game/players/"+t),e)}function r(t){h(l("http://api.liangle.com/api/passerbyking/game/list"),t)}function a(t,e){h(l("http://api.liangle.com/api/passerbyking/game/info/"+t),e)}i.d(e,"h",function(){return s}),e.d=n,e.e=r,e.f=a,i.d(e,"b",function(){return d}),i.d(e,"c",function(){return p}),i.d(e,"g",function(){return f}),i.d(e,"a",function(){return u});var o=i(2),s=function(t){t("tcp.lb.liangle.com:3081")},l=function(t){return i.i(o.c)(t,"json")},h=function(t,e){i.i(o.b)(t,e)},c=function(t,e){h(l("http://api.liangle.com/api/passerbyking/player/info/"+t),e)},d=function(t,e){var n=" http://www.liangle.com/api/final_game/receive",r={data:t,url:n};i.i(o.a)(l(n),r,e)},p=function(t,e){var n=" http://www.liangle.com/api/final_game/match_receive",r={data:t,url:n};i.i(o.a)(l(n),r,e)},f=function(t){h(l("http://api.liangle.com/api/elitevote/players"),t)},u=function(t,e){var i=t.concat(),n=[],r=function(){c(i.pop(),function(t){n.push(t),i.length?r():e(n)})};r()}},,function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return o}),i.d(e,"d",function(){return l});var n=function(t,e,i,n){e--;for(var r=e;r<i;r++){t[r+1]=n}},r={},a={win:11,lose:12,pre:10};n(r,1,16,a.pre),n(r,17,24,a.lose),n(r,25,32,a.win),n(r,33,40,a.lose),n(r,41,44,a.win),n(r,45,48,a.lose),n(r,49,52,a.lose),n(r,53,54,a.win),n(r,55,56,a.lose),n(r,57,58,a.lose),n(r,59,59,a.lose),n(r,60,60,a.win),n(r,61,61,a.lose),n(r,62,62,a.win);var o=function(t){for(var e=1,i={},n=function(n,r,a,o,s){var l=t[n],h=t[r],c=t[o];if(i[n]=0!=o,h){if(0==l.score[0]&&0==l.score[1])return;e++,l.score[0]>l.score[1]?(h.player[a]=l.player[0],0!=o&&(c.player[s]=l.player[1])):(h.player[a]=l.player[1],0!=o&&(c.player[s]=l.player[0]))}},r=0;r<s.length;r++){var a=s[r];!function(t){var e=/\d+/gi,i=t.match(e),r=Number(i[0]),a=Number(i[1]),o=Number(i[2]),s=Number(i[3]),l=Number(i[4]);n(r,a,o,s,l)}(a)}return{incoming:e,winLoseMap:i}},s=["1-25.0 \n        \\17.0","2-25.1 \n        \\17.1","3-26.0 \n        \\18.0","4-26.1 \n        \\18.1","5-27.0 \n        \\19.0","6-27.1 \n        \\19.1","7-28.0 \n        \\20.0","8-28.1 \n        \\20.1","9-29.0 \n        \\21.0","10-29.1 \n        \\21.1","11-30.0 \n        \\22.0","12-30.1 \n        \\22.1","13-31.0 \n        \\23.0","14-31.1  \n        \\23.1","15-32.0 \n        \\24.0","16-32.1 \n        \\24.1","17-40.1 \n        \\0.0","18-39.1 \n        \\0.0","19-38.1 \n        \\0.0","20-37.1 \n        \\0.0","21-36.1 \n        \\0.0","22-35.1 \n        \\0.0","23-34.1 \n        \\0.0","24-33.1 \n        \\0.0","25-41.0 \n        \\33.0","26-41.1 \n        \\34.0","27-42.0 \n        \\35.0","28-42.1 \n        \\36.0","29-43.0 \n        \\37.0","30-43.1 \n        \\38.0","31-44.0 \n        \\39.0","32-44.1 \n        \\40.0","33-45.0 \n        \\0.0","34-45.1 \n        \\0.0","35-46.0 \n        \\0.0","36-46.1 \n        \\0.0","37-47.0 \n        \\0.0","38-47.1 \n        \\0.0","39-48.0 \n        \\0.0","40-48.1 \n        \\0.0","41-53.0 \n        \\51.0","42-53.1 \n        \\52.0","43-54.0 \n        \\49.0","44-54.1 \n        \\50.0","45-49.1 \n        \\0.0","46-50.1 \n        \\0.0","47-51.1 \n        \\0.0","48-52.1 \n        \\0.0","49-55.1 \n        \\0.0","50-55.0 \n        \\0.0","51-56.1 \n        \\0.0","52-56.0 \n        \\0.0","53-60.0 \n        \\57.0","54-60.1 \n        \\58.0","55-57.1 \n        \\0.0","56-58.1 \n        \\0.0","57-59.0 \n        \\0.0","58-59.1 \n        \\0.0","59-61.1 \n        \\0.0","60-62.0 \n        \\61.0","61-62.1 \n        \\0.0","62-63.0 \n        \\0.0"],l=function(t){for(var e=0;e<s.length;e++){var i=s[e];!function(e){var i=/\d+/gi,n=e.match(i),r=Number(n[0]),a=Number(n[1]),o=Number(n[2]),s=Number(n[3]),l=Number(n[4]);t(r,a,o,s,l)}(i)}}},,function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(1),r=i(5),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function e(e,a,o){var s=t.call(this)||this;return s.isLoaded=!1,s.isRemote=!0,s.avtWidth=a,e?r.a.loadTex(e,function(t){s.isLoaded=!0,s.msk=new PIXI.Sprite(t),i.i(n.d)(s.msk,s.avtWidth/t.width),s.addChild(s.msk),s.avt=new PIXI.Sprite,s.addChild(s.avt),s.avt.mask=s.msk,s.waitUrl&&(s.load(s.waitUrl),s.waitUrl=null)}):o&&(s.isLoaded=!0,s.msk=o,i.i(n.d)(s.msk,s.avtWidth/o.width),s.addChild(s.msk),s.avt=new PIXI.Sprite,s.addChild(s.avt),s.avt.mask=s.msk,s.waitUrl&&(s.load(s.waitUrl),s.waitUrl=null)),s}return a(e,t),e.prototype._setup=function(){},e.prototype.load=function(t){var e=this;t&&(this.isLoaded?r.a.loadTex(t,function(t){var i=e.avt;i.texture=t;var n=e.avtWidth/t.width;i.x=i.mask.x,i.scale.x=i.scale.y=n,i.y=i.mask.y-.5*(i.height-i.mask.height)},this.isRemote):this.waitUrl=t)},e}(PIXI.Container)},function(t,e,i){"use strict";function n(t){return"/img/ft/"+t+"g.png"}function r(t){return"/img/ft/"+t+"m.png"}function a(t){return t?"安云鹏"==t.substring(0,3)?"安云鹏":"qqppz10"==t?"烧烤哥":t||"":""}e.b=n,e.c=r,e.a=a},,,,function(t,e,i){"use strict";function n(t){var e=t.x,i=t.y,n=t.hints?t.hints:["",""],r={font:"25px",fill:"#fff",align:"right"},o=new PIXI.Text("",r);o.y=8;var s=new PIXI.Text("",r);s.y=61,o.x=s.x=188;var l={fontSize:"25px",fontFamily:a.c.MicrosoftYahei,fontWeight:"bold"},h=new PIXI.Text("",l);h.x=3,h.y=8;var c=new PIXI.Text("",l);return c.x=h.x,c.y=h.y+50,{x:e,y:i,labels:[h,c],hints:n,winIdx:-1,scores:[o,s]}}function r(t,e,i){console.log(t.width,e),t.style.fontSize=i+"px",t.width>e&&(t.style.fontSize=i+"px",r(t,e,i-1))}e.a=r,i.d(e,"b",function(){return o});var a=i(0),o={1:n({x:320,y:91,hints:["1号种子 ","8号种子 "]}),2:n({x:320,y:232,hints:["4号种子 ","5号种子 "]}),3:n({x:320,y:403,hints:["2号种子 ","7号种子 "]}),4:n({x:320,y:544,hints:["3号种子 ","6号种子 "]}),5:n({x:320,y:806,hints:["第1场败者 ","第2场败者 "]}),6:n({x:320,y:947,hints:["第3场败者 ","第4场败者 "]}),7:n({x:671,y:162}),8:n({x:671,y:476}),9:n({x:664,y:893,hints:["第7场败者 ",""]}),10:n({x:664,y:751,hints:["第8场败者 ",""]}),11:n({x:1067,y:319}),12:n({x:1020,y:825}),13:n({x:1366,y:770,hints:["第11场败者 ",""]}),14:n({x:1463,y:396,hints:["","第13场胜者 "]})},s=(function(){function t(t){this.idx=t,this.playerArr=[new s,new s]}}(),function(){function t(){this.isHint=!1,this.isWin=!1,this.score=0}return t}())},function(t,e,i){"use strict";function n(t){function e(t){i.visible&&i.parent&&o>0?new r.a(i).to({alpha:t},n).call(function(){o-=1,e(t?0:1)}).start():(a&&a(),o=-1)}var i=t.target,n=t.time||80,a=t.callback,o=t.loop||1/0;e(1)}e.a=n;var r=i(3)},,,function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(6),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a={PAUSE:0,RUNNING:1},o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeInSec=0,e.timerId=null,e.isMin=!1,e}return r(e,t),Object.defineProperty(e.prototype,"textInSec",{set:function(t){this.setTimeBySec(t)},enumerable:!0,configurable:!0}),e.prototype.setTimeBySec=function(t){this.timeInSec=t,this.text=i.i(n.i)(this.timeInSec)},e.prototype.toggleTimer=function(t){var e=this,r=function(){e.timerId&&(clearInterval(e.timerId),e.timerId=0,e.timerState=a.PAUSE)},o=function(){e.timerId&&clearInterval(e.timerId),e.timerId=setInterval(function(){e.isMin?--e.timeInSec<0&&(e.timeInSec=0):e.timeInSec++,e.text=i.i(n.i)(e.timeInSec)},1e3),e.timerState=a.RUNNING};null!=t?t==a.PAUSE?r():t==a.RUNNING&&o():this.timerId?r():o()},e.prototype.resetTimer=function(){this.timeInSec=0,this.timerState=a.PAUSE,this.text=i.i(n.i)(this.timeInSec)},e}(PIXI.Text)},,,,,,,,function(t,e,i){"use strict";function n(t){return Object.keys(t).length}e.a=n},,,,,,,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(t){var e=1,i=function(i,n,r){var a=t[i],o=n.split("."),s=o[0],l=Number(o[1]);o=r.split(".");var h=o[0],c=Number(o[1]),d=t[s],p=t[h];0==a.score[0]&&0==a.score[1]||(e++,5==i&&console.log("toWin",d,"toLose",p,c),a.score[0]>a.score[1]?(d.player[l]=a.player[0],"x"!=h&&(p.player[c]=a.player[1])):(d.player[l]=a.player[1],"x"!=h&&(p.player[c]=a.player[0])))};return i(1,"9.1","16.1"),i(2,"10.1","15.1"),i(3,"11.1","14.1"),i(4,"12.1","13.1"),i(5,"21.1","13.0"),i(6,"22.1","14.0"),i(7,"23.1","15.0"),i(8,"24.1","16.0"),i(9,"21.0","17.0"),i(10,"22.0","18.0"),i(11,"23.0","19.0"),i(12,"24.0","20.0"),i(13,"17.1","x.0"),i(14,"18.1","x.0"),i(15,"19.1","x.0"),i(16,"20.1","x.0"),i(17,"27.1","x.0"),i(18,"28.1","x.0"),i(19,"25.1","x.0"),i(20,"26.1","x.0"),i(21,"31.0","25.0"),i(22,"31.1","26.0"),i(23,"32.0","27.0"),i(24,"32.1","28.0"),i(25,"29.1","x.0"),i(26,"29.0","x.0"),i(27,"30.1","x.0"),i(28,"30.0","x.0"),i(29,"34.1","x.0"),i(30,"33.1","x.0"),i(31,"36.0","33.0"),i(32,"36.1","34.0"),i(33,"35.1","x.0"),i(34,"35.0","x.0"),i(35,"37.1","x.0"),i(36,"38.0","37.0"),i(37,"38.1","x.0"),{incoming:e}}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(6),r=i(12),a=function(){function t(){}return t.getReward=function(e,i,n,r,a){return void 0===r&&(r=!1),void 0===a&&(a={}),t._getReward(e,i,n,r,a)},t._getReward=function(e,n,a,o,s){void 0===o&&(o=!1);var l=i.i(r.a)(e),h=t.calcReward(e,l.winLoseMap);for(var c in h)if(s[c]){var d=s[c].hupuID,p=t.sumRewardArr(h[c]);console.log("reward2",d,p)}var f=h[n],u=h[a];if(o)return[f,u];var y=0;if(f)for(var x=0,g=f;x<g.length;x++){var m=g[x];y+=m}var v=0;if(u)for(var w=0,I=u;w<I.length;w++){var m=I[w];v+=m}return[y,v]},t.sumRewardArr=function(t){for(var e=0,i=0,n=t;i<n.length;i++){e+=n[i]}return e},t.calcReward=function(t,e){for(var i={},n=function(t,n,r){i[t]||(i[t]=[]),i[r]||(i[r]=[]);var a=i[t],o=i[r];n>0&&(62==n?(a.push(5e4),o.push(2e4)):(61==n&&o.push(1e4),59==n&&o.push(5e3),e[n]?a.push(2e3):a.push(1e3)))},r=0;r<62;r++){var a=r+1,o=t[r+1],s=o.score[0],l=o.score[1];0==s&&0==l||(s>l?n(o.player[0],a,o.player[1]):n(o.player[1],a,o.player[0]))}var h=0;for(var c in i)for(var d=i[c],p=0,f=0,u=d;f<u.length;f++){var o=u[f];h+=o,p+=o}return console.log("total reward ",h),i},t.final4Reward=function(e,i,n){return t.getReward(e,"p1","p2",!1,i)},t.final4Reward2=function(t,e,r){var a=t[59].player,o=t[60].player,s=this.getReward(t,a[0],a[1]),l=this.getReward(t,o[0],o[1]),h=[{player:a[0],reward:s[0],data:null},{player:a[1],reward:s[1],data:null},{player:o[0],reward:l[0],data:null},{player:o[1],reward:l[1],data:null}];h=h.sort(i.i(n.d)("reward")),r.text="",r.visible=!0;for(var c=0,d=h;c<d.length;c++){var p=d[c];p.data=e[p.player],r.text+=p.data.hupuID+" :￥"+p.reward/1e3+",000       "}return h},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={resetTimer:"",sc_startTimer:"",sc_pauseTimer:"",sc_resetTimer:"",cs_setDelayTime:"",sc_setDelayTime:"",sc_setTimer:"",sc_toggleTheme:"",sc_showChampion:"",sc_toggleScorePanel:"",sc_toggleChampionPanel:"",sc_showNotice:"",sc_setFxPoint:"",sc_playScoreFx:"",sc_setBdVisible:""};for(var r in n)n[r]=r},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(6),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(e,r,a,o){void 0===o&&(o=2);for(var s=t.call(this)||this,l=[],h=r;h<a+1;h++)l.push(e+i.i(n.c)(h,o)+".png");for(var c=[],d=0;d<l.length;d++){var p=PIXI.Texture.fromImage(l[d]);c.push(p)}var f=new PIXI.extras.AnimatedSprite(c);return f.animationSpeed=.3,f.loop=!1,s.addChild(f),s.mc=f,f.onComplete=function(){s.emit("complete")},s}return r(e,t),e.prototype.onComplete=function(t){},e.prototype.show=function(){this.mc.play()},e.prototype.gotoAndStop=function(t){this.mc.gotoAndStop(t)},e.prototype.playOnce=function(){this.mc.gotoAndStop(0),this.mc.play()},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=function(){function t(t){this._x=0,this._y=0,this.hAlign="left",this.vAlign="top",this.t=t}return Object.defineProperty(t.prototype,"text",{get:function(){return this.t.text},set:function(t){this.t.text=t,this.x=this._x,this.y=this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,"right"==this.hAlign?(console.log("set x right"),this.t.x=this._x-this.t.width):"center"==this.hAlign?this.t.x=this._x-.5*this.t.width:this.t.x=this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,"bottom"==this.vAlign?this.t.y=this._y-this.t.height:"middle"==this.vAlign?this.t.y=this._y-.5*this.t.height:this.t.y=this._y},enumerable:!0,configurable:!0}),t}(),r=function(){function t(t){this.lastX=0,this.lastY=0,this.ctn=t}return t.prototype._cloneStyle=function(t){var e={};for(var i in t)e[i]=t[i];return e},t.prototype.add=function(t){var e=t.style;e=this._cloneStyle(e);var i=new PIXI.Text(t.text||"",e);t.parent?t.parent.addChild(i):this.ctn.addChild(i);var r=new n(i);return r.hAlign=t.hAlign||"left",r.x=t.x||0,r.y=t.y||0,this.lastX=r.x,this.lastY=r.y,r},t}()},,,,function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(205),r=i(7),a=i(2),o=function(){function t(t){this.statistics=new n.a(t)}return t.prototype.setScore=function(t){"leftScore"in t&&this.statistics.setLeftScore(t.leftScore),"rightScore"in t&&this.statistics.setRightScore(t.rightScore),"leftFoul"in t&&this.statistics.setLeftFoul(t.leftFoul),"rightFoul"in t&&this.statistics.setRightFoul(t.rightFoul)},t.prototype.initLocal=function(){io.connect("/rkb").on("connect",function(t){setTimeout(function(t){i.i(a.a)("/emit/"+r.a.cs_bracket24Created,{_:null})},3e3),console.log("connect",window.location.host)}).on(""+r.a.sc_init,function(t){})},t.prototype.reset=function(){this.statistics.setLeftScore(0),this.statistics.setRightScore(0),this.statistics.setLeftFoul(0),this.statistics.setRightFoul(0)},t}()},,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.d(e,"b",function(){return l}),i.d(e,"a",function(){return d});var n=i(20),r=i(5),a=i(1),o=i(175),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=2,h={"1.0":"L1",1.1:"R1","2.0":"L2",2.1:"R2","3.0":"L3",3.1:"R3","4.0":"L4",4.1:"R4","5.0":"L5",5.1:"R5","6.0":"L6",6.1:"R6","7.0":"L7",7.1:"R7","8.0":"L8",8.1:"R8","9.0":"L9","10.0":"R9","11.0":"L10","12.0":"R10"},c=[29,30,33,34,35],d=function(t){function e(e){var s=t.call(this)||this;s.gameMap={},s.playerNameMapPoker={},e.addChild(s);var h=i.i(a.c)({url:"/img/panel/bracket/final/bracketBg.png"});s.addChild(h);var d=i.i(a.c)({url:"/img/panel/bracket/final/bracket.png"});s.addChild(d);var p=395,f={1:[78,82],2:[78,241],3:[78,400],4:[78,562],5:[p,123],6:[p,279],7:[p,439],8:[p,601],9:[p,45],10:[p,201],11:[p,359],12:[p,519],13:[78,990],14:[78,910],15:[78,830],16:[78,750],17:[365,970],18:[365,890],19:[365,810],20:[365,730],21:[712,82],22:[712,242],23:[712,402],24:[712,562],25:[652,790],26:[652,710],27:[652,950],28:[652,870],29:[930,750],30:[930,910],31:[1030,162],32:[1030,482],33:[1168,870],34:[1168,710],35:[1405,795],36:[1345,320],37:[1650,758],38:[1662,448]};s.posMap=f;var u={29:!0,30:!0,33:!0,34:!0,35:!0},y=[13,14,15,16,17,18,19,20,25,26,27,28,37],x=function(t,e){r.a.loadTex(t,function(t){var i=new PIXI.Sprite;i.texture=t;var n=f[e];n[0]*=l,n[1]*=l,s.addChild(i),i.x=n[0],i.y=n[1];var r=Boolean(u[e]),a=new o.a(r);a.setInfo("","");var h=new o.a(r);h.x=a.x,h.y=a.y+37*l,h.setInfo("",""),i.addChild(a),i.addChild(h),s.gameMap[e]=[a,h]})};return r.a.loadTexArr(["/img/panel/bracket/final/pokerBlack.png","/img/panel/bracket/final/pokerRed.png","/img/panel/bracket/final/winHint.png","/img/panel/bracket/final/groupBg1.png","/img/panel/bracket/final/groupBg2.png","/img/panel/bracket/final/groupBg3.png"],function(t){for(var e=0;e<38;e++){var r=e+1,o="/img/panel/bracket/final/groupBg1.png";y.indexOf(r)>-1?o="/img/panel/bracket/final/groupBg2.png":c.indexOf(r)>-1&&(o="/img/panel/bracket/final/groupBg3.png"),x(o,r)}var l=new PIXI.Sprite;s.addChild(l),s.incomingSp=l,i.i(n.a)({target:s.incomingSp,time:600}),s.initKey(),i.i(a.d)(s,.5)},!1),s}return s(e,t),e.prototype.setFirstView=function(){this.x=0,this.scale.x=this.scale.y=.8,this.y=-30},e.prototype.initKey=function(){var t=this;window.onkeyup=function(e){219==e.keyCode?(console.log("zoom out"),t.scale.x=t.scale.y=.5,t.x=t.y=0):81==e.keyCode?t.setFirstView():65==e.keyCode?(t.x=0,t.y=-1080,t.scale.x=t.scale.y=1):87==e.keyCode?(t.x=-576,t.y=0,t.scale.x=t.scale.y=1):83==e.keyCode?(t.x=-384,t.y=-1080,t.scale.x=t.scale.y=1):69==e.keyCode?(t.x=-1920,t.y=-50,t.scale.x=t.scale.y=1):68==e.keyCode?(t.x=-1920,t.y=-1080,t.scale.x=t.scale.y=1):221==e.keyCode&&(console.log("zoom in"),t.scale.x=t.scale.y=1),console.log("key up",e.keyCode)};var e=!1,i=function(i){e&&.5!=t.scale.x&&(t.x+=i.movementX,t.y+=i.movementY,t.x>0&&(t.x=0),t.y>0&&(t.y=0),t.x<-1920&&(t.x=-1920),t.y<-1080&&(t.y=-1080))};window.onmousemove=function(t){i(t)},window.onmouseup=function(t){e=!1},window.onmousedown=function(t){e=!0}},e.prototype.setRec=function(t,e){for(var i=this,n={},a=0;a<38;a++){var o=a+1,s=t[o],l=this.gameMap[o];console.log("gameIdx",o,l);var d=l[0],p=l[1],f=[h[o+".0"],h[o+".1"]];console.log("gameIdx",o,f),f[0]&&(n[s.player[0]]=f[0]),f[1]&&(n[s.player[1]]=f[1]),s.poker=[n[s.player[0]],n[s.player[1]]],s.player[0]&&d.setInfo(s.player[0],s.score[0],s.poker[0]),s.player[1]&&p.setInfo(s.player[1],s.score[1],s.poker[1]);var u=Number(s.score[0]),y=Number(s.score[1]);d.setWin(1),p.setWin(1),0==u&&0==y?(d.winSp.visible=!1,p.winSp.visible=!1):u<y?d.setWin(.3):p.setWin(.3)}var x=this.posMap[e],g="/img/panel/bracket/final/incoming.png";c.indexOf(e)>-1&&(g="/img/panel/bracket/final/incoming2.png"),r.a.loadTex(g,function(t){x&&(i.incomingSp.x=x[0]-34,i.incomingSp.y=x[1]-34),i.incomingSp.texture=t})},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(1),r=i(3),a=i(44),o=i(5),s=i(0),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(){var e=t.call(this)||this;return e.isPlaying=!1,e.ctn=new PIXI.Container,e.addChild(e.ctn),o.a.loadTex("/img/panel/bracket/final/playerBg1.png",function(t){var r=new PIXI.Sprite;r.texture=t,e.bg=r;var o=new PIXI.Sprite;o.x=61,o.y=39;var l=new PIXI.Graphics;l.x=o.x,l.y=o.y,l.beginFill(16711680).drawCircle(105,105,105),e.ctn.addChild(o),o.mask=l,e.ctn.addChild(l),e.avt=o,e.ctn.addChild(r);var h={fill:"#000",fontWeight:"bold",fontFamily:s.c.MicrosoftYahei,fontSize:"32px"},c=new PIXI.Text("",h);c.x=20,c.y=255,e.ctn.addChild(c),e.nameText=c;var d=new PIXI.Text("",h);d.x=20,d.y=305,e.ctn.addChild(d),d.style.fontSize="25px",e.infoText=d;var p=new PIXI.Sprite,f={fontWeight:"bold",fontFamily:s.c.MicrosoftYahei,fontSize:"50px"},u=new PIXI.Text("A",f);u.y=65,p.label=u,p.addChild(u),p.x=25,p.y=25,e.pokerSpTop=p,e.ctn.addChild(p);var y=new PIXI.Sprite;u=new PIXI.Text("A",f),y.label=u,u.y=65,y.addChild(u),y.x=308,y.y=340,y.rotation=180*PIXI.DEG_TO_RAD,e.pokerSpBottom=y,e.ctn.addChild(y),i.i(n.d)(y,.6),i.i(n.d)(p,.6);var x=new a.a("/img/panel/bracket/final/poker8/poker_8_",0,13);x.y=-72,x.x=-87,e.addChild(x),e.fx=x,x.on("complete",function(t){e.isPlaying=!1,e.fx.visible=!1,e.ctn.visible=!0,console.log("complete",e.pokerSpTop,e.nameText)})}),e}return l(e,t),e.prototype.playOnce=function(){if(!this.isPlaying){this.isPlaying=!0;var t=this.fx;t.visible=!0,this.ctn.visible=!1,t.playOnce()}},e.prototype.setPoker=function(t){var e=this;this.pokerStr=t;var r,a,s=t.charAt(0);"L"==s?(r="/img/panel/bracket/final/pokerBlack.png",a="#000"):"R"==s&&(r="/img/panel/bracket/final/pokerRed.png",a="#d40d0d"),o.a.loadTex(r,function(t){e.pokerSpTop.texture=t,e.pokerSpBottom.texture=t}),this.pokerSpBottom.label.style.fill=a,this.pokerSpTop.label.style.fill=a;var l=t.substring(1);"1"==l&&(l="A"),this.pokerSpBottom.label.text=l,this.pokerSpTop.label.text=l,i.i(n.i)(this.pokerSpBottom.label,30),i.i(n.i)(this.pokerSpTop.label,30)},e.prototype.setInfo=function(t){var e=this;this.nameText.text=t.name,i.i(n.j)(this.nameText,230),i.i(n.i)(this.nameText,164),this.infoText.text=t.height+" CM /"+t.weight+" KG",i.i(n.i)(this.infoText,164),o.a.loadTex(t.avatar,function(t){e.avt.texture=t,t.width>t.height?i.i(n.d)(e.avt,210/t.height):i.i(n.d)(e.avt,210/t.width),e.playOnce()})},e.prototype.toPos=function(t,e,a,o,s){var l=this,h=this;r.a.to(h,300,{x:a,y:o-100}).call(function(r){h.x=t,h.y=e,l.reset(),i.i(n.d)(h,1),s()}),r.a.to(h.scale,150,{x:.05,y:.05})},e.prototype.reset=function(){this.isPlaying=!1,console.log("poker reset",this.pokerStr),this.ctn.visible=!1,this.fx.visible=!0,this.fx.gotoAndStop(0)},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(14),r=i(0),a=i(1),o=i(19),s=i(15),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(e){var o=t.call(this)||this,s=new PIXI.Graphics;s.beginFill(16777215).drawRect(0,0,388,84),o.addChild(s);var l=new PIXI.Graphics;l.beginFill(16777215).drawRect(0,84,388,84),o.addChild(l);var h=i.i(a.c)({url:"/img/panel/process/playerBg2.png"});o.addChild(h),h.mask=s;var c=i.i(a.c)({url:"/img/panel/process/playerBg2.png"});o.addChild(c),c.mask=l,o.lAvt=new n.a("/img/panel/score/m4/avtMask.png",84),o.lAvt.x=295,o.lAvt.y=3,h.addChild(o.lAvt),o.rAvt=new n.a("/img/panel/score/m4/avtMask.png",84),o.rAvt.x=o.lAvt.x,o.rAvt.y=88,c.addChild(o.rAvt);var d={fontFamily:r.c.MicrosoftYahei,fontWeight:"bold",fontSize:"38px",fill:"#323232"},p=new PIXI.Text("",d);p.y=8,o.lPlayerName=p,h.addChild(p);var f=new PIXI.Text("",d);f.x=p.x,f.y=95,o.rPlayerName=f,c.addChild(f);var u={1:[55,38],2:[55,260],3:[30,530],4:[30,710],5:[440,502],6:[440,670],7:[830,534],8:[648,80],9:[1220,528],10:[1132,178]},y=u[e];return o.x=y[0],o.y=y[1],3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&9!=e||i.i(a.d)(o,.8),10==e&&i.i(a.d)(o,1.2),7==e&&(l.y=c.y=120),8==e&&(l.y=c.y=130),10==e&&(l.y=c.y=20),o}return l(e,t),e.prototype.setData=function(t,e,i){void 0===i&&(i=!1),i&&(t.hupuID=t.data.realName,e.hupuID=e.data.realName,console.log("set real name",t,e)),this._setData(t,e)},e.prototype._setData=function(t,e){this.lPlayerName.text=i.i(s.a)(t.hupuID),i.i(o.a)(this.lPlayerName,270,38),this.lPlayerName.x=285-this.lPlayerName.width,this.rPlayerName.text=i.i(s.a)(e.hupuID),i.i(o.a)(this.rPlayerName,270,38),this.rPlayerName.x=285-this.rPlayerName.width,t.data.avatar&&this.lAvt.load(t.data.avatar),e.data.avatar&&this.rAvt.load(e.data.avatar);var n=t.score,r=e.score;this.lAvt.visible=this.rAvt.visible=!0;var a=this.lAvt.parent,l=this.rAvt.parent;console.log("socre",n,r),void 0==n||void 0==r?a.alpha=l.alpha=1:0==n&&0==r?a.alpha=l.alpha=1:n<r?(a.alpha=.5,l.alpha=1):(a.alpha=1,l.alpha=.5)},e.prototype.showNameAvatar=function(t,e){t?(this.lPlayerName.text=i.i(s.a)(t.realName),i.i(o.a)(this.lPlayerName,270,38),this.lPlayerName.x=285-this.lPlayerName.width,this.lAvt.visible=!0,this.lAvt.load(t.data.avatar)):(this.lAvt.visible=!1,this.lPlayerName.text=""),e?(this.rPlayerName.text=i.i(s.a)(e.realName),i.i(o.a)(this.rPlayerName,270,38),this.rPlayerName.x=285-this.rPlayerName.width,this.rAvt.visible=!0,this.rAvt.load(e.data.avatar)):(this.rAvt.visible=!1,this.rPlayerName.text="")},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(){var e=t.call(this)||this;e.hasHint=!0;var i={fontFamily:n.c.Impact,fontSize:"35px",fill:"#a0adb6"},r=new PIXI.Text("",i);return e.addChild(r),e.label=r,e}return r(e,t),e.prototype.setFoul=function(t){this.label.style.fill=t>3?"#eba334":"#a0adb6";var e=t+" ";this.label.text=e,this.label.x=.5*(109-this.label.width)},e}(PIXI.Container)},,,,,,,,,,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(173),r=i(2),a=i(7),o=i(12),s=function(){function t(t){console.log("init backend view"),this.backend=new n.a,t.addChild(this.backend),this.initLocal()}return t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(t){setTimeout(function(t){i.i(r.a)("/emit/"+a.a.cs_bracket24Created,{_:null})},3e3),console.log("connect",window.location.host)}).on(""+a.a.sc_bracket24Init,function(e){console.log("sc_bracket24Init",e),t.onBracketData(e.rec)})},t.prototype.onBracketData=function(t){var e=i.i(o.a)(t);this.backend.setRec(t,e.incoming)},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(1),r=i(3),a=i(68),o=i(2),s=i(7),l=i(41),h=i(69),c=function(){function t(t){this.pokerPlayerArr=[],this.bracket=new a.a(t),this.pokerCtn=new PIXI.Container,t.addChild(this.pokerCtn),this.initPokerPanel(),this.initLocal()}return t.prototype.initPokerPanel=function(){var t=i.i(n.e)(.9,1500,1080);t.x=1060,this.pokerCtn.addChild(t);var e=new h.a;this.pokerPlayer=e,e.x=1130,e.y=640,this.pokerCtn.visible=!1;for(var r=0;r<10;r++){var a=new h.a;a.x=1130+50*(r+1),a.y=e.y,this.pokerPlayerArr.push(a),this.pokerCtn.addChildAt(a,1)}this.pokerCtn.addChild(e)},t.prototype.onBracketData=function(t){var e=i.i(l.a)(t);this.bracket.setRec(t,e.incoming)},t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(t){setTimeout(function(t){i.i(o.a)("/emit/"+s.a.cs_bracket20Created,{_:null})},3e3),console.log("connect",window.location.host)}).on(""+s.a.sc_bracket20Init,function(e){console.log("sc_bracketInit",e),t.onBracketData(e.rec)}).on(""+s.a.sc_showPokerPlayer,function(e){console.log("sc_showPokerPlayer",e,t.pokerPlayer),t.pokerPlayer.reset(),t.pokerPlayer.setPoker(e.pokerStr),t.pokerPlayer.setInfo(e.playerData.data),r.a.delayedCall(2500,function(i){var n=e.pokerStr.substring(1),a=t.bracket.posMap[n];if(console.log("toPos",a,n),a){t.pokerPlayer.toPos(1130,640,a[0],a[1],function(e){for(var i=0;i<t.pokerPlayerArr.length;i++){var n=t.pokerPlayerArr[i];r.a.to(n,80*i,{x:1130+50*(i+1)})}});for(var o=0;o<t.pokerPlayerArr.length;o++){var s=t.pokerPlayerArr[o];r.a.to(s,30*o,{x:1130})}}})}).on(""+s.a.sc_showPoker,function(e){console.log("sc_showPokerPlayer",e,t.pokerPlayer),t.pokerCtn.visible=e.visible,e.visible&&t.bracket.setFirstView()})},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(2),r=i(10),a=i(0),o=i(7),s=i(176),l=i(19),h=function(){function t(t,e,i){var n=this;console.log("BracketView isMon: ",i),this.isMonth=i,this.bracket=new s.a(t),this.isMonth?this.initManmaul():(this.bracket.visible=!1,window.onkeyup=function(t){console.log(t),"ArrowLeft"==t.key||"ArrowRight"==t.key||("Tab"==t.key?n.bracket.visible=!n.bracket.visible:t.key)},this.getPreRoundInfo(e),this.initAuto(Number(e))),this.initLocal()}return t.prototype.initManmaul=function(){},t.prototype.getPreRoundInfo=function(t){},t.prototype.showComingIdx=function(t){this.bracket.showComingIdx(t)},t.prototype.hide=function(){},t.prototype.show=function(){},t.prototype.getFtBracketInfo=function(){},t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(e){t.isMonth&&!t.isInit&&(t.isInit=!0,i.i(n.a)("/emit/"+o.a.cs_bracketCreated,{_:null})),console.log("connect",window.location.host)}).on(""+o.a.sc_bracketInit,function(e){console.log("sc_bracketInit"),delete e._,t.onBracketData({data:e})})},t.prototype.initAuto=function(t){var e=this,n=function(i){var n=io.connect(i);n.on("connect",function(){t?(console.log("hupuAuto socket connected GameId",t),n.emit("passerbyking",{game_id:t,page:"top8Map"})):(e.getFtBracketInfo(),console.log("connected local /rkb"))});var r={};r.top8Match=function(t){console.log("top8Match",t),t.data=t.list,e.onBracketData(t)},r.startGame=function(i){console.log("startGame",i),e.getPreRoundInfo(t)},r.init=function(t){console.log("init",t)},r.commitGame=function(i){console.log("commitGame",i),e.getPreRoundInfo(t)},r.updateScore=function(t){e.bracket.hideComing()},n.on("wall",function(t){var e=t.et;console.log("event:",e,t),r[e]&&r[e](t)})};t?i.i(r.h)(function(t){n(t)}):n("/rkb")},t.prototype.onBracketData=function(t){var e={},n=new PIXI.TextStyle({fontSize:"25px",fill:"#e1e1e1",align:"right",fontFamily:a.c.MicrosoftYahei});console.log("onBracketData",t.data);for(var r in t.data){var o=t.data[r],s=l.b[r];s.idx=Number(r),(Number(o.left.score)||Number(o.right.score))&&(o.left.score>o.right.score?this.bracket.setWinHint(s.hint1,!0):this.bracket.setWinHint(s.hint2),e[r]=!0),o.left.name&&(s.labels[0].style=n),o.right.name&&(s.labels[1].style=n);var h=s.hints;s.labels[0].text=o.left.name||(h?h[0]:""),i.i(l.a)(s.labels[0],160,25),s.scores[0].text=o.left.score||"0",s.labels[1].text=o.right.name||(h?h[1]:""),i.i(l.a)(s.labels[1],160,25),s.scores[1].text=o.right.score||"0"}for(var c=1,d=0;d<14;d++){if(e[14-d]){c=14-d+1;break}}this.showComingIdx(c)},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i(178),r=i(7),a=i(0),o=i(3),s=i(184),l=i(181),h=i(2),c=i(180),d=function(){function t(t){var e=this;this.is3v3=!1,this.isInit=!1,this.stage=t;var i=this.preLoadFont(a.c.DigiLED);t.addChild(i);var n=this.preLoadFont(a.c.Impact);t.addChild(n),o.a.delayedCall(2e3,function(r){e.localWS=e.initLocalWs(),t.removeChild(i),t.removeChild(n),e.initPanel()})}return t.prototype.initPanel=function(){if(this.is3v3=1==i.i(h.d)("g3"),this.is3v3)this.show3v3();else{this.scorePanel=new n.a,this.stage.addChild(this.scorePanel);var t=new s.a(this.stage);this.teamVictory=t,this.gameProcess=new c.a(this.stage)}},t.prototype.preLoadFont=function(t){var e=new PIXI.Text("",{fontFamily:t});return e.text="0",e.alpha=0,e},t.prototype.initLocalWs=function(){var t=this;io.connect("/rkb").on("connect",function(e){console.log("connect",window.location.host),t.isInit||(t.isInit=!0)}).on(""+r.a.sc_init,function(e){console.log("sc_init",e),t.scorePanel.setInit(e)}).on(""+r.a.sc_score,function(e){console.log("sc_score",e),t.panel.setScoreFoul(e)}).on(""+r.a.sc_showRollText,function(e){console.log("sc_showRollText",e),t.scorePanel.showTips(e)}).on(""+r.a.sc_setTimer,function(e){console.log("webdbcmd",e);var i=e.state,n=t.panel;i==a.d.RUNNING?(console.log("start timer"),n.toggleTimer(Number(i))):i==a.d.PAUSE?n.toggleTimer(i):i==a.d.RESET&&n.resetTimer(),"sec"in e&&n.setTimer(e.sec)}).on(r.a.sc_3v3Init,function(e){t.show3v3(e)}).on(r.a.sc_timeOut,function(e){console.log("sc_timeOut",e),t.is3v3||t.scorePanel.setTimeOut(e)}).on(r.a.sc_setMinTimer,function(e){t.gameProcess&&t.gameProcess.showTimer(e)}).on(r.a.sc_showGameProcess,function(e){console.log("sc_showVictory",e),t.is3v3||t.gameProcess.show(e)}).on(r.a.sc_showVictory,function(e){console.log("sc_showVictory",e),e.visible?t.teamVictory.show(e):t.teamVictory.hide()})},Object.defineProperty(t.prototype,"panel",{get:function(){return this.is3v3?this.game3v3:this.scorePanel},enumerable:!0,configurable:!0}),t.prototype.show3v3=function(t){this.game3v3||(this.game3v3=new l.a,this.stage.addChild(this.game3v3)),this.game3v3.setTeamInfo(t)},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(5),r=i(187),a=i(7),o=function(){function t(t){var e=this;this.isInit=!1;for(var i=0;i<13;i++);n.a.loadTexArr(["/img/panel/bracket/final/playerBg1.png","/img/panel/bracket/final/bg1.png","/img/panel/bracket/final/bg2.png","/img/panel/bracket/final/pokerBlack.png","/img/panel/bracket/final/pokerRed.png"],function(i){e.pokerPanel=new r.a,t.addChild(e.pokerPanel),e.initLocal()},!1)}return t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(t){}).on(""+a.a.sc_showPokerPlayer,function(e){console.log("sc_showPokerPlayer",e),t.pokerPanel.showPokerPlayer(e)}).on(""+a.a.sc_showPoker,function(e){t.pokerPanel.visible=e.visible,e.visible&&(8==e.pokerNum?t.pokerPanel.show8Player():12==e.pokerNum?t.pokerPanel.show12Player():0==e.pokerNum&&t.pokerPanel.resetAll()),console.log("sc_bracketInit",e)})},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return x});var n=i(199),r=i(197),a=i(192),o=i(196),s=i(7),l=i(188),h=i(191),c=i(193),d=i(194),p=i(198),f=i(190),u=i(3),y=i(189),x=function(){function t(t,e){this.popupItemMap={},this.ctn=t,this.initWS(e)}return t.prototype.initWS=function(t){var e=this;t.on(s.a.sc_showGroupRank,function(t){console.log("sc_groupRank",t),t.visible?e.show(c.a,t):e.hide(c.a)}).on(s.a.sc_showChampion,function(t){console.log("sc_showChampion",t),t.visible?e.show(l.a,t):e.hide(l.a)}).on(s.a.sc_showGamePlayerInfo,function(t){console.log("sc_showGamePlayerInfo",t),t.visible?e.show(h.a,t):e.hide(h.a)}).on(s.a.sc_showNotice,function(t){console.log("sc_showNotice",t),t.visible?e.show(d.a,t):e.hide(d.a)}).on(s.a.sc_showCombo,function(t){console.log("sc_showCombo",t),t.visible?e.show(y.a,t):e.hide(y.a)}).on(s.a.sc_showVictory,function(t){if(console.log("sc_showVictory",t),"M2"==t.panel)t.visible?e.show(n.a,t):e.hide(n.a);else if(t.visible){var i=f.a.isShowFxImg(t);i.texArr.length>0?(u.a.delayedCall(1500,function(i){e.show(p.a,t)}),e.show(f.a,t)):e.show(p.a,t)}else e.hide(f.a),e.hide(p.a)}).on(s.a.sc_showRollText,function(t){console.log("sc_showRollText",t,e.popupItemMap),t.visible?e.show(o.a,t):e.hide(o.a)}).on(s.a.sc_showGameProcess,function(t){console.log("sc_showGameProcess",t),t.visible?e.show(a.a,t):e.hide(a.a)}).on(s.a.sc_showImg,function(t){console.log("sc_showImg"),t.visible?e.show(r.a,t):e.hide(r.a,t)})},t.prototype.show=function(t,e){if(!t.class)throw"check class def"+t;this.popupItemMap[t.class]||(this.popupItemMap[t.class]=new t,this.popupItemMap[t.class].create(this.ctn)),this.popupItemMap[t.class].show(e)},t.prototype.hide=function(t,e){this.popupItemMap[t.class]&&this.popupItemMap[t.class].hide(e)},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(7),r=i(0),a=i(3),o=i(2),s=i(201),l=i(200),h=function(){function t(t){var e=this;this.is3v3=!1,this.isInit=!1,this.stage=t;var i=this.preLoadFont(r.c.DigiLED);t.addChild(i);var n=this.preLoadFont(r.c.Impact);t.addChild(n),a.a.delayedCall(2e3,function(r){e.localWS=e.initLocalWs(),t.removeChild(i),t.removeChild(n),e.initPanel()})}return t.prototype.initPanel=function(){"1"!=i.i(o.d)("5g")&&(this.scorePanel=new s.a(this.stage))},t.prototype.initLocalWs=function(){var t=this;io.connect("/rkb").on("connect",function(e){console.log("Bo3 connect",window.location.host),t.isInit||(t.isInit=!0)}).on(""+n.a.sc_init,function(e){console.log("sc_init",e),t.scorePanel.setInit(e)}).on(""+n.a.sc_score,function(e){console.log("sc_score",e),t.scorePanel.setScoreFoul(e)}).on(""+n.a.sc_showRollText,function(t){console.log("sc_showRollText",t)}).on(""+n.a.sc_bo3Score,function(e){console.log("sc_bo3Score",e),t.scorePanel&&t.scorePanel.setBo3Score(e)}).on(""+n.a.sc_bo3_5group,function(e){console.log("sc_bo3_5group",e),"1"==i.i(o.d)("5g")&&t.show5Group(e)}).on(""+n.a.sc_setTimer,function(e){console.log("webdbcmd",e);var i=e.state;i==r.d.RUNNING?(console.log("start timer"),t.scorePanel.toggleTimer(Number(i))):i==r.d.PAUSE?t.scorePanel.toggleTimer(i):i==r.d.RESET&&t.scorePanel.resetTimer(),"sec"in e&&t.scorePanel.setTimer(e.sec)})},t.prototype.show5Group=function(t){t.visible?(this._5group||(this._5group=new l.a(this.stage,t)),this._5group.show(t)):this._5group&&this._5group.hide()},t.prototype.preLoadFont=function(t){var e=new PIXI.Text("",{fontFamily:t});return e.text="0",e.alpha=0,e},t}()},function(t,e,i){"use strict";function n(t,e){t>9999?(t=(t/1e4).toFixed(2),e.text=t+"万票"):e.text=t+"票"}i.d(e,"a",function(){return g});var r=i(5),a=i(1),o=i(0),s=i(6),l=i(14),h=i(10),c=i(20),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=["/img/panel/score2018/vote/bg.png","/img/panel/score2018/vote/itemBg.png"],f=[{id:27342,playerId:"p6",name:"Aaron",hwa:[175,65,26]},{id:1754,playerId:"p7",name:"孟亚东",hwa:[191,88,21]},{id:44,playerId:"p5",name:"方良超",hwa:[174,75,26]},{id:30994,playerId:"p3",name:"伍志勋",hwa:[192,78,26]},{id:574,playerId:"p9",name:"黄宇军",hwa:[172,68,24]},{id:27935,playerId:"p4",name:"杨澍",hwa:[184,70,26]},{id:30995,playerId:"p8",name:"顾希欣",hwa:[180,70,31]},{id:30993,playerId:"p2",name:"矫凯文",hwa:[188,90,25]},{id:30996,playerId:"p10",name:"王嵘",hwa:[183,74,25]},{id:160,playerId:"p1",name:"申屠逸斐",hwa:[188,83,22]},{id:0,playerId:"p11",name:"乔伊-海伍德",hwa:[185,77,33]}],u=21e3,y=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Graphics;e.addChild(i),i.beginFill(1119025).drawRect(-90,0,415,40);var n=new PIXI.Graphics;e.addChild(n),e.bar=n,n.y=37,n.beginFill(16292654).drawRect(0,0,325,3);var r={fontFamily:o.c.MicrosoftYahei,fontSize:"25px",fill:"#fff"},a=new PIXI.Text("",r);e.addChild(a),a.y=3,e.playerName=a;var s=new PIXI.Text("",r);e.addChild(s),s.y=a.y,s.x=200,e.voteCount=s;var h=new PIXI.Graphics;h.x=-85,h.y=2,h.beginFill(16711680).drawRect(0,0,55,36),e.addChild(h);var c=new l.a(null,55,h);return e.addChild(c),e.avt=c,e}return d(e,t),e.prototype.setInfo=function(t,e,i){this.playerName.text=t+"",n(e,this.voteCount),this.voteCount.x=318-this.voteCount.width;var r=e/u*320+5;this.bar.clear().beginFill(16292654).drawRect(0,0,r,3),i&&this.avt.load(i)},e}(PIXI.Container),x=function(t){function e(){var e=t.call(this)||this,n=new PIXI.Graphics;e.addChild(n),e.bar=n,n.x=512,n.y=336,n.beginFill(16292654).drawRect(0,0,325,6);var r=i.i(a.c)({url:"/img/panel/score2018/vote/itemBg.png"});e.addChild(r);var s={fontFamily:o.c.MicrosoftYahei,fontSize:"35px",fill:"#fff",fontWeight:"bold"},h=new PIXI.Text("",s);e.addChild(h),h.x=525,h.y=285,e.playerName=h;var c=new PIXI.Text("",s);e.addChild(c),c.y=h.y,c.x=700,e.voteCount=c;var d=new PIXI.Graphics;d.x=400,d.y=279,d.beginFill(16711680).drawRect(0,0,78,62).moveTo(78,0).lineTo(78,62).lineTo(100,62).lineTo(106,50).lineTo(78,0);var p=new l.a(null,106,d);return e.addChild(p),e.avt=p,e.addChild(d),e}return d(e,t),e.prototype.setInfo=function(t,e,i){this.playerName.text=t+"",n(e,this.voteCount),this.voteCount.x=825-this.voteCount.width;var r=e/u*320+5;this.bar.clear().beginFill(16292654).drawRect(0,0,r,6),i&&this.avt.load(i)},e}(PIXI.Container),g=function(t){function e(e){var n=t.call(this)||this;n.p=e,n.itemArr=[],n.playerMap={};for(var s=0;s<f.length;s++){var h=f[s];n.playerMap[h.id]=h}return r.a.loadTexArr(p,function(t){var e=i.i(a.c)({url:"/img/panel/score2018/vote/bg.png"});n.addChild(e);for(var r=0;r<3;r++){var s=new x;n.addChild(s),s.y=73*r,n.itemArr.push(s)}for(var r=0;r<7;r++){var h=new y;n.addChild(h),h.x=512,h.y=500+53*r,n.itemArr.push(h)}var d={fontFamily:o.c.MicrosoftYahei,fontSize:"30px",fill:"#fff",fontWeight:"bold"},p=new PIXI.Text("??",d);n.addChild(p),p.x=1140,p.y=336,n.lHeight=p;var f=new PIXI.Text("185",d);n.addChild(f),f.x=1290,f.y=p.y,n.rHeight=f;var u=new PIXI.Text("??",d);n.addChild(u),u.x=1160,u.y=407,n.lWeight=u;var g=new PIXI.Text("77",d);n.addChild(g),g.x=1290,g.y=u.y,n.rWeight=g;var m=new PIXI.Text("??",d);n.addChild(m),m.x=1160,m.y=476,n.lAge=m;var v=new PIXI.Text("33",d);n.addChild(v),v.x=1290,v.y=m.y,n.rAge=v,d.fontSize="35px";var w=new PIXI.Text("????",d);n.addChild(w),w.x=1050-.5*w.width,w.y=572,n.lName=w;var I=new PIXI.Text("Joey Haywood",d);n.addChild(I),I.x=1314,I.y=w.y,n.rName=I,i.i(c.a)({target:w,time:500});var P=new PIXI.Graphics;P.beginFill(16711680).drawRect(0,0,200,200),P.x=926,P.y=316,n.addChild(P),n.topAvt=new l.a(null,200,P),n.addChild(n.topAvt),n.show()}),n}return d(e,t),e.prototype.initWS=function(){var t;t.on("connect",function(t){console.log("Bo3 connect",window.location.host)}).on("data",function(t){})},e.prototype.fillData=function(t){console.log("fill data",t);for(var e=0,n=0,r=t;n<r.length;n++){var a=r[n];e=Math.max(a.amount,e)}u=e;for(var o=(t.sort(i.i(s.d)("amount")),0);o<this.itemArr.length;o++){var l=this.playerMap[t[o].id];this.itemArr[o].setInfo(l.name,t[o].amount,t[o].header)}var h=this.playerMap[t[0].id];console.log("top player",h),this.lHeight.text=h.hwa[0]+"",this.lWeight.text=h.hwa[1]+"",this.lAge.text=h.hwa[2]+"",this.lName.text=h.name,this.lName.x=1030-.5*this.lName.width,this.topAvt.load(t[0].header)},e.prototype.getData=function(){var t=this;i.i(h.g)(function(e){console.log("get data",e);var i=JSON.parse(e);t.fillData(i.data)})},e.prototype.show=function(){var t=this;this.getData(),this.p.addChild(this),setInterval(function(e){t.getData()},3e3)},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i(49),r=i(204),a=i(7),o=i(2),s=i(43),l=i(0),h=i(3),c=i(203),d=function(){function t(t){this.delayTimeMS=0,this.isInit=!1;var e=i.i(o.d)("gameId"),n="dark"==i.i(o.d)("theme"),a="1"==i.i(o.d)("m"),s="1"==i.i(o.d)("monitor");console.log(e,n),this.scorePanel=a?new r.a(t,n):new c.a(t,n),this.localWS=this.initLocalWs(),s&&this.initMonitor(t),"1"==i.i(o.d)("t")&&this.test()}return t.prototype.test=function(){this.localWS.emit()},t.prototype.initDefaultPlayer=function(){var t="http://w1.hoopchina.com.cn/huputv/resource/img/amateur.jpg";this.scorePanel.setLeftPlayerInfo("Player 1",t,78,178,"",0,{}),this.scorePanel.setRightPlayerInfo("Player 2",t,78,178,"",0,{})},t.prototype.initMonitor=function(t){this.statisticsView=new n.a(t)},t.prototype.initLocalWs=function(){var t=this,e=io.connect("/rkb");return e.on("connect",function(e){console.log("connect",window.location.host),t.isInit||(t.isInit=!0,i.i(o.a)("/emit/"+a.a.cs_panelCreated,{_:null}))}).on(""+s.a.sc_setDelayTime,function(e){t.delayTimeMS=e.delayTimeMS}).on(""+s.a.sc_toggleTheme,function(t){}).on(""+s.a.sc_toggleScorePanel,function(e){e.visible?t.scorePanel.show():t.scorePanel.hide()}).on(""+s.a.sc_toggleChampionPanel,function(e){e.visible?t.eventPanel.champion.show():t.eventPanel.champion.hide()}).on(""+s.a.sc_showNotice,function(e){t.eventPanel.showNotice(e.title,e.content,e.isLeft,e.isBold),e.visible?t.eventPanel.noticeSprite.show():t.eventPanel.noticeSprite.hide()}).on(""+s.a.sc_setFxPoint,function(e){t.eventPanel.setFxPoint(e.mx,e.my)}).on(""+s.a.sc_playScoreFx,function(e){t.eventPanel.showScoreFx()}).on(""+s.a.sc_setBdVisible,function(e){t.eventPanel.showBd(e.v),e.v?t.scorePanel.hide():t.scorePanel.show()}).on(""+a.a.sc_init,function(e){if(console.log("sc_init",e),e.leftPlayer){t.scorePanel.setExPlayerInfo(e);var i=e.leftPlayer;t.scorePanel.setLeftPlayerInfo(i.realName,i.avatar,i.weight,i.height,i.groupId,i.level,{text:i.ranking},i.name),i=e.rightPlayer,t.scorePanel.setRightPlayerInfo(i.realName,i.avatar,i.weight,i.height,i.groupId,i.level,{text:i.ranking},i.name),t.scorePanel.setGameIdx(e.gameIdx,e.matchType,e),t.scorePanel.set35ScoreLight(e.winScore),t.scorePanel.setLeftFoul(e.leftFoul),t.scorePanel.setRightFoul(e.rightFoul),t.scorePanel.setLeftScore(e.leftScore),t.scorePanel.setRightScore(e.rightScore)}t.statisticsView&&t.statisticsView.reset()}).on(""+a.a.sc_score,function(e){t.scorePanel.setScoreFoul(e),t.statisticsView&&t.statisticsView.setScore(e)}).on(""+a.a.sc_showScore,function(e){e.visible?t.scorePanel.show():t.scorePanel.hide()}).on(""+a.a.sc_setTimer,function(e){console.log("webdbcmd",e);var i=e.state;i==l.d.RUNNING?(console.log("start timer"),t.scorePanel.toggleTimer(Number(i))):i==l.d.PAUSE?t.scorePanel.toggleTimer(i):i==l.d.RESET&&t.scorePanel.resetTimer(),"sec"in e&&t.scorePanel.setTimer(e.sec)}).on(a.a.sc_showVictory,function(e){t.statisticsView&&t.statisticsView.reset(),e.visible&&(t.scorePanel.hide(),h.a.delayedCall(2500,function(e){t.scorePanel.show()}))}),e},t}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(20),r=i(174),a=i(1),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){var e=t.call(this)||this;e.playerArr=[],e.groupMap={},e.gameMap={};var o=i.i(a.c)({url:"/img/panel/backend/bg.png"});e.addChild(o),i.i(a.d)(e,.5);var s=i.i(a.c)({url:"/img/panel/backend/focus.png"});e.focus=s,i.i(n.a)({target:s,time:180}),e.addChild(s);for(var l=0;l<62;l++){var h=new r.a(l+1),c=(l+0)%2;l<16?(h.x=360+200*(l-c),h.y=1820+150*c):l<24?(h.x=240+220*(l-c-16),h.y=1420+150*c):l<32?(h.x=2040+220*(l-c-24),h.y=1420+150*c):l<40?(h.x=220,h.y=250+120*(l-32)):l<44?(h.x=660,h.y=250+120*(l-40)):l<48?(h.x=660,h.y=720+120*(l-44)):l<52?(h.x=1100,h.y=490+120*(l-48)):l<54?(h.x=1580,h.y=340+120*(l-52)):l<56?(h.x=1580,h.y=640+120*(l-54)):l<58?(h.x=2020,h.y=640+120*(l-56)):l<60?(h.x=2440,h.y=680-320*(l-58)):l<62&&(h.x=2780+400*(l-60),h.y=540),e.addChild(h),e.groupMap[l+1]=h}return e}return o(e,t),e.prototype.setRec=function(t,e){for(var i=0;i<62;i++){var n=i+1,r=t[n],a=this.groupMap[n];n==e&&(this.focus.x=a.x-105,this.focus.y=a.y-20),a.setRec(r)}},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(1),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(e){var r=t.call(this)||this,a=i.i(n.c)({url:"/img/panel/backend/playerPad.png"});r.addChild(a);var o=i.i(n.c)({url:"/img/panel/backend/playerPad.png"});o.y=50,r.addChild(o);var s={font:"35px",fill:"#000",align:"right",fontWeight:"normal"},l=new PIXI.Text("player 1",s);l.x=10,l.y=2,o.alpha=.4,a.addChild(l),r.lPlayerName=l,l=new PIXI.Text("player 2",s),l.x=10,l.y=2,o.addChild(l),r.rPlayerName=l;var h=new PIXI.Text("0",s);h.x=215,r.lScore=h,a.addChild(h);var c=new PIXI.Text("0",s);c.x=h.x,r.rScore=c,o.addChild(c),s.fill="#fff",s.fontWeight="bold",s.fontSize="50px";var d=new PIXI.Text(e,s);return d.x=-60,d.y=0,r.addChild(d),r}return r(e,t),e.prototype.setRec=function(t){console.log("recData",t),this.lPlayerName.text=t.player[0],i.i(n.j)(this.lPlayerName,180),this.rPlayerName.text=t.player[1],i.i(n.j)(this.rPlayerName,180),0==t.score[0]&&0==t.score[1]?(this.lScore.text="",this.rScore.text=""):(t.score[0],t.score[1],this.lScore.text=t.score[0],this.rScore.text=t.score[1])},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(2),r=i(1),a=i(5),o=i(0),s=i(68),l=i(15),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(e){void 0===e&&(e=!1);var a=t.call(this)||this;a.nameWidth=200;var l={fill:"#000",fontWeight:"bold",fontFamily:o.c.MicrosoftYahei,fontSize:"40px"},h=new PIXI.Text("",l);h.x=105,h.y=8,a.nameText=h,a.addChild(h);var c=new PIXI.Text("",l);c.y=6,a.pokeText=c;var d=new PIXI.Sprite;d.x=4,d.y=4,a.pokeSp=d,a.addChild(d),a.addChild(c);var p=new PIXI.Text("",l);p.x=200*s.b,p.y=5,a.scoreText=p,"1"==i.i(n.d)("score")&&a.addChild(p);var f=i.i(r.c)({url:"/img/panel/bracket/final/winHint.png"});return e?(a.nameWidth=200,f.x=162*s.b):(a.nameWidth=285,f.x=207*s.b),f.scale.x=f.scale.y=1/s.b,a.addChild(f),a.winSp=f,a}return h(e,t),e.prototype.setInfo=function(t,e,n){var o=this;if(this.nameText.text=i.i(l.a)(t),this.scoreText.text=e,n){var s=n;console.log(t,"pNum",n,"poker",s),i.i(r.j)(this.nameText,this.nameWidth),this.pokeText.text=s.charAt(1),this.pokeText.style.fontSize="40px","1"==this.pokeText.text&&(s.length<3?this.pokeText.text="A":(this.pokeText.style.fontSize="35px",this.pokeText.text="10")),this.pokeText.x=90-this.pokeText.width;"L"==s.charAt(0)?(this.pokeText.style.fill="#000",a.a.loadTex("/img/panel/bracket/final/pokerBlack.png",function(t){o.pokeSp.texture=t,o.pokeSp.scale.x=o.pokeSp.scale.y=.7},!1)):(a.a.loadTex("/img/panel/bracket/final/pokerRed.png",function(t){o.pokeSp.texture=t,o.pokeSp.scale.x=o.pokeSp.scale.y=.7},!1),this.pokeText.style.fill="#f00")}},e.prototype.setWin=function(t){var e=t>.5;this.winSp.visible=e,this.nameText.alpha=t,this.scoreText.alpha=t},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(6),r=i(19),a=i(3),o=i(20),s=i(0),l=i(1),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(e){var a=t.call(this)||this;e.addChild(a);var o=i.i(l.c)({url:"/img/panel/bracket/tile2.png",isTiling:!0,width:s.a.STAGE_WIDTH,height:s.a.STAGE_HEIGHT});o.alpha=.8,a.addChild(o);var h=new PIXI.Container;a.addChild(h);var c=i.i(l.c)({url:"/img/panel/bracket/bg1.png"});a.addChild(c),a.comingTitle=i.i(l.c)({url:"/img/panel/bracket/coming.png"}),a.comingTitle.visible=!1,a.addChild(a.comingTitle);for(var d in r.b){var p=new PIXI.Container;a.addChild(p);var f=r.b[d];console.log(f),p.x=f.x,p.y=f.y;var u=new PIXI.Sprite;u.x=f.x+170,u.y=f.y+50,u.scale.y=-1,h.addChild(u),f.hint1=u;var y=new PIXI.Sprite;y.x=u.x,y.y=f.y+49,h.addChild(y),f.hint2=y,p.addChild(f.scores[0]),p.addChild(f.scores[1]),p.addChild(f.labels[0]),p.addChild(f.labels[1])}return i.i(n.f)(["/img/panel/bracket/hint1.png","/img/panel/bracket/hint2.png"],function(t){var e=i.i(l.b)(t[0]);a.hint1Tex=e,a.hint2Tex=i.i(l.b)(t[1]),console.log("load tex",h.children);for(var n=0,r=h.children;n<r.length;n++){r[n].texture=e}}),a}return h(e,t),e.prototype.setWinHint=function(t,e){void 0===e&&(e=!1),t.texture=this.hint2Tex},e.prototype.hideComing=function(){this.comingTitle.visible=!1},e.prototype.showComingIdx=function(t){var e=this,n=r.b[t];this.comingTitle.visible=!1,a.a.delayedCall(610,function(){n&&(e.comingTitle.visible=!0,e.comingTitle.x=n.x-38,e.comingTitle.y=n.y-43,i.i(o.a)({target:e.comingTitle,time:600}))})},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(5),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this)||this;return n.bloodArr=[],n.initNum=-1,n.isLeft=e,n.initBar(i),n}return r(e,t),e.prototype.initBar=function(t){for(var e=this,i=0,r=this.bloodArr;i<r.length;i++){var a=r[i];a.parent.removeChild(a)}this.bloodArr=[];var o=t?"1":"2",s=t?3:5,l=t?75:62;n.a.loadTex("/img/panel/final2/score/blood"+o+".png",function(t){for(var i=l,n=0;n<s;n++){var r=new PIXI.Sprite;r.texture=t,e.isLeft?(r.x=865-n*i,r.scale.x=-1):r.x=1055+n*i,r.y=975,e.addChild(r),e.bloodArr.push(r)}e.initNum>-1&&e.setBlood(e.initNum)})},e.prototype.setBlood=function(t){console.log("set blood",t),this.initNum=t;for(var e=0;e<this.bloodArr.length;e++){this.bloodArr[e].visible=e<t}},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i(1),r=i(14),a=i(177),o=i(0),s=i(23),l=i(183),h=i(179),c=i(182),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(t){function e(){var e=t.call(this)||this;e.lMateAvtArr=[],e.rMateAvtArr=[];var a=new c.a(!0);a.x=228,a.y=917,e.lHeightWeightCtn=a,e.addChild(a);var d=new c.a(!1);d.y=a.y,d.x=1491,e.rHeightWeightCtn=d,e.addChild(d),e.tips=new h.a,e.addChild(e.tips);var p=i.i(n.c)({url:"/img/panel/final2/score/bg.png"});e.addChild(p);var f=new r.a("/img/panel/final2/score/avatarMaskL.png",110);e.lPlayerAvt=f,f.x=470,f.y=917,e.addChild(f);var u=new r.a("/img/panel/final2/score/avatarMaskR.png",110);e.rPlayerAvt=u,u.x=1375,u.y=f.y,e.addChild(u);var y=new PIXI.Container;e.addChild(y);for(var x=0;x<4;x++){var g=new l.a(!1);e.rMateAvtArr.push(g),g.x=1500+80*x,g.y=976,e.addChild(g);var m=new l.a(!0);e.lMateAvtArr.push(m),m.x=182+80*x,m.y=g.y,y.addChildAt(m,0)}var v={fontFamily:o.c.MicrosoftYahei,fontSize:"28px",fill:"#eee",fontWeight:"bold"},w=new PIXI.Text("P1",v);w.x=478,w.y=1024,e.lPlayerName=w,e.addChild(w);var I=new PIXI.Text("P2",v);I.x=1390,I.y=w.y,e.rPlayerName=I,e.addChild(I),v.fontSize="22px",v.fill="#bbb";var P=new PIXI.Text("",v);e.lPlayerRank=P,P.x=580,e.addChild(P);var T=new PIXI.Text("",v);T.x=1240,T.y=P.y=1029,e.rPlayerRank=T,e.addChild(T);var b=new PIXI.Text("",v);b.x=356,b.y=923,e.lTeamName=b,e.addChild(b);var _=new PIXI.Text("",v);_.x=1500,_.y=b.y,e.rTeamName=_,e.addChild(_);var C={fontFamily:o.c.MicrosoftYahei,fontSize:"25px",fill:"#bdbdbd",fontWeight:"bold"},S=new PIXI.Text("0",C);e.lTimeOutText=S,S.x=275,S.y=920,e.addChild(S);var k=new PIXI.Text("0",C);e.rTimeOutText=k,k.x=1708,k.y=S.y,e.addChild(k);var A={fontFamily:o.c.DigiLED,fontSize:"50px",fill:"#ccc",dropShadow:!0,dropShadowAngle:90,fontWeight:"normal"},N=new s.a("",A);e.addChild(N),N.x=910,N.y=965,e.timer=N,e.timer.setTimeBySec(0);var X={fontFamily:o.c.DigiLED,fontSize:"45px",fill:"#838383"},F=new PIXI.Text("0",X);F.x=860,F.y=1022,e.lBonus=F,e.addChild(F);var M=new PIXI.Text("0",X);return M.x=1040,M.y=F.y,e.rBonus=M,e.addChild(M),e.test(),e}return d(e,t),e.prototype.test=function(){},e.prototype.setInit=function(t){this.lBar?(this.lBar.initBar(t.is3Blood),this.rBar.initBar(t.is3Blood)):(this.lBar=new a.a(!0,t.is3Blood),this.addChild(this.lBar),this.rBar=new a.a(!1,t.is3Blood),this.addChild(this.rBar)),this.lTeamName.text=t.lTeamInfo.hz+t.lTeamInfo.name,this.lTeamName.x=420-this.lTeamName.width,this.rTeamName.text=t.rTeamInfo.hz+t.rTeamInfo.name;for(var e=0,i=0,n=t.lTeamInfo.playerArr;i<n.length;i++){var r=n[i];if(r.pid!=t.lPlayer){this.lMateAvtArr[e].setData(r),e++}else this.lPlayerName.text=r.name,this.lHeightWeightCtn.setData(r),this.lPlayerAvt.load(r.avatar),this.lPlayerRank.text="实力榜:"+(t.lRanking||"ss")}e=0;for(var o=0,s=t.rTeamInfo.playerArr;o<s.length;o++){var r=s[o];if(r.pid!=t.rPlayer){this.rMateAvtArr[e].setData(r),e++}else this.rPlayerName.text=r.name,this.rHeightWeightCtn.setData(r),this.rPlayerAvt.load(r.avatar),this.rPlayerRank.text="实力榜:"+(t.rRanking||"ss")}t.is3Blood?(this.lPlayerAvt.x=468,this.rPlayerAvt.x=1343):(this.lPlayerAvt.x=430,this.rPlayerAvt.x=1381),this.lPlayerName.x=this.lPlayerAvt.x+60-.5*this.lPlayerName.width,this.rPlayerName.x=this.rPlayerAvt.x+50-.5*this.rPlayerName.width},e.prototype.setScoreFoul=function(t){this.lBar.setBlood(t.leftBlood),this.rBar.setBlood(t.rightBlood),this.lBonus.text=t.leftFoul,this.rBonus.text=t.rightFoul,t.leftFoul>3?this.lBonus.style.fill="#ba2228":this.lBonus.style.fill="#838383",t.rightFoul>3?this.rBonus.style.fill="#ba2228":this.rBonus.style.fill="#838383"},e.prototype.setTimeOut=function(t){this.lTimeOutText.text=t.lTimeOut,this.rTimeOutText.text=t.rTimeOut},e.prototype.resetTimer=function(){this.timer.resetTimer()},e.prototype.setTimer=function(t){this.timer.setTimeBySec(t)},e.prototype.toggleTimer=function(t){this.timer.toggleTimer(t)},e.prototype.showTips=function(t){t.visible?this.tips.setText(t.text):this.tips.hide()},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(1),r=i(0),a=i(3),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){var e=t.call(this)||this,a=i.i(n.c)({url:"/img/panel/final2/score/tipsBg.png"});e.addChild(a);var o={fontFamily:r.c.MicrosoftYahei,fontSize:"30px",fill:"#f4d772",fontWeight:"bold"},s=new PIXI.Text("",o);return e.tips=s,s.y=858,e.addChild(s),e.alpha=0,e}return o(e,t),e.prototype.setText=function(t){this.alpha=0,this.y=100,this.tips.text=t,this.tips.x=960-.5*this.tips.width,a.a.to(this,150,{y:0,alpha:1})},e.prototype.hide=function(){a.a.to(this,200,{alpha:0})},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(1),r=i(0),a=i(23),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=[[[530,275],[530,365]],[[530,502],[530,592]],[[690,717],[690,807]],[[1050,332],[1050,520]],[[1170,652],[1170,742]],[[1670,428],[1670,705]]],l=["1-4.0 \n        \\3.0","2-4.1\n        \\3.1","3-5.1\n        \\0.0","4-6.0\n        \\5.0","5-6.1\n        \\0.0"],h=function(t){function e(e){var o=t.call(this)||this;o.day1TextArr=[],o.day2TextArr=[];var s=i.i(n.c)({url:"/img/panel/final2/process/bg.png"});o.addChild(s),o.day1Ctn=new PIXI.Container,o.addChild(o.day1Ctn),o.day1Ctn.addChild(i.i(n.c)({url:"/img/panel/final2/process/day1bg.png"}));for(var l={fontFamily:r.c.MicrosoftYahei,fontSize:"62px",fill:"#eee",fontWeight:"bold"},h=0;h<5;h++){var c=new PIXI.Text("",l);c.x=560,c.y=240+130*h,o.day1Ctn.addChild(c);var d=new PIXI.Text("-",l);o.day1Ctn.addChild(d),d.y=c.y,i.i(n.g)(d);var p=new PIXI.Text("",l);p.x=1085,p.y=c.y,c.style.fill="#0070d1",p.style.fill="#d11d00",o.day1Ctn.addChild(p);var f=new PIXI.Text("0 : 0",l);f.x=860,f.y=c.y,o.day1Ctn.addChild(f);var u=new PIXI.Text("0 : 0",l);u.x=.5*r.a.STAGE_WIDTH+40,u.y=c.y,o.day1Ctn.addChild(u),o.day1TextArr.push([c,p,f,u])}var y=new PIXI.Graphics;y.beginFill(16777215,1),y.drawRect(0,0,r.a.STAGE_WIDTH,920),o.addChild(y),o.day1Mask=y,o.day1Ctn.mask=y,o.day2Ctn=new PIXI.Container,o.addChild(o.day2Ctn),o.day2Ctn.addChild(i.i(n.c)({url:"/img/panel/final2/process/day2bg.png"}));for(var h=0;h<6;h++){var x=new PIXI.Text("",l),g=new PIXI.Text("",l);o.day2Ctn.addChild(x),o.day2Ctn.addChild(g),o.day2TextArr.push([x,g])}o.addChild(i.i(n.c)({url:"/img/panel/final2/process/titleBar.png"}));var m=i.i(n.c)({url:"/img/panel/final2/process/titleTex.png"});o.addChild(m);var v={fontFamily:r.c.MicrosoftYahei,fontSize:"40px",fill:"#fff",fontWeight:"bold"},w=new PIXI.Text("第一天积分赛",v);w.y=118,w.x=930,o.addChild(w),o.titleText=w,m.mask=o.titleText,o.comingCtn=new PIXI.Container,o.addChild(o.comingCtn),o.comingCtn.addChild(i.i(n.c)({url:"/img/panel/final2/process/coming.png"})),v.fontSize="55px";var I=new a.a("",v);return I.isMin=!0,I.x=1640,I.y=980,I.setTimeBySec(0),I.toggleTimer(r.d.RUNNING),o.comingCtn.addChild(I),o.comingCtn.visible=!1,o.comingCtn.timer=I,o.p=e,o}return o(e,t),e.prototype.bracketGen=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];n.player=n.team}for(var r=function(e,i,n,r,a){var o=t[e],s=t[i],l=t[r];if(s){if(0==o.score[0]&&0==o.score[1])return;o.score[0]>o.score[1]?(s.player[n]=o.player[0],-1!=r&&(l.player[a]=o.player[1])):(s.player[n]=o.player[1],-1!=r&&(l.player[a]=o.player[0]))}},a=0;a<l.length;a++){var o=l[a];!function(t){var e=/\d+/gi,i=t.match(e),n=Number(i[0])-1,a=Number(i[1])-1,o=Number(i[2]),s=Number(i[3])-1,l=Number(i[4]);r(n,a,o,s,l)}(o)}return console.log("gen bracket",t),t},e.prototype.show=function(t){if(t.visible){this.titleText.text=t.title,i.i(n.g)(this.titleText);var e=function(t,e,i,n){t.style.fill="#0070d1",e.style.fill="#d11d00",t.alpha=1,e.alpha=1,0==i&&0==n||(i<n?(t.alpha=.3,t.style.fill="#444"):(e.alpha=.3,e.style.fill="#444"))};if("day1"==t.tab){this.day1Mask.y=0,this.day1Ctn.visible=!0,this.day2Ctn.visible=!1;var a=0;1==t.param&&(a=5);for(var o=0;o<this.day1TextArr.length;o++){var l=this.day1TextArr[o],h=l[0],c=l[1],d=l[2],p=l[3],f=t.gameArr[o+a],u=f.team[0],y=f.team[1];h.text=u.hz+u.name,h.x=840-h.width,c.text=y.hz+y.name,d.text=Math.floor(f.score[0])+"",d.x=.5*r.a.STAGE_WIDTH-d.width+15,d.x=893-.5*d.width,p.text=""+Math.floor(f.score[1]),p.x=1027-.5*p.width,e(h,c,f.score[0],f.score[1])}}else if("day2.1"==t.tab){this.day1Mask.y=-270,this.day1Ctn.visible=!0,this.day2Ctn.visible=!1;for(var o=0;o<this.day1TextArr.length;o++){var l=this.day1TextArr[o],h=l[0],c=l[1],d=l[2],p=l[3];if(o>2)h.text="",c.text="",d.text="",p.text="";else{var f=t.gameArr[o],u=f.team[0],y=f.team[1];u&&y?(h.text=u.hz+u.name,h.x=840-h.width,c.text=y.hz+y.name,d.text=Math.floor(f.score[0])+"",d.x=.5*r.a.STAGE_WIDTH-d.width+15,d.x=893-.5*d.width,p.text=""+Math.floor(f.score[1]),p.x=1027-.5*p.width,e(h,c,f.score[0],f.score[1])):(h.text="",c.text="",d.text="",p.text="")}}}else if("day2.2"==t.tab){this.day1Ctn.visible=!1,this.day2Ctn.visible=!0;for(var o=(this.bracketGen(t.gameArr),0);o<this.day2TextArr.length;o++){var l=this.day2TextArr[o],x=l[0],g=l[1],f=t.gameArr[o],u=f.player[0],y=f.player[1],m=f.score[0],v=f.score[1],w=s[o];u&&(x.text=u.hz+u.name,x.x=w[0][0]-x.width,x.y=w[0][1]),y&&(g.text=y.hz+y.name,g.x=w[1][0]-g.width,g.y=w[1][1]),x.style.fill="#0070d1",g.style.fill="#d11d00",x.alpha=1,g.alpha=1;var I=2==o||4==o;0==m&&0==v||(m<v?(x.alpha=.3,I&&(x.style.fill="#444")):(g.alpha=.3,I&&(g.style.fill="#444")))}}this.p.addChild(this)}else this.hide()},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e.prototype.showTimer=function(t){this.comingCtn.visible=t.visible,t.visible&&this.comingCtn.timer.setTimeBySec(t.sec)},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(23),r=i(0),a=i(1),o=i(5),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(){var e=t.call(this)||this,o=i.i(a.c)({url:"/img/panel/final2/3v3/bg.png"});e.addChild(o),e.bgMask=new PIXI.Graphics,e.bgMask.beginFill(16777215).drawRect(0,0,r.a.STAGE_WIDTH,r.a.STAGE_HEIGHT),e.addChild(e.bgMask),o.mask=e.bgMask;var s=new PIXI.Container;e.addChild(s);var l={fontFamily:r.c.Impact,fontSize:"45px",fill:"#eee",fontWeight:"bold"};e.timer=new n.a("",l),e.timer.isMin=!0,e.timer.x=200,e.timer.y=122,s.addChild(e.timer),e.timer.setTimeBySec(900),s.x=1485,s.y=810,l.fontSize="45px",e.lScore=new PIXI.Text("0",l),e.lScore.x=265,e.lScore.y=7,s.addChild(e.lScore),e.rScore=new PIXI.Text("0",l),e.rScore.x=262,e.rScore.y=66,s.addChild(e.rScore);var h={fontFamily:r.c.MicrosoftYahei,fontSize:"42px",fill:"#eee",fontWeight:"bold"};return e.lTeamName=new PIXI.Text("",h),e.lTeamName.x=88,e.lTeamName.y=8,s.addChild(e.lTeamName),e.rTeamName=new PIXI.Text("",h),e.rTeamName.x=80,e.rTeamName.y=65,s.addChild(e.rTeamName),e.lTeamLogo=new PIXI.Sprite,e.lTeamLogo.x=25,e.lTeamLogo.y=5,s.addChild(e.lTeamLogo),e.rTeamLogo=new PIXI.Sprite,e.rTeamLogo.x=20,e.rTeamLogo.y=64,s.addChild(e.rTeamLogo),e}return s(e,t),e.prototype.setTeamInfo=function(t){var e=this;t&&(t.isCustom?(this.lTeamName.text=t.leftTeam,this.rTeamName.text=t.rightTeam,this.lTeamName.x=18,this.rTeamName.x=10,this.bgMask.y=-148,this.timer.visible=!1,this.lTeamName.style.fontSize="30px",this.rTeamName.style.fontSize="30px",this.lTeamName.y=14,this.rTeamName.y=71):(this.lTeamName.style.fontSize="42px",this.rTeamName.style.fontSize="42px",this.lTeamName.y=8,this.rTeamName.y=65,this.lTeamName.text=t.lTeamInfo.name,this.rTeamName.text=t.rTeamInfo.name,this.lTeamName.x=88,this.rTeamName.x=80,this.bgMask.y=0,this.timer.visible=!0,o.a.loadTex("/img/panel/final2/victory/team"+t.lTeamInfo.id+".png",function(t){e.lTeamLogo.texture=t,i.i(a.d)(e.lTeamLogo,51/t.height)}),o.a.loadTex("/img/panel/final2/victory/team"+t.rTeamInfo.id+".png",function(t){e.rTeamLogo.texture=t,i.i(a.d)(e.rTeamLogo,51/t.height)})))},e.prototype.resetTimer=function(){this.timer.resetTimer()},e.prototype.setTimer=function(t){this.timer.setTimeBySec(t)},e.prototype.toggleTimer=function(t){this.timer.toggleTimer(t)},e.prototype.setScoreFoul=function(t){this.lScore.text=t.leftScore,this.rScore.text=t.rightScore},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(0),r=i(1),a=i(3),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(e){var a=t.call(this)||this;a.isLeft=!1,a.isLeft=e,a.fxCtn=new PIXI.Container,a.addChild(a.fxCtn);var o=a.fxCtn,s=i.i(r.c)({url:"/img/panel/final2/score/bg2.png"});e||(s.scale.x=-1,s.x=200),o.addChild(s);var l={fontFamily:n.c.MicrosoftYahei,fontSize:"28px",fill:"#eee",fontWeight:"bold"},h=new PIXI.Text("",l);return o.addChild(h),h.y=8,a.heightText=h,a}return o(e,t),e.prototype.show=function(){var t=this,e=this.isLeft?280:-280;a.a.to(this.fxCtn,150,{x:e}),a.a.delayedCall(5e3,function(e){t.hide()})},e.prototype.hide=function(){a.a.to(this.fxCtn,150,{x:0})},e.prototype.setData=function(t){this.heightText.text=t.height+"cm "+t.weight+"kg",this.isLeft?this.heightText.x=165-.5*this.heightText.width:this.heightText.x=.5*this.heightText.width-145,this.show()},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(14),r=i(1),a=i(0),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(e){var o=t.call(this)||this;o.isLeft=e;var s=e?"L":"R";o.avt=new n.a("/img/panel/final2/score/mateMask"+s+".png",76),o.addChild(o.avt);var l=i.i(r.c)({url:"/img/panel/final2/score/mateBgR.png"});l.x=-8,l.y=-10,o.addChild(l);var h={fontFamily:a.c.Impact,fontSize:"28px",fontWeight:"bold"},c={fontFamily:a.c.MicrosoftYahei,fontSize:"24px",fontWeight:"bold"};i.i(r.d)(o,.85);var d=new PIXI.Text("p",c);o.playerName=d,d.x=3,d.y=61,o.addChild(d);var p=new PIXI.Text("2",h);return p.x=7,p.y=-12,o.bloodNum=p,o.addChild(p),e&&(o.scale.x*=-1,d.scale.x*=-1,p.scale.x*=-1,o.avt.scale.x*=-1,o.avt.x=76,d.x=73,p.x=20),o}return o(e,t),e.prototype.setData=function(t){this.playerName.text=t.name,this.isLeft&&(this.playerName.x=this.playerName.width),this.avt.load(t.avatar),this.bloodNum.text=t.blood,t.blood<1?(this.grayFilter||(this.grayFilter=new PIXI.filters.ColorMatrixFilter,this.grayFilter.blackAndWhite(!0)),this.filters=[this.grayFilter]):this.filters=[]},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(1),r=i(185),a=i(3),o=i(5),s=i(0),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(e){var i=t.call(this)||this;return i.itemArr=[],i.isLoad=!1,i.p=e,i}return l(e,t),e.prototype.preload=function(t){var e=this;this.isLoad?t():o.a.loadTexArr(["/img/panel/final2/victory/bg.png","/img/panel/final2/victory/teamTex.png","/img/panel/final2/victory/itemBg.png","/img/panel/final2/victory/avtMask.png","/img/panel/final2/victory/itemFrame.png","/img/panel/final2/victory/barBg.png","/img/panel/final2/victory/team1.png","/img/panel/final2/victory/team2.png","/img/panel/final2/victory/team3.png","/img/panel/final2/victory/team4.png","/img/panel/final2/victory/team5.png","/img/panel/final2/victory/bar.png","/img/panel/final2/victory/blood.png"],function(a){var o=i.i(n.c)({url:"/img/panel/final2/victory/bg.png"});e.addChild(o);for(var l=0;l<5;l++){var h=new r.a;e.addChild(h),h.ty=0+125*l,h.idx=l,h.x=0,e.itemArr.push(h)}var c=i.i(n.c)({url:"/img/panel/final2/victory/teamTex.png"});e.teamLogo=new PIXI.Sprite,e.teamLogo.x=903,e.teamLogo.y=240,e.addChild(e.teamLogo),e.teamLogo.scale.x=e.teamLogo.scale.y=.5;var d={fontFamily:s.c.MicrosoftYahei,fontSize:"35px",fill:"#eee",fontWeight:"bold"},p=new PIXI.Text("南方队获胜",d);p.y=540,e.teamText=p,c.mask=p,d.fill="#000",p=new PIXI.Text("南方队获胜",d),e.teamTextShadow=p,p.y=543;var f=new PIXI.filters.BlurFilter;p.filters=[f],f.blur=3,e.addChild(p),e.addChild(e.teamText),e.addChild(c);var u={fontFamily:s.c.Impact,fontSize:"75px",dropShadow:!0,dropShadowDistance:12,dropShadowAngle:70,dropShadowColor:"#222",fill:"#ffc382",fontWeight:"bold"},y=new PIXI.Text("",u);e.scoreText=y,y.y=435,e.addChild(y),e.isLoad=!0,t()})},e.prototype.show=function(t){var e=this;this.preload(function(r){var a,s=[],l=[],h=[],c=0,d=0;a=t.isMergeKDA?t.mergeKDA:t.kdaMap;for(var p=0,f=t.lTeamInfo.playerArr;p<f.length;p++){var u=f[p];s.push(u.avatar),u.kda=a[u.pid],l.push(u),u.kda&&(c+=u.kda.score),console.log("merger",u)}for(var y=0,x=t.rTeamInfo.playerArr;y<x.length;y++){var u=x[y];s.push(u.avatar),u.kda=a[u.pid],h.push(u),u.kda&&(d+=u.kda.score)}if(t.isMergeKDA){for(var g=0,m=t.lTeamInfo.playerArr;g<m.length;g++){var u=m[g];u.kda.dmgPerc=Math.floor(100*u.kda.score/c)}for(var v=0,w=t.rTeamInfo.playerArr;v<w.length;v++){var u=w[v];u.kda.dmgPerc=Math.floor(100*u.kda.score/d)}}e.teamText.text=t.winTeamInfo.name+" 获胜",i.i(n.g)(e.teamText),e.teamTextShadow.text=e.teamText.text,e.teamTextShadow.x=e.teamText.x,t.isMergeKDA?e.scoreText.text=c+" : "+d:e.scoreText.text=t.lTeamScore+" : "+t.rTeamScore,o.a.loadTex("/img/panel/final2/victory/team"+t.winTeamInfo.id+".png",function(t){e.teamLogo.texture=t}),i.i(n.g)(e.scoreText),o.a.loadTexArr(s,function(t){e.p.addChild(e);for(var i=0;i<e.itemArr.length;i++){var n=e.itemArr[i];n.setData(l[i],h[i]),e.moveIn2(n)}},!0)})},e.prototype.moveIn2=function(t){t.y=t.ty-500,t.alpha=0,a.a.delayedCall(80*t.idx,function(e){console.log("item idx",t.idx),a.a.to(t,120,{y:t.ty,alpha:1})})},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(1),r=i(14),a=i(0),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.create=function(t){var e=new PIXI.Container;this.addChild(e),e.addChild(i.i(n.c)({url:"/img/panel/final2/victory/barBg.png"})),this.bar=i.i(n.c)({url:"/img/panel/final2/victory/bar.png"}),this.barMask=i.i(n.c)({url:"/img/panel/final2/victory/bar.png"}),this.bar.mask=this.barMask,e.addChild(this.bar),e.addChild(this.barMask);var r={fontFamily:a.c.MicrosoftYahei,fontSize:"40px",fill:"#eee",fontWeight:"bold"},o=new PIXI.Text("3",r);this.txtK=o,o.y=-50,this.addChild(o);var s=new PIXI.Text("4",r);this.addChild(s),this.txtD=s;var l=new PIXI.Text("5",r);this.addChild(l),this.txtA=l,r.fontFamily=a.c.MicrosoftYahei,r.fontSize="30px",r.fill="#dadada";var h=new PIXI.Text("8 (73%)",r);this.addChild(h),this.txtDamage=h,h.y=5,l.y=s.y=o.y,r.fontSize="25px";var c=new PIXI.Text("damage",r);return this.addChild(c),c.y=h.y+3,t?(o.x=-270,s.x=-160,l.x=-50,e.scale.x=-1,h.x=-200,c.x=-410):(o.x=20,s.x=130,h.x=100,l.x=240,c.x=310),this},e.prototype.setData=function(t){t?(this.txtK.text=t.k,this.txtD.text=t.d,this.txtA.text=t.a,this.barMask.x=280*(1-t.dmgPerc/100),this.txtDamage.text=t.score+" ("+t.dmgPerc+"%)"):(this.txtDamage.text="",this.txtK.text=this.txtD.text=this.txtA.text="-",this.barMask.x=280)},e}(PIXI.Container),l=function(t){function e(){var e=t.call(this)||this,o=i.i(n.c)({url:"/img/panel/final2/victory/itemBg.png"});e.addChild(o);var l=new PIXI.Container;l.y=252,l.x=200,e.addChild(l),e.lAvt=new r.a("/img/panel/final2/victory/avtMask.png",109),l.addChild(e.lAvt),l.addChild(i.i(n.c)({url:"/img/panel/final2/victory/itemFrame.png"}));var h=new PIXI.Container;h.y=l.y,h.x=a.a.STAGE_WIDTH-109-l.x,e.addChild(h),e.rAvt=new r.a("/img/panel/final2/victory/avtMask.png",109),h.addChild(e.rAvt),h.addChild(i.i(n.c)({url:"/img/panel/final2/victory/itemFrame.png"})),e.lBar=(new s).create(!0),e.lBar.x=755,e.rBar=(new s).create(!1),e.rBar.x=1165,e.rBar.y=e.lBar.y=l.y+63,e.addChild(e.lBar),e.addChild(e.rBar);var c={fontFamily:a.c.MicrosoftYahei,fontSize:"35px",fill:"#eee",fontWeight:"bold"},d=new PIXI.Text("李观洋",c);d.x=l.x+109+10,e.lPlayerName=d,e.addChild(d);var p=new PIXI.Text("李观洋",c);return e.rPlayerName=p,e.rPlayerName.x=h.x-e.rPlayerName.width-30,p.y=d.y=l.y+15,e.addChild(p),e}return o(e,t),e.prototype.setData=function(t,e){this.lAvt.load(t.avatar),this.rAvt.load(e.avatar),this.lPlayerName.text=t.name,this.lPlayerName.x=448-this.lPlayerName.width,this.rPlayerName.text=e.name,this.lBar.setData(t.kda),this.rBar.setData(e.kda)},e.prototype.test=function(){this.lBar.setData({dmg:8,dmgPerc:73}),this.rBar.setData({dmg:6,dmgPerc:56}),this.lAvt.load("http://w1.hoopchina.com.cn/huputv/resource/img/amateur.jpg"),this.rAvt.load("http://w1.hoopchina.com.cn/huputv/resource/img/amateur.jpg")},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(84),r=i(88),a=i(85),o=i(86),s=i(6),l=i(2),h=i(0),c=i(92),d=i(89),p=i(49),f=i(87),u=i(90),y=i(91);document.write("<canvas id='panel'></canvas>"),document.write("<style>@font-face{font-family:'digital1';src:url(/fonts/digital.ttf); font-style:normal; font-weight:normal}</style>"),console.log("PIXI",window.PIXI),document.body.style.margin="0px",document.body.style.overflow="hidden";var x,g,m=function(){var t=new PIXI.autoDetectRenderer(h.a.STAGE_WIDTH,h.a.STAGE_HEIGHT,{antialias:!1,transparent:!0,resolution:1},!1);return document.body.insertBefore(t.view,document.getElementById("panel")),t.stage=new PIXI.Container,t.backgroundColor=0,t.renderStage=function(e){requestAnimationFrame(t.renderStage),TWEEN.update(e),t.render(t.stage)},t.renderStage(),t.stage},v=i.i(l.d)("panel"),w=i.i(l.d)("gameId"),I="1"==i.i(l.d)("m");if("bracket"==v)x=window.stage=m(),new o.a(x,w,I);else if("bracket20"==v)x=window.stage=m(),new a.a(x);else if("bracket24"==v)x=window.stage=m(),new a.a(x);else if("backend"==v)x=window.stage=m(),new n.a(x);else if("monitor"==v)x=window.stage=m(),new p.a(x);else if("f2"==v){x=window.stage=m();var P=new f.a(x);g=P.localWS}else if("bo3"==v){x=window.stage=m();var P=new u.a(x);g=P.localWS}else if("vote"==v){x=window.stage=m();new y.a(x)}else if("poker"==v)x=window.stage=m(),new r.a(x);else{x=window.stage=m();var P=new c.a(x);g=P.localWS,new d.a(x,g)}i.i(s.f)(h.b,function(t){})},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(5),r=i(1),a=i(69),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){var e=t.call(this)||this;e.pokerPlayer=[];var i=new PIXI.Sprite;e.addChild(i),e.bg=i;for(var n=0;n<12;n++){var r=new a.a;e.pokerPlayer.push(r),e.addChild(r)}return e.show8Player(),e}return o(e,t),e.prototype.show12Player=function(){var t=this;n.a.loadTex("/img/panel/bracket/final/bg2.png",function(e){t.bg.texture=e});for(var e=0;e<6;e++){var a=this.pokerPlayer[e],o=this.pokerPlayer[6+e];i.i(r.d)(a,.9),i.i(r.d)(o,.9),a.setPoker("L"+(4+e+1)),o.setPoker("R"+(4+e+1)),a.x=50+305*e,a.y=240,o.x=a.x,o.y=610}this.pokerPlayer[8].visible=!0,this.pokerPlayer[9].visible=!0,this.pokerPlayer[10].visible=!0,this.pokerPlayer[11].visible=!0},e.prototype.show8Player=function(){var t=this;n.a.loadTex("/img/panel/bracket/final/bg1.png",function(e){t.bg.texture=e});for(var e=0;e<4;e++){var a=this.pokerPlayer[e],o=this.pokerPlayer[4+e];i.i(r.d)(a,1),i.i(r.d)(o,1),a.setPoker("L"+(e+1)),o.setPoker("R"+(e+1)),a.x=140+442*e,a.y=240,o.x=a.x,o.y=610}this.pokerPlayer[8].visible=!1,this.pokerPlayer[9].visible=!1,this.pokerPlayer[10].visible=!1,this.pokerPlayer[11].visible=!1},e.prototype.resetAll=function(){for(var t=0,e=this.pokerPlayer;t<e.length;t++){e[t].reset()}},e.prototype.showPokerPlayer=function(t){for(var e=0,i=this.pokerPlayer;e<i.length;e++){var n=i[e];n.pokerStr==t.pokerStr&&(t.visible?(n.setInfo(t.playerData.data),n.playOnce()):n.reset())}},e}(PIXI.Container)},function(t,e,i){"use strict";function n(t,e,i){if(!(i<3)){var n=2*Math.PI/i;t.moveTo(e,0);for(var r=1;r<i;r++)t.lineTo(e*Math.cos(n*r),e*Math.sin(n*r))}}i.d(e,"a",function(){return h});var r=i(1),a=i(45),o=i(3),s=i(0),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.create=function(t){this.ctn=t;var e=i.i(r.c)({url:"/img/panel/score/m2/championBack.png"});e.y=s.a.STAGE_HEIGHT-306;var o=i.i(r.c)({url:"/img/panel/score/m2/championTop.png"});o.y=s.a.STAGE_HEIGHT-306-197,this.addChild(o),this.top=o,this.addChild(e);var l=i.i(r.c)({url:"/img/panel/score/m2/championInfo.png"});l.y=e.y,this.addChild(l),this.info=l;var h=i.i(r.c)({url:"/img/panel/score/m2/championTitle.png"});h.y=e.y+125,h.x=e.x+70,this.addChild(h),h.alpha=0,this.title=h;var c={fill:"#fff",fontWeight:"normal",fontFamily:s.c.MicrosoftYahei,fontSize:"38px"},d=new a.a(l);this.playerName=d.add({x:1205,y:72,style:c}),this.playerInfo=d.add({x:d.lastX,y:d.lastY+64,style:c}),this.playerLocation=d.add({x:d.lastX,y:d.lastY+57,style:c});var p=(new PIXI.Graphics).beginFill(16711680);n(p,121,6),p.x=960,p.y=161,l.addChild(p);var f=new PIXI.Sprite;l.addChild(f),f.x=p.x-121,f.y=p.y-121,f.mask=p,this.avt=f;var u=i.i(r.c)({url:"/img/panel/score/m2/victoryLight.png"});u.y=e.y-136,this.light=u,this.addChild(u)},e.prototype.show=function(t){var e=this;i.i(r.a)(t.avatar,function(n){var a=242/n.width;e.avt.texture=i.i(r.b)(n),e.avt.scale.x=e.avt.scale.y=a,e.onLoad(t)},!0)},e.prototype.onLoad=function(t){var e=this;this.info.x=-800,this.top.y=s.a.STAGE_HEIGHT-306-197,this.title.alpha=0,this.light.alpha=1,new o.a(this.top).delay(5e3).call(function(t){o.a.to(e.title,80,{alpha:1}),o.a.to(e.info,80,{x:0}),o.a.to(e.light,80,{alpha:0})}).to({y:1080},200).start(),o.a.to(this.info,100,{x:-200}),this.playerName.text=t.name,this.playerInfo.text=t.info,this.playerLocation.text=t.location,this.ctn.addChild(this)},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container);h.class="ChampionM2"},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(5),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rushHit=0,e.rushTime=3e3,e.rushCount=0,e.isLastLeft=!0,e}return r(e,t),e.prototype.create=function(t){var e=this;this.p=t,this.comboSp=new PIXI.Sprite,this.addChild(this.comboSp),this.comboNum=new PIXI.Sprite,this.addChild(this.comboNum),this.timerId=setInterval(function(t){e.rushCount-=100,e.comboNum.alpha=e.comboSp.alpha=e.rushCount/e.rushTime,e.rushCount<0&&(e.rushHit=0,e.hide())},100)},e.prototype.show=function(t){var e=this;console.log("show combo",t);var i=["/img/fx/m6/combo.png","/img/fx/m6/1.png","/img/fx/m6/2.png","/img/fx/m6/3.png","/img/fx/m6/4.png","/img/fx/m6/5.png","/img/fx/m6/6.png","/img/fx/m6/7.png","/img/fx/m6/8.png"];n.a.loadTexArr(i,function(i){e.isLastLeft!=t.isLeft&&(e.rushHit=0,e.isLastLeft=t.isLeft),e.rushHit++,e.rushHit>8&&(e.rushHit=8),e.comboSp.texture=n.a.getTex("/img/fx/m6/combo.png"),e.comboNum.texture=n.a.getTex("/img/fx/m6/"+e.rushHit+".png"),t.isLeft?e.comboSp.x=200:e.comboSp.x=1500,e.comboNum.alpha=e.comboSp.alpha=1,e.comboNum.x=e.comboSp.x-125,e.comboNum.y=e.comboSp.y=700,e.rushCount=e.rushTime,e.p.addChild(e)})},e.prototype.countDown=function(){},e.prototype.hide=function(){this.parent&&this.p.removeChild(this)},e.prototype._showCombo=function(){},e}(PIXI.Container);a.class="ComboSp"},function(t,e,i){"use strict";function n(t){return"/img/fx/m6/kill"+t+".png"}i.d(e,"a",function(){return d});var r=i(3),a=i(5),o=i(0),s=i(1),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h="/img/fx/m6/kill.png",c="/img/fx/m6/giantKilling.png",d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.create=function(t){var e=new PIXI.Container;this.addChild(e),this.rowUpArr=[];var i=new PIXI.Container;e.addChild(i),this.rowUpArr.push(i),this.killCtn=i,this.killSp=new PIXI.Sprite,i.addChild(this.killSp),this.killNum=new PIXI.Sprite,i.addChild(this.killNum),this.crowned=new PIXI.Sprite,e.addChild(this.crowned),this.rowUpArr.push(this.crowned),this.championSp=new PIXI.Sprite,e.addChild(this.championSp),this.rowUpArr.push(this.championSp),this.perfectSp=new PIXI.Sprite,e.addChild(this.perfectSp),this.rowUpArr.push(this.perfectSp),this.giantKillingSp=new PIXI.Sprite,e.addChild(this.giantKillingSp),this.rowUpArr.push(this.giantKillingSp),this.p=t},e.isShowFxImg=function(t){var e={state:0,isPerfect:!1,isGk:t.isGk},i=t.rec;console.log("is show fx img",i);var r=[];e.texArr=r;var a=i.straight,o=n(a),s=t.gameIdx;return 6==a&&0==i.lose?(r.push("/img/fx/m6/crowned.png"),e.state=1):62==s?i.straight>1&&(r.push(o),r.push(h),r.push("/img/fx/m6/champion.png"),e.state=2):i.straight>1&&(e.state=3,r.push(o),r.push(h)),0!=i.score[0]&&0!=i.score[1]||(r.push("/img/fx/m6/perfect.png"),e.isPerfect=!0),e.isGk&&r.push(c),e},e.prototype._showWin=function(t){var l=this,d=e.isShowFxImg(t),p=t.rec.straight,f=t.rec.lose;console.log("show fx img",p,f),this.killCtn.visible=!1,this.crowned.visible=!1,this.perfectSp.visible=!1,this.giantKillingSp.visible=!1,this.championSp.visible=!1,a.a.loadTexArr(d.texArr,function(t){1==d.state?(l.crowned.texture=a.a.getTex("/img/fx/m6/crowned.png"),l.crowned.visible=!0,i.i(s.g)(l.crowned)):2==d.state?(l.killCtn.visible=!0,l.championSp.visible=!0,l.killNum.texture=a.a.getTex(n(p)),l.killSp.texture=a.a.getTex(h),l.killCtn.x=.5*(o.a.STAGE_WIDTH-(l.killNum.texture.width+80+l.killSp.width)),l.killSp.x=l.killNum.x+l.killNum.width+80,l.championSp.texture=a.a.getTex("/img/fx/m6/champion.png"),i.i(s.g)(l.championSp)):3==d.state&&(l.killCtn.visible=!0,l.killNum.texture=a.a.getTex(n(p)),l.killSp.texture=a.a.getTex(h),l.killCtn.x=.5*(o.a.STAGE_WIDTH-(l.killNum.texture.width+80+l.killSp.width)),l.killSp.x=l.killNum.x+l.killNum.width+80),d.isPerfect&&(l.perfectSp.visible=!0,l.perfectSp.texture=a.a.getTex("/img/fx/m6/perfect.png"),i.i(s.g)(l.perfectSp)),d.isGk&&(l.giantKillingSp.visible=!0,l.giantKillingSp.texture=a.a.getTex(c),i.i(s.g)(l.giantKillingSp));for(var e=300,f=0,u=0,y=l.rowUpArr;u<y.length;u++){var x=y[u];x.visible&&(x.y=e,f=x.height,e+=50+f)}console.log("loaded texture"),l.p.addChild(l),r.a.delayedCall(2e3,function(t){l.hide()})})},e.prototype.show=function(t){this._showWin(t)},e.prototype.hide=function(t){this.parent&&this.p.removeChild(this)},e}(PIXI.Container);d.class="FxImg"},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(3),r=i(6),a=i(15),o=i(1),s=i(45),l=i(0),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.create=function(t){this.ctn=t,this.ctn.addChild(this);var e=new PIXI.Graphics;e.beginFill(0,.8).drawRect(0,0,l.a.STAGE_WIDTH,l.a.STAGE_HEIGHT),this.addChild(e);var n=i.i(o.c)({url:"/img/panel/score/m2/gamePlayerBg.png"});n.x=.5*(l.a.STAGE_WIDTH-1433),n.y=110,this.addChild(n),this.lFt=new PIXI.Sprite,this.lFt.x=0,this.lFt.y=86,n.addChild(this.lFt),this.rFt=new PIXI.Sprite,this.rFt.x=715,this.rFt.y=86,n.addChild(this.rFt);var r=i.i(o.c)({url:"/img/panel/score/m2/gamePlayerStrip.png"});r.blendMode=PIXI.BLEND_MODES.MULTIPLY,r.x=n.x,r.y=n.y+86,this.addChild(r);var a=i.i(o.c)({url:"/img/panel/score/m2/gamePlayerTop.png"});a.x=n.x,a.y=n.y,this.addChild(a);var h=new s.a(this),c={fill:"#000",fontWeight:"bold",fontFamily:l.c.MicrosoftYahei,fontSize:"35px"};this.lName=h.add({x:567,y:290,style:c}),this.rName=h.add({x:1348,y:this.lName.y,style:c,hAlign:"right"}),c.fontSize="28px",this.lInfo=h.add({x:this.lName.x,y:this.lName.y+64,style:c}),this.lLocation=h.add({x:this.lName.x,y:this.lName.y+120,style:c}),this.rInfo=h.add({x:this.rName.x,y:this.lInfo.y,style:c,hAlign:"right"}),this.rLocation=h.add({x:this.rName.x,y:this.lLocation.y,style:c,hAlign:"right"}),c.fill="#fff",c.fontSize="30px",this.lIntro=h.add({x:310,y:680,style:c}),this.rIntro=h.add({x:1632,y:this.lIntro.y,style:c,hAlign:"right"}),c.fontSize="50px",h.add({x:310,y:570,text:"参赛宣言",style:c}),h.add({x:this.rIntro.x,y:570,text:"参赛宣言",hAlign:"right",style:c}),this.lAvt=new PIXI.Sprite,this.lAvt.x=310,this.lAvt.y=290,this.addChild(this.lAvt),this.rAvt=new PIXI.Sprite,this.rAvt.x=1464,this.rAvt.y=this.lAvt.y,this.addChild(this.rAvt)},e.prototype._fixN=function(t){return t.search("微博")>0&&(t=t.replace("微博","\n微博")),t},e.prototype.show=function(t){var e=this,s=t.leftPlayer.data,l=t.rightPlayer.data;this.lName.text=i.i(a.a)(s.name),this.rName.text=i.i(a.a)(l.name),this.lInfo.text=s.height+" cm/ "+s.weight+" kg/ "+s.age+" 岁",this.rInfo.text=l.height+" cm/ "+l.weight+" kg/ "+l.age+" 岁",s.intro=i.i(r.h)(s.intro.replace("\n",""),32,96),l.intro=i.i(r.h)(l.intro.replace("\n",""),32,96),this.lIntro.text=s.intro,this.rIntro.text=l.intro,this.lLocation.text=i.i(r.h)(s.school,20,20)||"路人王",this.rLocation.text=i.i(r.h)(l.school,20,20)||"路人王",i.i(o.a)(s.avatar,function(t){e.lAvt.texture=i.i(o.b)(t);var n=164/t.height;e.lAvt.scale.x=e.lAvt.scale.y=n},!0),i.i(o.a)(l.avatar,function(t){e.rAvt.texture=i.i(o.b)(t);var n=164/t.height;e.rAvt.scale.x=e.rAvt.scale.y=n},!0),i.i(r.g)(i.i(a.b)(s.groupId),function(t){e.lFt.texture=i.i(o.b)(t)}),i.i(r.g)(i.i(a.b)(l.groupId),function(t){e.rFt.texture=i.i(o.b)(t)}),this.ctn.addChild(this),n.a.delayedCall(6e3,function(t){e.hide()})},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container);c.class="GamePlayerInfo"},function(t,e,i){"use strict";i.d(e,"a",function(){return y});var n=i(70),r=i(195),a=i(5),o=i(14),s=i(20),l=i(19),h=i(3),c=i(15),d=i(0),p=i(1),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(){var e=t.call(this)||this,n=new PIXI.Graphics;n.beginFill(3158064).drawRect(0,0,1377,100),e.addChild(n),n.alpha=.2,e.flatBg=n;var r=i.i(p.c)({url:"/img/panel/process/playerBg.png"});e.addChild(r);var a=i.i(p.c)({url:"/img/panel/process/playerBg.png"});e.addChild(a),r.x=.5*(n.width-967),r.y=8,a.x=r.x,a.y=r.y;var s=new PIXI.Graphics;s.beginFill(16777215).drawRect(0,0,470,84),s.x=r.x,e.addChild(s),r.mask=s;var l=new PIXI.Graphics;l.beginFill(16777215).drawRect(470,0,470,84),l.x=r.x,e.addChild(l),a.mask=l;var h={fontFamily:d.c.MicrosoftYahei,fontWeight:"bold",fontSize:"38px",fill:"#323232"},c=new PIXI.Text("",h);c.y=10,e.lPlayerName=c,r.addChild(c);var f=new PIXI.Text("",h);f.y=c.y,e.rPlayerName=f,a.addChild(f),h.fill="#435359";var u=new PIXI.Text("",h);e.gameIdxText=u,u.x=r.x-160,u.y=15,e.addChild(u),h.fontSize="56px",h.fill="#fff";var y=new PIXI.Text("3",h);y.y=5,y.x=424,e.lScoreText=y,r.addChild(y);var x=new PIXI.Text("2",h);return x.x=510,x.y=y.y,e.rScoreText=x,a.addChild(x),e.lAvt=new o.a("/img/panel/score/m4/avtMask.png",88),e.lAvt.x=310,e.lAvt.y=2,r.addChild(e.lAvt),e.rAvt=new o.a("/img/panel/score/m4/avtMaskR.png",88),e.rAvt.x=568,e.rAvt.y=e.lAvt.y,a.addChild(e.rAvt),e}return f(e,t),e.prototype.setStrip=function(t){this.odd=t,this.flatBg.alpha=t?.3:.2},e.prototype.setPlayerName=function(t,e){this.lPlayerName.text=i.i(c.a)(t),i.i(l.a)(this.lPlayerName,270,38),this.lPlayerName.x=295-this.lPlayerName.width,this.rPlayerName.text=i.i(c.a)(e),i.i(l.a)(this.rPlayerName,270,38),this.rPlayerName.x=670},e.prototype.setScore=function(t,e,i){var n=!(0==t&&0==e);this.lScoreText.visible=this.rScoreText.visible=n;var r=this.lAvt.parent,a=this.rAvt.parent;r.alpha=a.alpha=1,!n||2!=i&&4!=i&&6!=i&&7!=i||(t<e?r.alpha=.5:a.alpha=.5),this.lScoreText.text=t,this.rScoreText.text=e},e.prototype.setAvatar=function(t,e){this.lAvt.load(t),this.rAvt.load(e)},e.prototype.setData=function(t,e,i,n){void 0===n&&(n=!1),n&&(t.hupuID=t.data.realName,e.hupuID=e.data.realName),this._setData(t,e,i)},e.prototype._setData=function(t,e,i){this.setPlayerName(t.hupuID,e.hupuID),this.setScore(t.score,e.score,i),this.setAvatar(t.data.avatar,e.data.avatar)},e.prototype.setGameIdx=function(t){this.gameIdxText.text=t},e.prototype.setFocus=function(t){var e=.5*(this.flatBg.width-967);t?(this.flatBg.y=-5,this.flatBg.alpha=.6,this.x=-70,this.gameIdxText.x=e-110,i.i(p.d)(this,1.1)):(this.gameIdxText.x=e-160,this.flatBg.y=0,this.setStrip(this.odd),this.x=0,i.i(p.d)(this,1))},e}(PIXI.Container),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.create=function(t){this.p=t;var e=i.i(p.c)({url:"/img/panel/process/bg.png"});this.addChild(e),this.bgCtn=e,this.playerRoute=new r.a,this.playerRoute.x=-42,this.addChild(this.playerRoute);var a=i.i(p.c)({url:"/img/panel/process/title.png"});a.x=.5*(d.a.STAGE_WIDTH-1377),a.y=122,this.titleCtn=a;var o=i.i(p.c)({url:"/img/panel/process/titleTex.png"});o.x=520,o.y=-2;var l=i.i(p.c)({url:"/img/panel/process/final8Bg.png"});l.x=.5*(d.a.STAGE_WIDTH-1652),l.y=155,this.final8Bg=l,this.addChild(l);var h=i.i(p.c)({url:"/img/panel/process/final8Line.png"});l.addChild(h);var c=new PIXI.Graphics;c.beginFill(3158064).drawRect(0,0,1377,30),c.x=a.x,c.y=170,c.alpha=.2,this.flatBg=c;var f={fontFamily:d.c.MicrosoftYahei,fontWeight:"bold",fontSize:"56px",fill:"#fff"};this.title=new PIXI.Text("",f),this.title.y=1,o.mask=this.title,a.addChild(this.title),a.addChild(o),this.addChild(c),this.addChild(a),this.playerItemCtn=new PIXI.Container,this.playerItemCtn.x=a.x,this.addChild(this.playerItemCtn),this.playerItemArr=[];for(var y=0;y<8;y++){var x=new u;x.y=a.y+80+105*y,x.setStrip(y%2),this.playerItemCtn.addChild(x),this.playerItemArr.push(x)}this.toPosX=0,this.initVSFocus(this.playerItemCtn),this.playerItemArr2=[];for(var y=0;y<10;y++){var g=new n.a(y+1);this.playerItemArr2.push(g),l.addChild(g)}this.tabIdxPosMap=[0,262,425,596,763,936,1101,1270,1439,1604];var m=i.i(p.c)({url:"/img/panel/process/tabFocus.png"});m.x=253,m.y=104,this.bgCtn.addChild(m),i.i(s.a)({target:m,time:500}),this.tabFocus=m},e.prototype.initVSFocus=function(t){var e=i.i(p.c)({url:"/img/panel/process/vs.png"});this.vs=e,e.x=645,e.y=225,t.addChild(e)},e.prototype.show=function(t){var i=this;if(console.log("show process data:",t),t.playerRoute)this.showPlayerRoute(t);else{for(var n=t.processParam,r=n.gamePlayerArr,o=[],s=0;s<r.length;s++){var l=r[s];l[0].data.avatar&&o.push(l[0].data.avatar),l[1].data.avatar&&o.push(l[1].data.avatar)}a.a.loadTexArr(o,function(t){i.setTitle(n.title),i.titleCtn.y=122;var a=n.idx;if(i.tabFocus.x=i.tabIdxPosMap[a],8==a||9==a){for(var o=0;o<r.length;o++){var s=r[o],l=i.playerItemArr2[o];l.setData(s[0],s[1],n.isShowRealName)}i.showPanel(e.PANEL_8)}else{for(var c=0,p=i.playerItemArr;c<p.length;c++){var l=p[c];l.visible=!1}i.vs.visible=!1;for(var o=0;o<r.length;o++){var s=r[o],l=i.playerItemArr[o];l.setData(s[0],s[1],a,n.isShowRealName),n.gameIdx==n.start+o?i.setFucosPlayerItem(l):l.setFocus(!1),l.setGameIdx(n.start+o);var f=o%2;l.x=f?-l.width:d.a.STAGE_WIDTH,l.visible=!0}for(var o=0;o<i.playerItemArr.length;o++){var l=i.playerItemArr[o];h.a.to(l,200,{x:i.toPosX})}i.showPanel(e.PANEL_GROUP)}console.log("this.tabIdxPosMap",i.tabFocus.x),i.p.addChild(i)},!0)}},e.prototype.setTitle=function(t){this.title.text=t,this.title.x=.5*(1377-this.title.width)},e.prototype.showPlayerRoute=function(t){var i=this;this.titleCtn.y=243;var n=t.tabData;n.title.substr(0,3),this.setTitle(n.title.substr(0,3));var r=n.idx;this.tabFocus.x=this.tabIdxPosMap[r],this.playerRoute.show(t),this.bgCtn.visible=!1,this.showPanel(e.PANEL_PLAYER_ROUTE),t.isFx&&h.a.delayedCall(5500,function(t){i.hide()})},e.prototype.showPanel=function(t){this.playerRoute.visible=!1,this.playerItemCtn.visible=!1,this.flatBg.visible=!1,this.final8Bg.visible=!1,t==e.PANEL_PLAYER_ROUTE?this.playerRoute.visible=!0:t==e.PANEL_GROUP?(this.playerItemCtn.visible=!0,this.flatBg.visible=!0,this.bgCtn.visible=!0):t==e.PANEL_8&&(this.bgCtn.visible=!0,this.final8Bg.visible=!0,this.playerItemCtn.visible=!1,this.flatBg.visible=!1),this.p.addChild(this)},e.prototype.setFucosPlayerItem=function(t){var e=this;h.a.delayedCall(500,function(i){e.vs.visible=!0,e.vs.y=t.y+30,t.setFocus(!0)})},e.prototype.setFinal8=function(){},e.prototype.hide=function(){this.bgCtn.visible=!0,this.p.removeChild(this)},e}(PIXI.Container);y.class="GameProcess",y.PANEL_GROUP=1,y.PANEL_8=2,y.PANEL_PLAYER_ROUTE=3},function(t,e,i){"use strict";function n(t,e,i){if(!(i<3)){var n=2*Math.PI/i;t.moveTo(e,0);for(var r=1;r<i;r++)t.lineTo(e*Math.cos(n*r),e*Math.sin(n*r))}}i.d(e,"a",function(){return l});var r=i(1),a=i(15),o=i(0),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerTextArr=[],e.avatarArr=[],e.ftArr=[],e}return s(e,t),e.prototype.create=function(t){this.p=t;var e=this.groupText=new PIXI.Text;e.style.fill="#fff",e.style.fontFamily=o.c.MicrosoftYahei,e.style.fontSize="50px",e.x=345,e.y=170;var a=i.i(r.c)({url:"/img/panel/score/m2/groupBg.png"});this.addChild(a);for(var s=[50,150,790,935],l=0;l<4;l++){for(var h=0;h<4;h++){var c=new PIXI.Text;c.x=s[h],c.y=125+128*l,c.style.fontSize="35px",c.style.fill="#fff",c.style.fontFamily=o.c.MicrosoftYahei,c.style.fontWeight="bold",this.playerTextArr.push(c),a.addChild(c)}var d=new PIXI.Sprite;d.x=145,d.y=98+128*l,a.addChild(d),this.avatarArr.push(d);var p=new PIXI.Graphics;p.beginFill(16711680),p.drawCircle(51,51,51),p.x=d.x,p.y=d.y,d.mask=p,a.addChild(p);var f=new PIXI.Graphics;f.beginFill(12426079),f.x=650,f.y=d.y+50,n(f,52,6),f.rotation=30*PIXI.DEG_TO_RAD,a.addChild(f);var u=new PIXI.Graphics;u.beginFill(16777215),u.x=f.x,u.y=f.y,n(u,44,6),u.rotation=30*PIXI.DEG_TO_RAD,a.addChild(u);var y=new PIXI.Sprite;y.x=f.x-35,y.y=f.y-35,a.addChild(y),this.ftArr.push(y)}a.x=o.a.STAGE_WIDTH-1018,a.y=170},e.prototype.show=function(t){var e=t.group,n=t.playerArr;this.groupText.text=e.toLocaleUpperCase()+"组";for(var o=this,s=0;s<4;s++)!function(t){var s=n[t];o.playerTextArr[4*t].text=e.toLocaleUpperCase();var l=o.playerTextArr[4*t+1];l.text=s.name,l.x=400-.5*l.width,o.playerTextArr[4*t+2].text=s.win||"0",o.playerTextArr[4*t+3].text=s.dtScore||"0";var h=o.avatarArr[t];i.i(r.a)(s.avatar,function(t){h.texture=i.i(r.b)(t);var e=102/t.width;h.scale.x=h.scale.y=e},!0);var c=o.ftArr[t];i.i(r.a)(i.i(a.c)(s.groupId),function(t){c.texture=i.i(r.b)(t);var e=70/t.width;c.scale.x=c.scale.y=e},!1)}(s);this.p.addChild(this)},e.prototype.hide=function(){this.p.removeChild(this)},e}(PIXI.Container);l.class="GroupRankM2"},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(207),r=i(6),a=i(1),o=i(0),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.create=function(t){var e=this;t.addChild(this),this.bg=new PIXI.Graphics,this.bg.alpha=.8,this.addChild(this.bg),i.i(r.g)("/img/panel/score2017/noticeBg.png",function(t){e.imgWidth=250,e.imgHeight=130,e.frame=new n.a(t,{x:27,y:29,width:31,height:27}),e.addChildAt(e.frame,1),e.setText(e._content,e._title,e._isLeft,e._isBold)}),this.lLight=i.i(a.c)({url:"/img/panel/score2017/noticeLight.png"}),this.lLight.y=34,this.addChild(this.lLight),this.rLight=i.i(a.c)({url:"/img/panel/score2017/noticeLight.png"}),this.rLight.y=this.lLight.y,this.addChild(this.rLight);var s={fontFamily:o.c.MicrosoftYahei,fontSize:"35px",fill:"#fff",fontWeight:"bold"};this.line=i.i(a.c)({url:"/img/panel/score2017/noticeLine.png"}),this.line.y=48,this.line.x=9,this.addChild(this.line),this.content=new PIXI.Text("",s),this.content.y=60,this.addChild(this.content),this.title=new PIXI.Text("",s),this.title.style.fontSize="25px",this.title.y=12,this.addChild(this.title),this.y=85},e.prototype.show=function(t){this.setText(t.content,t.title,t.isLeft,t.isBold),this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.setText=function(t,e,i,n){e||(e="公告"),this._content=t,this._title=e,this._isLeft=i,this._isBold=n,this.content.style.fontWeight=n;var r=15;"bold"==n&&(r=18),this.content.style.lineHeight=Number((this.content.style.fontSize+"").replace("px",""))+r,this.content.text=t,this.title.text=e;var a=Math.max(this.content.width,this.title.width);a<this.imgWidth&&(a=this.imgWidth);var s=this.content.height;s<this.imgHeight&&(s=this.imgHeight),this.frame.resize(a+40,this.content.height+15+this.content.y),this.line.width=a+40-18,this.content.x=.5*(this.frame.width-this.content.width),this.title.x=.5*(this.frame.width-this.title.width),this.bg.clear();var l=this.frame.width,h=this.frame.height;this.bg.beginFill(0).moveTo(25,6).lineTo(l-8,6).lineTo(l-8,h-28).lineTo(l-25,h-6).lineTo(6,h-6).lineTo(6,25),l<260?(this.lLight.visible=!1,this.rLight.visible=!1):(this.lLight.visible=!0,this.rLight.visible=!0,this.lLight.x=this.title.x-75-8,this.rLight.x=this.title.x+this.title.width+8,this.rLight.x+this.rLight.width-this.lLight.x>l-25&&(this.lLight.visible=!1,this.rLight.visible=!1)),this.x=i?5:o.a.STAGE_WIDTH-l-5,this.y=.382*(o.a.STAGE_HEIGHT-h)},e}(PIXI.Container);l.class="NoticePanel"},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i(3),r=i(70),a=i(1),o=i(14),s=i(0),l=i(15),h=i(44),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d={fontFamily:s.c.MicrosoftYahei,fontWeight:"bold",fontSize:"38px",fill:"#323232"},p=function(){var t=i.i(a.c)({url:"/img/panel/process/playerBg3Blue.png"}),e=new o.a("/img/panel/score/m4/avtMask.png",148);t.avt=e,e.x=12,e.y=-1;var n=new PIXI.Text("player",d);return n.y=5,n.x=170,t.addChild(n),t.label=n,t.addChild(e),t},f=function(){var t=i.i(a.c)({url:"/img/panel/process/playerBg3Red.png"}),e=new o.a("/img/panel/score/m4/avtMask.png",148);e.x=298,e.y=6,t.avt=e,t.addChild(e);var n=new PIXI.Text("player",d);return n.y=53,n.x=170,t.addChild(n),t.label=n,t},u=function(t){function e(){var e=t.call(this)||this,n=new h.a("/img/fx/playerRoute/fx2_",0,16);e.fx2=n,n.mc.animationSpeed=.2,n.x=42,e.addChild(n),e.fxCtn=new PIXI.Container,e.addChild(e.fxCtn);var o=i.i(a.c)({url:"/img/panel/process/routeBg.png"});e.fxCtn.addChild(o),o.x=10,o.y=10;var l=i.i(a.c)({url:"/img/panel/process/playerGroup2Bg.png"});e.fxCtn.addChild(l);var c=i.i(a.c)({url:"/img/panel/process/playerGroup2Bg.png"});e.fxCtn.addChild(c);var d=new r.a(1);l.addChild(d);var u=new r.a(2);c.addChild(u),e.p1FromGroup=d,e.p2FromGroup=u,u.x=d.x=20,u.y=d.y=17,l.x=c.x=320,l.y=370,c.y=580,i.i(a.d)(d,.7),i.i(a.d)(u,.7);var y=new r.a(3);e.fxCtn.addChild(y);var x=new r.a(4);e.fxCtn.addChild(x),y.x=x.x=1425,y.y=394,x.y=652,i.i(a.d)(y,.8),i.i(a.d)(x,.8),e.WinToGroup=y,e.loseToGroup=x,e.p1=p(),e.p2=f(),e.p1.x=770,e.p2.x=800,e.p1.y=360,e.p2.y=567,e.addChild(e.p1),e.addChild(e.p2);var g={fontFamily:s.c.MicrosoftYahei,fontWeight:"bold",fontSize:"23px",fill:"#ffffff"},m=new PIXI.Text("胜者组",g);m.x=1435,m.y=352,e.winTitle=m,e.fxCtn.addChild(m);var v=new PIXI.Text("败者组",g);v.x=m.x,v.y=610,e.loseTitle=v,e.fxCtn.addChild(v);var w=new h.a("/img/fx/playerRoute/fx3_",0,31);return e.fx=w,w.mc.animationSpeed=.2,w.x=o.x,w.y=o.y,e.addChild(w),e}return c(e,t),e.prototype.show=function(t){var e=this;t.isFx?(this.fx2.visible=!0,this.fx.alpha=1,this.fx.playOnce(),this.fx2.playOnce(),this.p1.y=-140,this.p2.y=1067,n.a.delayedCall(500,function(t){n.a.to(e.p1,200,{y:360}),n.a.to(e.p2,200,{y:567})}),this.fxCtn.alpha=0,n.a.delayedCall(1200,function(t){n.a.to(e.fxCtn,300,{alpha:1})})):this.fx2.visible=!1,"败"==t.tabData.title.substr(0,1)?(this.winTitle.text="败者组",this.loseTitle.text="淘汰",this.loseToGroup.visible=!1):(this.winTitle.text="胜者组",this.loseTitle.text="败者组",this.loseToGroup.visible=!0),this.WinToGroup.showNameAvatar(t.win[0],t.win[1]),this.loseToGroup.showNameAvatar(t.lose[0],t.lose[1]),t.from.length?(this.p1FromGroup.visible=!0,this.p2FromGroup.visible=!0,this.p1FromGroup.showNameAvatar(t.from[0][0],t.from[0][1]),this.p2FromGroup.showNameAvatar(t.from[1][0],t.from[1][1])):(this.p1FromGroup.visible=!1,this.p2FromGroup.visible=!1,this.p1FromGroup.showNameAvatar(null,null),this.p2FromGroup.showNameAvatar(null,null));var r=t.cur;this.p1.avt.load(r[0].data.avatar),this.p2.avt.load(r[1].data.avatar),this.p1.label.text=i.i(l.a)(r[0].realName),this.p2.label.text=i.i(l.a)(r[1].realName),this.p2.label.x=290-this.p2.label.width},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(3),r=i(1),a=i(0),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.create=function(t){t.addChild(this);var e={fontFamily:a.c.MicrosoftYahei,fontSize:"32px",fill:"#fff",fontWeight:"bold"};this.rollText=new PIXI.Text("",e),this.rollText.y=a.a.STAGE_HEIGHT-50;var n=i.i(r.e)();n.y=this.rollText.y-10,this.addChild(n),this.addChild(this.rollText)},e.prototype.show=function(t){var e=this;console.log("show roll text"),n.a.to(this,50,{alpha:1}),this.rollText.text=t.text,this.rollText.x=a.a.STAGE_WIDTH-100;var i=(this.rollText.width+this.rollText.x)/80;n.a.to(this.rollText,1e3*i,{x:-this.rollText.width},function(t){e.hide()})},e.prototype.hide=function(){console.log("hide roll text"),n.a.to(this,200,{alpha:0})},e}(PIXI.Container);s.class="RollText"},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(0),r=i(5),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(){function t(t,e,i,n){this.name=t,this.x=e,this.y=i,this.url=n}return t}(),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgConfMap={},e}return a(e,t),e.prototype.create=function(t){this.p=t,this.imgConfMap.bd1=new o("bd1",0,n.a.STAGE_HEIGHT-504,"/img/bd/bd1.png"),this.imgConfMap.bd2=new o("bd2",0,n.a.STAGE_HEIGHT-190,"/img/bd/bd2.png"),this.imgConfMap.bd1.group="bd",this.imgConfMap.bd2.group="bd"},e.prototype.show=function(t){var e=this,i=this;for(var n in this.imgConfMap)!function(n){var a=i.imgConfMap[n];a.name==t.name&&(a.sp?i.p.addChild(a.sp):r.a.loadTex(a.url,function(t){a.sp=new PIXI.Sprite(t),a.sp.x=a.x,a.sp.y=a.y,e.p.addChild(a.sp)}))}(n)},e.prototype.hide=function(t){for(var e in this.imgConfMap){var i=this.imgConfMap[e];if(i.name==t.name){if(i.group)for(var n in this.imgConfMap){var r=this.imgConfMap[n];r.group==i.group&&this.p.removeChild(r.sp)}this.p.removeChild(i.sp)}}},e}(PIXI.Container);s.class="StaticImg"},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i(42),r=i(6),a=i(3),o=i(14),s=i(0),l=i(44),h=i(1),c=i(12),d=i(15),p=i(19),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.create=function(t){this.p=t,this.addChild(i.i(h.e)(.4));var e=i.i(h.c)({url:"/img/panel/score/m4/winBg.png"});this.addChild(e),this.bg=e;var n=new l.a("/img/fx/victory/winFx_",0,24);this.fx=n,this.addChild(n);var r=i.i(h.c)({url:"/img/panel/score/m4/winPlayerBg.png"});r.x=.5*(s.a.STAGE_WIDTH-564),r.y=376,this.addChild(r);var a=new o.a("/img/panel/score/m4/avtMaskR.png",180);a.x=20,a.y=5,this.avt=a,r.addChild(a);var c={fontFamily:s.c.MicrosoftYahei,fontSize:"54px",fill:"#fff",fontWeight:"bold",stroke:"#000",strokeThickness:3,dropShadow:!0,dropShadowAngle:Math.PI/2,dropShadowColor:875666,dropShadowDistance:3},d=new PIXI.Text("player name",c);this.playerNameText=d,d.x=220,d.y=12,r.addChild(d),c.fontSize="34px";var p=new PIXI.Text("1胜1负",c);p.x=220,p.y=96,this.winLoseText=p,r.addChild(p);var f={fontFamily:s.c.MicrosoftYahei,fontSize:"80px",fill:"#fff"},u=new PIXI.Text("￥20,000",f);this.rewardText=u,u.y=150,u.x=125,r.addChild(u);var y=i.i(h.c)({url:"/img/panel/score/m4/rewardTex.png"});i.i(h.d)(y,3),y.scale.x=4,y.x=15,y.y=160,r.addChild(y),y.mask=u},e.prototype.show=function(t){var e=this;this.alpha=1;var o=t.winner;this.playerNameText.text=i.i(d.a)(o.realName),i.i(p.a)(this.playerNameText,300,54),this.avt.load(o.avatar);var s="",l="";if(t.gameTitle?s=t.gameTitle+"  "+t.rec.win+"胜  "+t.rec.lose+"负":(c.b[t.gameIdx]==c.c.lose?l="败者组":c.b[t.gameIdx]==c.c.win?l="胜者组":c.b[t.gameIdx]==c.c.pre&&(l="分组赛"),s=l+"  "+t.rec.win+"胜  "+t.rec.lose+"负"),this.winLoseText.text=s,t.isLeft?(this.playerNameText.style.dropShadowColor=875666,this.winLoseText.style.dropShadowColor=875666):(this.playerNameText.style.dropShadowColor=3485746,this.winLoseText.style.dropShadowColor=3485746),t.reward){this.rewardText.visible=!0,i.i(h.f)(this.rewardText);var f=t.reward.rewardArr;if(0==f.length)this.rewardText.text="￥000,00";else{var u={reward:0},y=n.a.sumRewardArr(f),x=y-f[f.length-1],g=f[f.length-1];new a.a(u).to({reward:g},600).update(function(t){e.rewardText.text="￥"+Math.floor((x+u.reward)/1e3)+","+i.i(r.c)(Math.floor((x+u.reward)%1e3),3),i.i(h.d)(e.rewardText,1+.2*Math.random())}).start(),a.a.delayedCall(700,function(t){i.i(h.d)(e.rewardText,1),e.rewardText.text="￥"+y/1e3+",000"})}}else this.rewardText.visible=!1;a.a.delayedCall(2500,function(t){e.hide()}),this.fx.playOnce(),this.p.addChild(this)},e.prototype.hide=function(){var t=this;a.a.to(this,250,{alpha:0},function(e){t.p.removeChild(t)})},e}(PIXI.Container);u.class="Victory0"},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(5),r=i(1),a=i(45),o=i(0),s=i(3),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.create=function(t){this.ctn=t,this.ctn.addChild(this),this.addChild(i.i(r.e)(.2));var e=i.i(r.c)({url:"/img/panel/score/m2/victory.png"});this.addChild(e),e.y=365;var n=new PIXI.Sprite;this.avt=n,n.x=840,n.y=172,e.addChild(n);var s=new PIXI.Graphics;s.beginFill(16711680),s.drawCircle(115,115,115),s.x=n.x,s.y=n.y,n.mask=s,e.addChild(s);var l={fill:"#fff",fontWeight:"bold",fontFamily:o.c.MicrosoftYahei,fontSize:"83px"},h=new a.a(e);this.winLoseText=h.add({x:480,y:237,style:l}),l.fontSize="38px",l.fontWeight="normal",this.nameText=h.add({x:1205,y:205,style:l}),this.infoText=h.add({x:h.lastX,y:h.lastY+64,style:l}),this.locationText=h.add({x:h.lastX,y:h.lastY+57,style:l});var c=i.i(r.c)({url:"/img/panel/score/m2/victoryLight.png"});c.x=e.x,c.y=e.y,this.addChild(c)},e.prototype.show=function(t){var e=this;console.log("show Victory",t),this.winLoseText.text=t.rec.win+"胜"+t.rec.lose+"负";var i=t.winner;this.nameText.text=i.realName,this.infoText.text=i.height+"cm / "+i.weight+"kg / "+(i.age||"18")+"岁",this.locationText.text=i.school,console.log("show victory",t),n.a.loadTex(i.avatar,function(t){var i=230/t.width;e.avt.texture=t,e.avt.scale.x=e.avt.scale.y=i,e.ctn.addChild(e)}),s.a.delayedCall(4e3,function(t){e.hide()})},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container);h.class="VictoryM2"},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(5),r=i(1),a=i(0),o=i(2),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t,e){n.a.loadTex(e,function(e){var n=124/e.width;t.texture=e,t.x=t.mask.x,i.i(r.d)(t,n),t.y=t.mask.y-.5*(t.height-t.mask.height)})},h=function(t){function e(){var e=t.call(this)||this;return n.a.loadTex("/img/panel/score2018/score.png",function(t){var n={text:"0",animations:{7:0,8:1,9:2,0:3,1:4,2:5,3:6,4:7,5:8,6:9},texture:t,frames:[[0,0,54,80],[55,0,54,80],[0,81,54,80],[55,81,54,80],[110,0,54,80],[110,81,54,80],[165,0,54,80],[165,81,54,80],[0,162,54,80],[55,162,54,80]]},o=i.i(r.c)({url:"/img/panel/score2018/5group/itemBg.png"});e.addChild(o),e.bg=o;var s=i.i(r.c)({url:"/img/panel/score2018/5group/itemBg2.png"});e.addChild(s),e.bg2=s,s.visible=!1;var l=new r.h(n);o.addChild(l),i.i(r.d)(l,.9),l.x=840,e.lScore=l,l.text="0";var h=new r.h(n);o.addChild(h),i.i(r.d)(h,.9),h.x=1035,l.y=h.y=170,e.rScore=h,h.text="0";var c=new PIXI.Sprite;o.addChild(c);var d=new PIXI.Sprite;o.addChild(d);var p=i.i(r.c)({url:"/img/panel/score2018/5group/avtMaskL.png"});o.addChild(p);var f=i.i(r.c)({url:"/img/panel/score2018/5group/avtMaskR.png"});o.addChild(f),p.x=693,f.x=1103,f.y=p.y=160,c.mask=p,d.mask=f,e.lAvt=c,e.rAvt=d;var u={fontFamily:a.c.MicrosoftYahei,fontSize:"35px",fill:"#000520",fontWeight:"bold"},y=new PIXI.Text("",u);e.lName=y,e.lName.y=164,y.x=713-y.width,o.addChild(y);var x=new PIXI.Text("",u);e.rName=x,x.x=1226,e.rName.y=e.lName.y,o.addChild(x);var g={fontFamily:a.c.Impact,fontSize:"28px",fill:"#000520"},m=new PIXI.Text("",g);e.lHwa=m,o.addChild(m);var v=new PIXI.Text("",g);o.addChild(v),e.rHwa=v,e.rHwa.x=e.rName.x,m.y=v.y=215;var w={fontFamily:a.c.MicrosoftYahei,fontSize:"24px",fill:"#eee"},I=new PIXI.Text("",w);e.lTitle=I,o.addChild(I);var P=new PIXI.Text("",w);e.rTitle=P,o.addChild(P),I.y=P.y=125,P.x=1040}),e}return s(e,t),e.prototype.setData=function(t,e){var i=e[t.player[0]],n=e[t.player[1]];this.lScore.text=t.score[0]+"",this.rScore.text=t.score[1]+"",l(this.lAvt,i.avatar),l(this.rAvt,n.avatar),console.log("lPlayer",i),this.lName.text=i.name,this.lName.x=692-this.lName.width,this.lTitle.text=i.title,this.lTitle.x=880-this.lTitle.width,this.rTitle.text=n.title,this.rName.text=n.name,i.hwa[0]?(this.lHwa.text=i.hwa[0]+"cm | "+i.hwa[1]+"kg",this.lHwa.x=692-this.lHwa.width,this.showBg1()):(this.lHwa.text="",this.showBg2()),n.hwa[0]?this.rHwa.text=n.hwa[0]+"cm | "+n.hwa[1]+"kg":this.rHwa.text=""},e.prototype.showBg2=function(){this.bg.visible=!1,this.bg2.visible=!0,this.lScore.visible=!1,this.rScore.visible=!1},e.prototype.showBg1=function(){this.lScore.visible=!0,this.rScore.visible=!0,this.bg.visible=!0,this.bg2.visible=!1},e}(PIXI.Container),c=function(t){function e(e,i){var r=t.call(this)||this;r.itemArr=[],r.p=e;var a=[];return a.push("/img/panel/score2018/5group/itemBg.png"),a.push("/img/panel/score2018/5group/avtMaskL.png"),a.push("/img/panel/score2018/5group/avtMaskR.png"),a.push("/img/panel/score2018/score.png"),r.itemArr=[],n.a.loadTexArr(a,function(t){for(var e=0;e<6;e++){var n=new h;n.y=156*e,r.addChild(n),r.itemArr.push(n)}r.show(i)}),r}return s(e,t),e.prototype.show=function(t){if(this.itemArr.length){var e=0,n="1"==i.i(o.d)("page2");console.log("is page2",n),n&&(e=5);for(var r=0;r<6;r++){var a=this.itemArr[r];t.groupScore[e+r]?(a.setData(t.groupScore[e+r],t.playerMap),a.visible=!0):a.visible=!1}}this.p.addChild(this)},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container)},function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i(1),r=i(6),a=i(5),o=i(0),s=i(23),l=i(19),h=i(202),c={bg:"/img/panel/score2018/bg2.png",score:"/img/panel/score2018/score.png",scoreTex:"/img/panel/score2018/scoreTex.png",maskL:"/img/panel/score2018/avtMaskL.png",maskR:"/img/panel/score2018/avtMaskR.png"},d=function(t,e){a.a.loadTex(e,function(e){var r=112/e.width;t.texture=e,t.x=t.mask.x,i.i(n.d)(t,r),t.y=t.mask.y-.5*(t.height-t.mask.height)})},p=function(){function t(t){var e=this;this.p=t;var a=new PIXI.Container,l=new PIXI.Container;l.y=890,this.p.addChild(a);var d=i.i(n.c)({url:c.bg});a.addChild(d),a.addChild(l);var p=[];p.push({name:"score",url:c.score}),i.i(r.f)(p,function(t){var r=i.i(n.b)(t.score),a={text:"0",animations:{7:0,8:1,9:2,0:3,1:4,2:5,3:6,4:7,5:8,6:9},texture:r,frames:[[0,0,54,80],[55,0,54,80],[0,81,54,80],[55,81,54,80],[110,0,54,80],[110,81,54,80],[165,0,54,80],[165,81,54,80],[0,162,54,80],[55,162,54,80]]},o=new n.h(a);e.leftScoreText=o,o.x=840,o.y=27,o.align="center",l.addChild(o);var s=new n.h(a);e.rightScoreText=s,s.x=o.x+187,s.y=o.y,s.align="center",i.i(n.d)(o,.95),i.i(n.d)(s,.95),l.addChild(s)});var f=i.i(n.c)({url:c.maskL});l.addChild(f),f.x=710,f.y=26;var u=i.i(n.c)({url:c.maskR});l.addChild(u),u.x=1099,u.y=f.y;var y=new PIXI.Sprite;this.lAvt=y,y.mask=f,l.addChild(y);var x=new PIXI.Sprite;this.rAvt=x,x.mask=u,l.addChild(x);var g=new PIXI.Sprite;g.x=517,g.y=25,this.lIcon=g;var m=new PIXI.Sprite;m.x=1365,m.y=g.y,this.rIcon=m,i.i(n.d)(g,.4),i.i(n.d)(m,.4);var v={fontFamily:o.c.Impact,fontSize:"30px",fill:"#c2c1d4"},w=new PIXI.Text("0",v);w.x=716,w.y=115,l.addChild(w),this.lFoul=w;var I=new PIXI.Text("0",v);I.x=1190,I.y=w.y,l.addChild(I),this.rFoul=I;var P={fontFamily:o.c.Impact,fontSize:"37px",fill:"#ff7e00",fontWeight:"bold"},T=new s.a("",P);l.addChild(T),T.x=915,T.y=103,T.textInSec=0,this.timer=T;var b={fontFamily:o.c.MicrosoftYahei,fontSize:"35px",fill:"#000520",fontWeight:"bold"},_=new PIXI.Text("",b);this.lName=_,this.lName.y=28,_.x=713-_.width,l.addChild(_);var C=new PIXI.Text("",b);this.rName=C,C.x=1200,this.rName.y=this.lName.y,l.addChild(C);var S={fontFamily:o.c.Impact,fontSize:"25px",fill:"#000520"},k=new PIXI.Text("",S);this.lHeightWeight=k,l.addChild(k),k.x=713-k.width,k.y=78;var A=new PIXI.Text("",S);this.rHeightWeight=A,l.addChild(A),A.x=1200,A.y=k.y;var N=new PIXI.Text("0 - 0",{fontFamily:o.c.Impact,fontSize:"35px",fill:"#fff"});N.y=22,N.x=960-.5*N.width,this.bo3Score=N,l.addChild(N);var X={fontFamily:o.c.Impact,fontSize:"30px",fill:"#000520"},F=new PIXI.Text("",X);this.lRank=F,F.y=32;var M=new PIXI.Text("",X);this.rRank=M,M.x=1410,M.y=F.y;var R={fontFamily:o.c.MicrosoftYahei,fontSize:"24px",fill:"#fff",fontWeight:"bold"},O=new PIXI.Text("",R);this.gameTitle=O,O.y=55,this.vsTitle=new h.a,this.vsTitle.create(a),this.test()}return t.prototype.test=function(){},t.prototype.setInit=function(t){var e=this;this.gameTitle.text=t.gameTitle,this.gameTitle.x=960-.5*this.gameTitle.width,this.setScoreFoul(t);var n=t.leftPlayer,r=t.rightPlayer;this.lPlayer=n.playerId,this.rPlayer=r.playerId;var o="/img/icon/"+n.rankType+".png",s="/img/icon/"+r.rankType+".png";a.a.loadTex(o,function(t){e.lIcon.texture=t}),a.a.loadTex(s,function(t){e.rIcon.texture=t}),"p11"==r.playerId&&(r.avatar="/img/player/bo3/p11.png"),"p11"==n.playerId&&(n.avatar="/img/player/bo3/p11.png"),d(this.lAvt,n.avatar),d(this.rAvt,r.avatar),this.lName.text=n.name,i.i(l.a)(this.lName,258,35),this.lName.x=718-this.lName.width,this.rName.text=r.name,i.i(l.a)(this.rName,258,35),n.hwa[0]?(this.lHeightWeight.text=n.hwa[0]+"cm | "+n.hwa[1]+"kg",this.lHeightWeight.x=713-this.lHeightWeight.width):this.lHeightWeight.text="",r.hwa[0]?this.rHeightWeight.text=r.hwa[0]+"cm | "+r.hwa[1]+"kg":this.rHeightWeight.text="",this.lRank.text=n.rank,this.lRank.x=510-this.lRank.width,this.rRank.text=r.rank,this.lIcon.visible=""!=n.rank,this.rIcon.visible=""!=r.rank,this.vsTitle.show({vs:n.title+" "+r.title})},t.prototype.setScoreFoul=function(t){"leftScore"in t&&(this.leftScoreText.text=t.leftScore+"",Number(t.leftScore)>9?i.i(n.d)(this.leftScoreText,.85):i.i(n.d)(this.leftScoreText,1),this.leftScoreText.x=865-.5*this.leftScoreText.width),"rightScore"in t&&(this.rightScoreText.text=t.rightScore+"",Number(t.rightScore)>9?i.i(n.d)(this.rightScoreText,.85):i.i(n.d)(this.rightScoreText,1),this.rightScoreText.x=1052-.5*this.rightScoreText.width),"leftFoul"in t&&(this.lFoul.text=t.leftFoul+""),"rightFoul"in t&&(this.rFoul.text=t.rightFoul+"")},t.prototype.resetTimer=function(){this.timer.resetTimer()},t.prototype.setTimer=function(t){this.timer.setTimeBySec(t)},t.prototype.setBo3Score=function(t){console.log("set bo3 score ",this.lPlayer,this.rPlayer);for(var e=0,i=t.groupScore;e<i.length;e++){var n=i[e];n.player[0]==this.lPlayer&&n.player[1]==this.rPlayer&&(this.bo3Score.text=n.score[0]+" - "+n.score[1])}},t.prototype.toggleTimer=function(t){this.timer.toggleTimer(t)},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(3),r=i(1),a=i(0),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.create=function(t){this.p=t;var e={fontFamily:a.c.MicrosoftYahei,fontSize:"35px",fill:"#e1dfed",fontWeight:"bold"},i=new PIXI.Graphics;this.addChild(i),this.bg=i;var n=new PIXI.Text("",e);this.content=n,this.addChild(n),n.y=825;var r=new PIXI.Text("vs",e);this.lText=r,r=new PIXI.Text("vs",e),this.rText=r},e.prototype.show=function(t){if(t.vs){var e=t.vs.split(" ");if(console.log("show",t,e),2==e.length){var a=e[0],o=e[1];if(this.lText.text=a,this.rText.text=o,this.lText.width>this.rText.width)for(;this.lText.width>this.rText.width;)this.rText.text=" "+this.rText.text+" ";if(this.lText.width<this.rText.width)for(;this.lText.width<this.rText.width;)this.lText.text=" "+this.lText.text+" ";this.content.text=this.lText.text+" vs "+this.rText.text,this.content.x=960-.5*this.content.width;var s=this.content.x,l=this.content.y,h=this.content.width,c=this.content.height,d=this.bg;this.content;d.clear(),d.beginFill(16777215,.38).drawRect(s-15,l-15,h+30,c+30).endFill().beginFill(0,1).drawRect(s-10,l-10,h+20,c+20).endFill(),i.i(r.k)(d,s-10,l-10,h+20,c+20,4277861,1712190),d.beginFill(16777215,1).drawRect(s-10,l-10,h+20,5).moveTo(945,l-10+5).lineTo(975,l-10+5).lineTo(970,l-5+5).lineTo(950,l-5+5)}}this.alpha=0,this.p.addChild(this),n.a.to(this,300,{alpha:1})},e.prototype.hide=function(){var t=this;this.parent&&n.a.to(this,300,{alpha:0}).call(function(e){t.parent.removeChild(t)})},e}(PIXI.Container);s.class="VsTitle"},function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i(5),r=i(1),a=i(23),o=i(0),s=i(6),l=i(20),h=i(71),c=i(12),d={light:{bg:"/img/panel/score/m3/bg2.png",fontColor:"#fff",score:"/img/panel/score/m2/score.png",foul:"/img/panel/score2017/foul.png",foulHint:"/img/panel/score2017/foulHintLight.png",section1:"/img/panel/score2017/section1Light.png",section2:"/img/panel/score2017/section2Light.png",section3:"/img/panel/score2017/section3Light.png"},dark:{bg:"/img/panel/score/m3/bg2.png",fontColor:"#1b5e80",score:"/img/panel/score/m2/score.png",foul:"/img/panel/score2017/foul.png",foulHint:"/img/panel/score2017/foulHintDark.png",section1:"/img/panel/score2017/section1Dark.png",section2:"/img/panel/score2017/section2Dark.png",section3:"/img/panel/score2017/section3Dark.png"}},p=function(){function t(t,e){void 0===e&&(e=!1);var n=this;this._tex={},this._texFt={},this.winSectionArr=[7,8],this.loseSectionArr=[5,6,9,10,12],this._NAME_WIDTH=250,this.stage=t,this.skin=e?d.dark:d.light;var s=i.i(r.c)({url:this.skin.bg});t.addChild(s),this.ctn=s;var l=new PIXI.Container;s.addChild(l),l.y=o.a.STAGE_HEIGHT-300,s.scale.x=s.scale.y=.87,s.x=122,s.y=146,this.gameSection=new PIXI.Sprite,this.gameSection.x=926,this.gameSection.y=174,l.addChild(this.gameSection),i.i(r.a)(this.skin.score,function(t){var e=i.i(r.b)(t),a={text:"0",animations:{7:0,8:1,9:2,0:3,1:4,2:5,3:6,4:7,5:8,6:9},texture:e,frames:[[0,0,54,80],[55,0,54,80],[0,81,54,80],[55,81,54,80],[110,0,54,80],[110,81,54,80],[165,0,54,80],[165,81,54,80],[0,162,54,80],[55,162,54,80]]},o=new r.h(a);n.leftScoreText=o,o.x=808,o.y=90,o.align="center",l.addChild(o);var s=new r.h(a);n.rightScoreText=s,s.x=o.x+232,s.y=o.y,s.align="center",o.scale.x=o.scale.y=1.3,s.scale.x=s.scale.y=1.3,l.addChild(s)});var c=new h.a;c.x=780,c.y=200,c.setFoul(0),l.addChild(c),this.lFoulText=c;var p=new h.a;p.x=1045,p.y=c.y,p.setFoul(0),l.addChild(p),this.rFoulText=p;var f={fontFamily:o.c.MicrosoftYahei,fontSize:"30px",fill:"#fff",fontWeight:"bold"},u=new a.a("",f);l.addChild(u),u.x=919,u.y=210,u.textInSec=0,this.timer=u;var y=new PIXI.Text("",f);y.x=u.x,y.y=u.y,y.visible=!1,l.addChild(y),this.winScoreText=y;var x={fontFamily:o.c.MicrosoftYahei,fontSize:"24px",fill:"#fff",fontWeight:"bold"},g=new PIXI.Text("",x);this.gameIdx=g,g.x=908,g.y=68,l.addChild(g);var m={fontFamily:o.c.MicrosoftYahei,fontSize:"30px",fill:this.skin.fontColor,fontWeight:"bold"},v=new PIXI.Text("",m);v.y=82,this.lPlayerName=v,l.addChild(v);var w={fontFamily:o.c.MicrosoftYahei,fontSize:"28px",fill:this.skin.fontColor,stroke:"#000",strokeThickness:2,fontWeight:"bold"},I=new PIXI.Text("",w);I.y=142,this.lPlayerHeight=I,l.addChild(I);var P=new PIXI.Text("",w);P.y=I.y,this.lPlayerWeight=P,l.addChild(P);var T=new PIXI.Text("",m);T.y=v.y,T.x=1318,this.rPlayerName=T,l.addChild(T);var b=new PIXI.Text("",w);b.x=T.x-10,b.y=I.y,this.rPlayerHeight=b,l.addChild(b);var _=new PIXI.Text("",w);_.x=T.x-10,_.y=I.y,this.rPlayerWeight=_,l.addChild(_);var C={fontFamily:o.c.MicrosoftYahei,fontSize:"25px",fill:"#ddd",fontWeight:"bold"},S=new PIXI.Text("",C);S.y=200,S.text="",S.x=595-S.width,this.lPlayerHupuID=S,l.addChild(S);var k=new PIXI.Text("",C);k.y=S.y,k.x=1320,this.rPlayerHupuID=k,l.addChild(k);var A=new PIXI.Sprite;A.x=595,A.y=76,this.lAvatar=A,l.addChild(this.lAvatar);var N=i.i(r.c)({url:"/img/panel/score/m2/avtMask.png"});N.x=A.x+2,N.y=76,A.mask=N,l.addChild(N);var X=new PIXI.Sprite;X.x=1138,X.y=N.y,this.rAvatar=X,l.addChild(this.rAvatar);var F=i.i(r.c)({url:"/img/panel/score/m2/avtMask.png"});F.x=1138,F.y=X.y,X.mask=F,l.addChild(F);var M=new PIXI.Graphics;this._drawRankingColor(M,14540253),M.x=F.x+45,M.y=N.y+120;var R=new PIXI.Graphics;this._drawRankingColor(R,14540253),R.x=N.x+45,R.y=N.y+120,this.lRankingColor=R,this.rRankingColor=M;var O={fontFamily:o.c.MicrosoftYahei,fontSize:"35px",fill:"#fff"},L=new PIXI.Text("",O);L.y=R.y+5,l.addChild(L),this.lRankingText=L;var W=new PIXI.Text("",O);W.y=L.y,l.addChild(W),this.rRankingText=W}return t.prototype._drawRankingColor=function(t,e){t.beginFill(e).moveTo(25,0).lineTo(75,0).lineTo(100,50).lineTo(0,50)},t.prototype.set35ScoreLight=function(t){this.winScoreText.text=t+"球胜"},t.prototype.setGameIdx=function(t,e,n){var r=i.i(s.c)(t,2);if(n&&n.gameTitle)this.gameIdx.text=n.gameTitle;else if(console.log("isMaster",e),61==t)this.gameIdx.text="败者组决赛";else if(60==t)this.gameIdx.text="胜者组决赛";else if(62==t)this.gameIdx.text="决赛";else{var a=c.b[t];10==a?this.gameIdx.text="分组赛"+r:11==a?this.gameIdx.text="胜者组"+r:12==a&&(this.gameIdx.text="败者组"+r)}this.gameIdx.x=960-.5*this.gameIdx.width},t.prototype._showWinScore=function(){var t=this;this.winScoreText.visible=!0,this.timer.visible=!1,i.i(l.a)({target:this.winScoreText,time:100,loop:20,callback:function(){t.winScoreText.visible=!1,t.timer.visible=!0}})},t.prototype.setLeftScore=function(t){this.leftScoreText.text=t+"",this._showWinScore()},t.prototype.setScoreFoul=function(t){"leftScore"in t&&this.setLeftScore(t.leftScore),"rightScore"in t&&this.setRightScore(t.rightScore),"leftFoul"in t&&this.setLeftFoul(t.leftFoul),"rightFoul"in t&&this.setRightFoul(t.rightFoul)},t.prototype.setRightScore=function(t){this.rightScoreText.text=t+"",this._showWinScore()},t.prototype._setFoulText=function(t,e){var i=e+"";t.text=i},t.prototype.setLeftFoul=function(t){this.lFoulText.setFoul(t)},t.prototype.setRightFoul=function(t){this.rFoulText.setFoul(t)},t.prototype.resetTimer=function(){this.timer.resetTimer()},t.prototype.setTimer=function(t){this.timer.setTimeBySec(t)},t.prototype.toggleTimer=function(t){this.timer.toggleTimer(t)},t.prototype.resetScore=function(){this.setLeftScore(0),this.setRightScore(0),this.setLeftFoul(0),this.setRightFoul(0)},t.prototype._fixFtName=function(t,e){"GREENLIGHT"==e.toUpperCase()?(e="GREENLIGHT",t.style.fontSize="13px"):t.style.fontSize="22px",t.text=e,t.y=280-.5*t.height},t.prototype.cutName=function(t,e){t.width>e&&(t.text=t.text.substr(0,t.text.length-1),this.cutName(t,e))},t.prototype.setLeftPlayerInfo=function(t,e,i,n,r,a,o,s){this._setLeftPlayer({nickName:s,name:t,avatar:e,height:n,weight:i,rankingData:o})},t.prototype._setLeftPlayer=function(t){var e=this;console.log("left player",t),this.lPlayerHupuID.text=t.nickName,this.lPlayerHupuID.x=595-this.lPlayerHupuID.width,this.cutName(this.lPlayerHupuID,this._NAME_WIDTH),this.lPlayerName.text=t.name,this.cutName(this.lPlayerName,this._NAME_WIDTH),this.lPlayerName.x=604-this.lPlayerName.width,n.a.loadTex(t.avatar,function(t){var i=e.lAvatar;i.texture=t;var n=190/t.width;i.x=i.mask.x,i.y=i.mask.y,i.scale.x=i.scale.y=n}),this.lPlayerHeight.text=t.height,this.lPlayerWeight.text=t.weight,this.lPlayerHeight.x=390-this.lPlayerHeight.width,this.lPlayerWeight.x=535-this.lPlayerWeight.width,console.log("lPlayer ranking data",t.rankingData),this._drawRankingColor(this.lRankingColor,t.rankingData.color),this.lRankingText.text=t.rankingData.text,this.lRankingText.x=693-.5*this.lRankingText.width},t.prototype._loadFrame=function(t,e){},t.prototype.setRightPlayerInfo=function(t,e,i,n,r,a,o,s){this._setRightPlayerInfo({nickName:s,name:t,avatar:e,height:n,weight:i,rankingData:o})},t.prototype._setRightPlayerInfo=function(t){var e=this;this.rPlayerHupuID.text=t.nickName,this.cutName(this.rPlayerHupuID,this._NAME_WIDTH),this.rPlayerName.text=t.name,this.cutName(this.rPlayerName,this._NAME_WIDTH),n.a.loadTex(t.avatar,function(t){var i=e.rAvatar;i.texture=t;var n=190/t.width;i.x=i.mask.x,i.y=i.mask.y,i.scale.x=i.scale.y=n}),this.rPlayerHeight.text=t.height,this.rPlayerWeight.text=t.weight,this.rPlayerHeight.x=1420-this.rPlayerHeight.width,this.rPlayerWeight.x=1558-this.rPlayerWeight.width,this._drawRankingColor(this.rRankingColor,t.rankingData.color),this.rRankingText.text=t.rankingData.text,this.rRankingText.x=1235-.5*this.rRankingText.width},t.prototype.getPlayerInfo=function(t){var e={};return t?(e.name=this.lPlayerName.text,e.info=this.lPlayerHeight.text+" CM "+this.lPlayerWeight.text+" KG",e.ftId=this._lFtId):(e.name=this.rPlayerName.text,e.info=this.rPlayerHeight.text+" CM "+this.rPlayerWeight.text+" KG",e.ftId=this._rFtId),e},t.prototype.setExPlayerInfo=function(t){},t.prototype.show=function(){this.ctn.visible=!0},t.prototype.hide=function(){this.ctn.visible=!1},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i(19),r=i(3),a=i(5),o=i(15),s=i(1),l=i(23),h=i(0),c=i(6),d=i(20),p=i(71),f=i(12),u=function(){function t(t,e){void 0===e&&(e=!1);var n=this;this._tex={},this._texFt={},this._NAME_WIDTH=280,this.tmpRewardData=null;var a=i.i(s.c)({url:"/img/panel/score/m5/bg.png"});t.addChild(a),this.ctn=a;var o=new PIXI.Container;a.addChild(o),o.y=h.a.STAGE_HEIGHT-300,this.gameSection=new PIXI.Sprite,this.gameSection.x=926,this.gameSection.y=174,o.addChild(this.gameSection),i.i(s.a)("/img/panel/score/m2/score.png",function(t){var e=i.i(s.b)(t),r={text:"0",animations:{7:0,8:1,9:2,0:3,1:4,2:5,3:6,4:7,5:8,6:9},texture:e,frames:[[0,0,54,80],[55,0,54,80],[0,81,54,80],[55,81,54,80],[110,0,54,80],[110,81,54,80],[165,0,54,80],[165,81,54,80],[0,162,54,80],[55,162,54,80]]},a=new s.h(r);n.leftScoreText=a,a.x=822,a.y=140,a.align="center",o.addChild(a);var l=new s.h(r);n.rightScoreText=l,l.x=a.x+224,l.y=a.y,l.align="center",o.addChild(l)});var c=new p.a;c.x=850,c.y=225,o.addChild(c),this.lFoulText=c;var d=new p.a;d.x=967,d.y=c.y,o.addChild(d),this.rFoulText=d;var f={fontFamily:h.c.DigiLED,fontSize:"38px",fill:"#ffcb3a",dropShadow:!0,dropShadowAngle:90,fontWeight:"normal"},u=new l.a("",f);o.addChild(u),u.x=919,u.y=193,this.timer=u,r.a.delayedCall(3e3,function(t){u.textInSec=0,d.setFoul(0),c.setFoul(0)});var y={fontFamily:h.c.MicrosoftYahei,fontSize:"30px",fill:"#fff",fontWeight:"normal"},x=new PIXI.Text("",y);x.x=u.x,x.y=u.y,x.visible=!1,o.addChild(x),this.winScoreText=x;var g={fontFamily:h.c.MicrosoftYahei,fontSize:"24px",fill:"#a0adb6",fontWeight:"bold"},m=new PIXI.Text("",g);this.gameIdx=m,m.x=908,m.y=105,o.addChild(m);var v={fontFamily:h.c.MicrosoftYahei,fontSize:"34px",fill:"#fff",fontWeight:"bold",stroke:"#000",strokeThickness:2,dropShadow:!0,dropShadowAngle:Math.PI/2,dropShadowColor:875666,dropShadowDistance:5},w=new PIXI.Text("",v);w.y=136,this.lPlayerName=w,o.addChild(w),v.dropShadowColor=4862264;var I=new PIXI.Text("",v);I.y=w.y,I.x=1326,this.rPlayerName=I,o.addChild(I);var P={fontFamily:h.c.Impact,fontSize:"28px",fill:"#ddd",dropShadow:!0,dropShadowAngle:Math.PI/2,dropShadowColor:2835797,dropShadowDistance:5},T=new PIXI.Text("",P);T.x=420,T.y=202,this.lPlayerHeight=T,o.addChild(T);var b=new PIXI.Text("",P);b.y=T.y,this.lPlayerWeight=b,o.addChild(b),P.dropShadowColor=3485746;var _=new PIXI.Text("",P);_.x=1235,_.y=T.y,this.rPlayerHeight=_,o.addChild(_);var C=new PIXI.Text("",P);C.x=I.x-10,C.y=T.y,this.rPlayerWeight=C,o.addChild(C);var S=i.i(s.c)({url:"/img/panel/score/m4/avtMask.png"});o.addChild(S);var k=new PIXI.Sprite;this.lAvatar=k,o.addChild(this.lAvatar);var A=i.i(s.c)({url:"/img/panel/score/m4/avtMaskR.png"});o.addChild(A);var N=new PIXI.Sprite;this.rAvatar=N,o.addChild(this.rAvatar),k.mask=S,N.mask=A,S.x=652,S.y=122,k.x=S.x-2,k.y=76,N.x=1100,N.y=S.y,A.x=1118,A.y=N.y;var X={fontFamily:h.c.Impact,fontSize:"30px",fill:"#fff",dropShadow:!0,dropShadowAngle:Math.PI/2,dropShadowColor:2835797,dropShadowDistance:3},F=new PIXI.Text("",X);F.y=144,o.addChild(F),this.lRankingText=F,X.dropShadowColor=3485746;var M=new PIXI.Text("",X);M.y=F.y,o.addChild(M),this.rRankingText=M;var R={fontFamily:h.c.MicrosoftYahei,fontSize:"28px",fill:"#fff"},O=i.i(s.c)({url:"/img/panel/score/m4/rewardTex.png"});o.addChild(O);var L=i.i(s.c)({url:"/img/panel/score/m4/rewardTex.png"});o.addChild(L);var W=new PIXI.Text("",R);W.x=695,W.y=238,this.lRewardText=W,o.addChild(W);var D=new PIXI.Text("",R);this.rRewardText=D,D.x=1227-D.width,D.x=1120-D.width,D.y=W.y,o.addChild(D),O.x=W.x,O.y=W.y+5,O.mask=W,L.x=D.x,L.y=D.y+5,L.mask=D;var G={fontFamily:h.c.MicrosoftYahei,fontSize:"25px",fill:"#ccc"},H=new PIXI.Text("",G);this.lPlayerHupuID=H,H.x=W.x,H.y=W.y,o.addChild(H);var B=new PIXI.Text("",G);this.rPlayerHupuID=B,B.x=D.x,B.y=D.y,o.addChild(B)}return t.prototype.set35ScoreLight=function(t){this.winScoreText.text=t+"球胜"},t.prototype.setGameIdx=function(t,e,n){var r=i.i(c.c)(t,2);if(n&&n.gameTitle)this.gameIdx.text=n.gameTitle;else if(console.log("isMaster",e),61==t)this.gameIdx.text="败者组决赛";else if(60==t)this.gameIdx.text="胜者组决赛";else if(62==t)this.gameIdx.text="决赛";else{var a=f.b[t];10==a?this.gameIdx.text="分组赛"+r:11==a?this.gameIdx.text="胜者组"+r:12==a&&(this.gameIdx.text="败者组"+r)}this.gameIdx.x=960-.5*this.gameIdx.width},t.prototype._showWinScore=function(){var t=this;this.winScoreText.visible=!0,this.timer.visible=!1,i.i(d.a)({target:this.winScoreText,time:100,loop:20,callback:function(){t.winScoreText.visible=!1,t.timer.visible=!0}})},t.prototype.setLeftScore=function(t){this.leftScoreText.text=t+"",this._showWinScore()},t.prototype.setScoreFoul=function(t){"leftScore"in t&&(this.setLeftScore(t.leftScore),this.showMoney()),"rightScore"in t&&(this.setRightScore(t.rightScore),this.showMoney),"leftFoul"in t&&this.setLeftFoul(t.leftFoul),"rightFoul"in t&&this.setRightFoul(t.rightFoul)},t.prototype.showMoney=function(){var t=this;this.setExPlayerInfo(this.tmpRewardData),i.i(d.a)({target:this.lRewardText,time:150,loop:5,callback:function(t){}}),i.i(d.a)({target:this.rRewardText,time:150,loop:5,callback:function(t){}}),r.a.delayedCall(4e3,function(e){t.lPlayerHupuID.visible=!0,t.rPlayerHupuID.visible=!0,t.lRewardText.text="",t.rRewardText.text=""}),this.lPlayerHupuID.visible=!1,this.rPlayerHupuID.visible=!1},t.prototype.setRightScore=function(t){this.rightScoreText.text=t+"",this._showWinScore()},t.prototype._setFoulText=function(t,e){var i=e+"";t.text=i},t.prototype.setLeftFoul=function(t){this.lFoulText.setFoul(t)},t.prototype.setRightFoul=function(t){this.rFoulText.setFoul(t)},t.prototype.resetTimer=function(){this.timer.resetTimer()},t.prototype.setTimer=function(t){this.timer.setTimeBySec(t)},t.prototype.toggleTimer=function(t){this.timer.toggleTimer(t)},t.prototype.resetScore=function(){this.setLeftScore(0),this.setRightScore(0),this.setLeftFoul(0),this.setRightFoul(0)},t.prototype.cutName=function(t,e){t.width>e&&(t.text=t.text.substr(0,t.text.length-1),this.cutName(t,e))},t.prototype.setLeftPlayerInfo=function(t,e,r,l,h,c,d,p){var f=this;void 0===p&&(p=""),this._lFtId=h,this._loadFrame(c,this.lFrame),this.lPlayerName.text=i.i(o.a)(t),this.cutName(this.lPlayerName,this._NAME_WIDTH),this.lPlayerName.x=595-this.lPlayerName.width,a.a.loadTex(e,function(t){var e=f.lAvatar;e.texture=t;var i=153/t.width;e.x=e.mask.x,e.scale.x=e.scale.y=i,e.y=e.mask.y-.5*(e.height-e.mask.height)}),this.lPlayerHeight.text=l+" cm   |    "+r+" kg",i.i(s.i)(this.lPlayerHeight,545),p&&(this.lRewardText.text="",this.lPlayerHupuID.visible=!0,this.lPlayerHupuID.text=i.i(o.a)(p),i.i(n.a)(this.lPlayerHupuID,173,25)),d&&(console.log("lPlayer ranking data",d),d.text>0?this.lRankingText.text=d.text:this.lRankingText.text="",this.lRankingText.x=632-.5*this.lRankingText.width)},t.prototype._loadFrame=function(t,e){},t.prototype.setRightPlayerInfo=function(t,e,r,l,h,c,d,p){var f=this;void 0===p&&(p=""),this._rFtId=h,this._loadFrame(c,this.rFrame),this.rPlayerName.text=i.i(o.a)(t),this.cutName(this.rPlayerName,this._NAME_WIDTH),a.a.loadTex(e,function(t){var e=f.rAvatar;e.texture=t;var i=153/t.width;e.x=e.mask.x,e.scale.x=e.scale.y=i,e.y=e.mask.y-.5*(e.height-e.mask.height)}),this.rPlayerHeight.text=l+" cm   |    "+r+" kg",i.i(s.i)(this.rPlayerHeight,1370),p&&(this.rRewardText.text="",this.rPlayerHupuID.visible=!0,this.rPlayerHupuID.text=i.i(o.a)(p),i.i(n.a)(this.rPlayerHupuID,173,25),this.rPlayerHupuID.x=1225-this.rPlayerHupuID.width),d&&(d.text>0?this.rRankingText.text=d.text:this.rRankingText.text="",this.rRankingText.x=1293-.5*this.rRankingText.width)},t.prototype.setExPlayerInfo=function(t){this.tmpRewardData=t;var e="";e=0==t.lReward?"￥000.00":"￥"+t.lReward/1e3+",000";var i="";i=0==t.rReward?"￥000.00":"￥"+t.rReward/1e3+",000",this.lRewardText.text=e,this.rRewardText.text=i,null!=t.lReward||null!=t.rReward||(this.lRewardText.text="",this.rRewardText.text="")},t.prototype.getPlayerInfo=function(t){var e={};return t?(e.name=this.lPlayerName.text,e.info=this.lPlayerHeight.text+" CM "+this.lPlayerWeight.text+" KG",e.ftId=this._lFtId):(e.name=this.rPlayerName.text,e.info=this.rPlayerHeight.text+" CM "+this.rPlayerWeight.text+" KG",e.ftId=this._rFtId),e},t.prototype.show=function(){this.ctn.visible=!0},t.prototype.hide=function(){this.ctn.visible=!1},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(5),r=i(1),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function e(e){var a=t.call(this)||this,o=new PIXI.Container;e.addChild(o),a.ctn=o;var s=i.i(r.c)({url:"/img/panel/statistics/bg.jpg"});return o.addChild(s),n.a.loadTex("/img/panel/statistics/scoreNum.png",function(t){var e={text:"0",animations:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},texture:t,frames:[[0,0,315,435],[316,0,315,435],[0,436,315,435],[316,436,315,435],[632,0,315,435],[632,436,315,435],[948,0,315,435],[948,436,315,435],[0,872,315,435],[316,872,315,435]]},n=new r.h(e);n.x=260,n.y=210,a.leftScoreText=n,o.addChild(n);var s=new r.h(e);s.x=1380,s.y=n.y,a.rightScoreText=s,o.addChild(s);var l=new r.h(e);l.x=730,l.y=170,a.leftFoulText=l,o.addChild(l);var h=new r.h(e);h.x=1025,h.y=l.y,a.rightFoulText=h,o.addChild(h),i.i(r.d)(l,.6),i.i(r.d)(h,.6)}),a}return a(e,t),e.prototype.setLeftScore=function(t){this.leftScoreText.text=""+t},e.prototype.setRightScore=function(t){this.rightScoreText.text=""+t},e.prototype.setLeftFoul=function(t){t<0||(this.leftFoulText.text=t>9?"x":""+t)},e.prototype.setRightFoul=function(t){t<0||(this.rightFoulText.text=t>9?"x":""+t)},e.prototype.reset=function(){this.setLeftFoul(0),this.setRightFoul(0),this.setLeftScore(0),this.setRightScore(0)},e}(PIXI.Container)},,function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(e,i){var n=t.call(this)||this,r=new PIXI.BaseTexture(e),a=function(t,e,i,n){return new PIXI.Sprite(new PIXI.Texture(r,new PIXI.Rectangle(t,e,i,n)))},o=a(0,0,i.x,i.y);n.addChild(o),n.lt=o,n.t=a(i.x,0,i.width,i.y),n.t.x=i.x,n.addChild(n.t);var s=a(i.x+i.width,0,r.width-i.x-i.width,i.y);return s.x=i.x+i.width,n.addChild(s),n.rt=s,n.r=a(i.x+i.width,i.y,r.width-i.x-i.width,i.height),n.r.x=i.x+i.width,n.r.y=i.y,n.addChild(n.r),n.rb=a(i.x+i.width,i.y+i.height,r.width-i.x-i.width,r.height-i.y-i.height),n.rb.x=i.x+i.width,n.rb.y=i.y+i.height,n.addChild(n.rb),n.b=a(i.x,i.y+i.height,i.width,r.height-i.y-i.height),n.b.x=i.x,n.b.y=i.y+i.height,n.addChild(n.b),n.lb=a(0,i.y+i.height,i.x,r.height-i.y-i.height),n.lb.y=i.y+i.height,n.addChild(n.lb),n.l=a(0,i.y,i.x,i.height),n.l.y=i.y,n.addChild(n.l),n}return n(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._w},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._h},enumerable:!0,configurable:!0}),e.prototype.resize=function(t,e){this._w=t,this._h=e;var i=t-this.lt.width-this.rt.width;this.t.width=i,this.b.width=i,this.rt.x=this.lt.width+i,this.r.x=this.lt.width+i,this.rb.x=this.lt.width+i;var n=e-this.lt.height-this.lb.height;this.l.height=n,this.r.height=n,this.lb.y=this.lt.height+n,this.b.y=this.lt.height+n,this.rb.y=this.lt.height+n},e}(PIXI.Container)}]);
//# sourceMappingURL=panel.js.map?995eb7711618a3c6ae62