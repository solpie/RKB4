!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=151)}({1:function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"a",function(){return o}),i.d(e,"d",function(){return r}),i.d(e,"b",function(){return a});var n={MicrosoftYahei:"Microsoft Yahei"},o={STAGE_WIDTH:1920,STAGE_HEIGHT:1080},r={PAUSE:0,RUNNING:1,RESET:-1},a=["/img/panel/score/m2/victory.png","/img/panel/score/m2/victoryLight.png","/img/panel/score/m2/groupBg.png","/img/panel/score/m2/gamePlayerBg.png","/img/panel/score/m2/gamePlayerStrip.png","/img/panel/score/m2/gamePlayerTop.png"]},14:function(t,e,i){"use strict";function n(t,e){l(c("http://api.liangle.com/api/passerbyking/game/players/"+t),e)}function o(t){l(c("http://api.liangle.com/api/passerbyking/game/list"),t)}function r(t,e){l(c("http://api.liangle.com/api/passerbyking/game/info/"+t),e)}i.d(e,"d",function(){return s}),e.a=n,e.b=o,e.c=r;var a=i(5),s=function(t){t("tcp.lb.liangle.com:3081")},c=function(t){return i.i(a.c)(t,"json")},l=function(t,e){i.i(a.b)(t,e)}},149:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(3),o=i(15),r=i(1),a=i(57),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(e){void 0===e&&(e=!1);var o=t.call(this)||this;o.nameWidth=200;var s={fill:"#000",fontWeight:"bold",fontFamily:r.c.MicrosoftYahei,fontSize:"40px"},c=new PIXI.Text("",s);c.x=105,o.nameText=c,o.addChild(c);var l=new PIXI.Text("",s);l.x=60,o.pokeText=l;var h=new PIXI.Sprite;o.pokeSp=h,o.addChild(h),o.addChild(l);var p=new PIXI.Text("",s);p.x=200*a.b,o.scoreText=p;var u=i.i(n.b)({url:"/img/panel/bracket/final/winHint.png"});return e?(o.nameWidth=190,u.x=150*a.b):(o.nameWidth=265,u.x=200*a.b),u.scale.x=u.scale.y=1/a.b,o.addChild(u),o.winSp=u,o}return s(e,t),e.prototype.fitWidth=function(){this.nameText.width>this.nameWidth&&(this.nameText.text=this.nameText.text.substring(0,this.nameText.text.length-1),this.fitWidth())},e.prototype.setInfo=function(t,e,i){var n=this;if(this.nameText.text=t,this.scoreText.text=e,i){var r=i;console.log(t,"pNum",i,"poker",r),this.fitWidth(),this.pokeText.text=r.charAt(1),this.pokeText.style.fontSize="40px","1"==this.pokeText.text&&(r.length<3?this.pokeText.text="A":(this.pokeText.style.fontSize="35px",this.pokeText.text="10")),this.pokeText.x=85-this.pokeText.width;"L"==r.charAt(0)?(this.pokeText.style.fill="#000",o.a.loadTex("/img/panel/bracket/final/pokerBlack.png",function(t){n.pokeSp.texture=t,n.pokeSp.scale.x=n.pokeSp.scale.y=.7},!1)):(o.a.loadTex("/img/panel/bracket/final/pokerRed.png",function(t){n.pokeSp.texture=t,n.pokeSp.scale.x=n.pokeSp.scale.y=.7},!1),this.pokeText.style.fill="#f00")}},e.prototype.setWin=function(t){var e=t>.5;this.winSp.visible=e,this.nameText.alpha=t,this.scoreText.alpha=t},e}(PIXI.Container)},15:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(3),o=function(){function t(){this._texMap={}}return t.prototype.loadTex=function(t,e,o){var r=this;void 0===o&&(o=!0),"/"==t.charAt(0)&&(o=!1),this._texMap[t]?e(this._texMap[t]):i.i(n.c)(t,function(o){r._texMap[t]=i.i(n.d)(o),e(r._texMap[t])},o)},t.prototype.loadTexArr=function(t,e,i){var n=this;void 0===i&&(i=!1);var o=function(){t.length?n.loadTex(t.pop(),function(t){o()},i):e()};o()},t}(),r=window.imgLoader=new o},150:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(6),o=i(58),r=i(16),a=i(22),s=i(1),c=i(3),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(e){var r=t.call(this)||this;e.addChild(r);var a=i.i(c.b)({url:"/img/panel/bracket/tile2.png",isTiling:!0,width:s.a.STAGE_WIDTH,height:s.a.STAGE_HEIGHT});a.alpha=.8,r.addChild(a);var l=new PIXI.Container;r.addChild(l);var h=i.i(c.b)({url:"/img/panel/bracket/bg1.png"});r.addChild(h),r.comingTitle=i.i(c.b)({url:"/img/panel/bracket/coming.png"}),r.comingTitle.visible=!1,r.addChild(r.comingTitle);for(var p in o.a){var u=new PIXI.Container;r.addChild(u);var f=o.a[p];console.log(f),u.x=f.x,u.y=f.y;var d=new PIXI.Sprite;d.x=f.x+170,d.y=f.y+50,d.scale.y=-1,l.addChild(d),f.hint1=d;var y=new PIXI.Sprite;y.x=d.x,y.y=f.y+49,l.addChild(y),f.hint2=y,u.addChild(f.scores[0]),u.addChild(f.scores[1]),u.addChild(f.labels[0]),u.addChild(f.labels[1])}return i.i(n.c)(["/img/panel/bracket/hint1.png","/img/panel/bracket/hint2.png"],function(t){var e=i.i(c.d)(t[0]);r.hint1Tex=e,r.hint2Tex=i.i(c.d)(t[1]),console.log("load tex",l.children);for(var n=0,o=l.children;n<o.length;n++){o[n].texture=e}}),r}return l(e,t),e.prototype.setWinHint=function(t,e){void 0===e&&(e=!1),t.texture=this.hint2Tex},e.prototype.hideComing=function(){this.comingTitle.visible=!1},e.prototype.showComingIdx=function(t){var e=this,n=o.a[t];this.comingTitle.visible=!1,r.a.delayedCall(610,function(){n&&(e.comingTitle.visible=!0,e.comingTitle.x=n.x-38,e.comingTitle.y=n.y-43,i.i(a.a)({target:e.comingTitle,time:600}))})},e}(PIXI.Container)},151:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(76),o=i(74),r=i(75),a=i(6),s=i(5),c=i(1),l=i(78),h=i(77);document.write("<canvas id='panel'></canvas>"),console.log("PIXI",window.PIXI),document.body.style.margin="0px",document.body.style.overflow="hidden";var p,u,f=function(){var t=new PIXI.autoDetectRenderer(c.a.STAGE_WIDTH,c.a.STAGE_HEIGHT,{antialias:!1,transparent:!0,resolution:1},!1);return document.body.insertBefore(t.view,document.getElementById("panel")),t.stage=new PIXI.Container,t.backgroundColor=0,t.renderStage=function(e){requestAnimationFrame(t.renderStage),TWEEN.update(e),t.render(t.stage)},t.renderStage(),t.stage},d=i.i(s.d)("panel"),y=i.i(s.d)("gameId"),g="1"==i.i(s.d)("m");if("bracket"==d)p=window.stage=f(),new r.a(p,y,g);else if("bracket20"==d)p=window.stage=f(),setTimeout(function(t){new o.a(p)},1500);else if("poker"==d)p=window.stage=f(),new n.a(p);else{p=window.stage=f();var x=new l.a(p);u=x.localWS,new h.a(p,u)}i.i(a.c)(c.b,function(t){})},152:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(15),o=i(3),r=i(59),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){var e=t.call(this)||this;e.pokerPlayer=[];var i=new PIXI.Sprite;e.addChild(i),e.bg=i;for(var n=0;n<12;n++){var o=new r.a;e.pokerPlayer.push(o),e.addChild(o)}return e.show8Player(),e}return a(e,t),e.prototype.show12Player=function(){var t=this;n.a.loadTex("/img/panel/bracket/final/bg2.png",function(e){t.bg.texture=e});for(var e=0;e<6;e++){var r=this.pokerPlayer[e],a=this.pokerPlayer[6+e];i.i(o.f)(r,.9),i.i(o.f)(a,.9),r.setPoker("L"+(4+e+1)),a.setPoker("R"+(4+e+1)),r.x=50+305*e,r.y=240,a.x=r.x,a.y=610}this.pokerPlayer[8].visible=!0,this.pokerPlayer[9].visible=!0,this.pokerPlayer[10].visible=!0,this.pokerPlayer[11].visible=!0},e.prototype.show8Player=function(){var t=this;n.a.loadTex("/img/panel/bracket/final/bg1.png",function(e){t.bg.texture=e});for(var e=0;e<4;e++){var r=this.pokerPlayer[e],a=this.pokerPlayer[4+e];i.i(o.f)(r,1),i.i(o.f)(a,1),r.setPoker("L"+(e+1)),a.setPoker("R"+(e+1)),r.x=140+442*e,r.y=240,a.x=r.x,a.y=610}this.pokerPlayer[8].visible=!1,this.pokerPlayer[9].visible=!1,this.pokerPlayer[10].visible=!1,this.pokerPlayer[11].visible=!1},e.prototype.resetAll=function(){for(var t=0,e=this.pokerPlayer;t<e.length;t++){e[t].reset()}},e.prototype.showPokerPlayer=function(t){for(var e=0,i=this.pokerPlayer;e<i.length;e++){var n=i[e];n.pokerStr==t.pokerStr&&(t.visible?(n.setInfo(t.playerData.data),n.playOnce()):n.reset())}},e}(PIXI.Container)},153:function(t,e,i){"use strict";function n(t,e,i){if(!(i<3)){var n=2*Math.PI/i;t.moveTo(e,0);for(var o=1;o<i;o++)t.lineTo(e*Math.cos(n*o),e*Math.sin(n*o))}}i.d(e,"a",function(){return l});var o=i(3),r=i(33),a=i(16),s=i(1),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.create=function(t){this.ctn=t;var e=i.i(o.b)({url:"/img/panel/score/m2/championBack.png"});e.y=s.a.STAGE_HEIGHT-306;var a=i.i(o.b)({url:"/img/panel/score/m2/championTop.png"});a.y=s.a.STAGE_HEIGHT-306-197,this.addChild(a),this.top=a,this.addChild(e);var c=i.i(o.b)({url:"/img/panel/score/m2/championInfo.png"});c.y=e.y,this.addChild(c),this.info=c;var l=i.i(o.b)({url:"/img/panel/score/m2/championTitle.png"});l.y=e.y+125,l.x=e.x+70,this.addChild(l),l.alpha=0,this.title=l;var h={fill:"#fff",fontWeight:"normal",fontFamily:s.c.MicrosoftYahei,fontSize:"38px"},p=new r.a(c);this.playerName=p.add({x:1205,y:72,style:h}),this.playerInfo=p.add({x:p.lastX,y:p.lastY+64,style:h}),this.playerLocation=p.add({x:p.lastX,y:p.lastY+57,style:h});var u=(new PIXI.Graphics).beginFill(16711680);n(u,121,6),u.x=960,u.y=161,c.addChild(u);var f=new PIXI.Sprite;c.addChild(f),f.x=u.x-121,f.y=u.y-121,f.mask=u,this.avt=f;var d=i.i(o.b)({url:"/img/panel/score/m2/victoryLight.png"});d.y=e.y-136,this.light=d,this.addChild(d)},e.prototype.show=function(t){var e=this;i.i(o.c)(t.avatar,function(n){var r=242/n.width;e.avt.texture=i.i(o.d)(n),e.avt.scale.x=e.avt.scale.y=r,e.onLoad(t)},!0)},e.prototype.onLoad=function(t){var e=this;this.info.x=-800,this.top.y=s.a.STAGE_HEIGHT-306-197,this.title.alpha=0,this.light.alpha=1,new a.a(this.top).delay(5e3).call(function(t){a.a.to(e.title,80,{alpha:1}),a.a.to(e.info,80,{x:0}),a.a.to(e.light,80,{alpha:0})}).to({y:1080},200).start(),a.a.to(this.info,100,{x:-200}),this.playerName.text=t.name,this.playerInfo.text=t.info,this.playerLocation.text=t.location,this.ctn.addChild(this)},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container);l.class="ChampionM2"},154:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(16),o=i(6),r=i(60),a=i(3),s=i(33),c=i(1),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.create=function(t){this.ctn=t,this.ctn.addChild(this);var e=new PIXI.Graphics;e.beginFill(0,.8).drawRect(0,0,c.a.STAGE_WIDTH,c.a.STAGE_HEIGHT),this.addChild(e);var n=i.i(a.b)({url:"/img/panel/score/m2/gamePlayerBg.png"});n.x=.5*(c.a.STAGE_WIDTH-1433),n.y=110,this.addChild(n),this.lFt=new PIXI.Sprite,this.lFt.x=0,this.lFt.y=86,n.addChild(this.lFt),this.rFt=new PIXI.Sprite,this.rFt.x=715,this.rFt.y=86,n.addChild(this.rFt);var o=i.i(a.b)({url:"/img/panel/score/m2/gamePlayerStrip.png"});o.blendMode=PIXI.BLEND_MODES.MULTIPLY,o.x=n.x,o.y=n.y+86,this.addChild(o);var r=i.i(a.b)({url:"/img/panel/score/m2/gamePlayerTop.png"});r.x=n.x,r.y=n.y,this.addChild(r);var l=new s.a(this),h={fill:"#000",fontWeight:"bold",fontFamily:c.c.MicrosoftYahei,fontSize:"35px"};this.lName=l.add({x:567,y:290,style:h}),this.rName=l.add({x:1348,y:this.lName.y,style:h,hAlign:"right"}),h.fontSize="28px",this.lInfo=l.add({x:this.lName.x,y:this.lName.y+64,style:h}),this.lLocation=l.add({x:this.lName.x,y:this.lName.y+120,style:h}),this.rInfo=l.add({x:this.rName.x,y:this.lInfo.y,style:h,hAlign:"right"}),this.rLocation=l.add({x:this.rName.x,y:this.lLocation.y,style:h,hAlign:"right"}),h.fill="#fff",h.fontSize="30px",this.lIntro=l.add({x:310,y:680,style:h}),this.rIntro=l.add({x:1632,y:this.lIntro.y,style:h,hAlign:"right"}),h.fontSize="50px",l.add({x:310,y:570,text:"参赛宣言",style:h}),l.add({x:this.rIntro.x,y:570,text:"参赛宣言",hAlign:"right",style:h}),this.lAvt=new PIXI.Sprite,this.lAvt.x=310,this.lAvt.y=290,this.addChild(this.lAvt),this.rAvt=new PIXI.Sprite,this.rAvt.x=1464,this.rAvt.y=this.lAvt.y,this.addChild(this.rAvt)},e.prototype._fixN=function(t){return t.search("微博")>0&&(t=t.replace("微博","\n微博")),t},e.prototype.show=function(t){var e=this,s=t.leftPlayer.data,c=t.rightPlayer.data;this.lName.text=s.name,this.rName.text=c.name,this.lInfo.text=s.height+" cm/ "+s.weight+" kg/ "+s.age+" 岁",this.rInfo.text=c.height+" cm/ "+c.weight+" kg/ "+c.age+" 岁",s.intro=i.i(o.e)(s.intro.replace("\n",""),32,96),c.intro=i.i(o.e)(c.intro.replace("\n",""),32,96),this.lIntro.text=s.intro,this.rIntro.text=c.intro,this.lLocation.text=i.i(o.e)(s.school,20,20)||"路人王",this.rLocation.text=i.i(o.e)(c.school,20,20)||"路人王",i.i(a.c)(s.avatar,function(t){e.lAvt.texture=i.i(a.d)(t);var n=164/t.height;e.lAvt.scale.x=e.lAvt.scale.y=n},!0),i.i(a.c)(c.avatar,function(t){e.rAvt.texture=i.i(a.d)(t);var n=164/t.height;e.rAvt.scale.x=e.rAvt.scale.y=n},!0),i.i(o.d)(i.i(r.a)(s.groupId),function(t){e.lFt.texture=i.i(a.d)(t)}),i.i(o.d)(i.i(r.a)(c.groupId),function(t){e.rFt.texture=i.i(a.d)(t)}),this.ctn.addChild(this),n.a.delayedCall(6e3,function(t){e.hide()})},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container);h.class="GamePlayerInfo"},155:function(t,e,i){"use strict";function n(t,e,i){if(!(i<3)){var n=2*Math.PI/i;t.moveTo(e,0);for(var o=1;o<i;o++)t.lineTo(e*Math.cos(n*o),e*Math.sin(n*o))}}i.d(e,"a",function(){return c});var o=i(3),r=i(60),a=i(1),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerTextArr=[],e.avatarArr=[],e.ftArr=[],e}return s(e,t),e.prototype.create=function(t){this.p=t;var e=this.groupText=new PIXI.Text;e.style.fill="#fff",e.style.fontFamily=a.c.MicrosoftYahei,e.style.fontSize="50px",e.x=345,e.y=170;var r=i.i(o.b)({url:"/img/panel/score/m2/groupBg.png"});this.addChild(r);for(var s=[50,150,790,935],c=0;c<4;c++){for(var l=0;l<4;l++){var h=new PIXI.Text;h.x=s[l],h.y=125+128*c,h.style.fontSize="35px",h.style.fill="#fff",h.style.fontFamily=a.c.MicrosoftYahei,h.style.fontWeight="bold",this.playerTextArr.push(h),r.addChild(h)}var p=new PIXI.Sprite;p.x=145,p.y=98+128*c,r.addChild(p),this.avatarArr.push(p);var u=new PIXI.Graphics;u.beginFill(16711680),u.drawCircle(51,51,51),u.x=p.x,u.y=p.y,p.mask=u,r.addChild(u);var f=new PIXI.Graphics;f.beginFill(12426079),f.x=650,f.y=p.y+50,n(f,52,6),f.rotation=30*PIXI.DEG_TO_RAD,r.addChild(f);var d=new PIXI.Graphics;d.beginFill(16777215),d.x=f.x,d.y=f.y,n(d,44,6),d.rotation=30*PIXI.DEG_TO_RAD,r.addChild(d);var y=new PIXI.Sprite;y.x=f.x-35,y.y=f.y-35,r.addChild(y),this.ftArr.push(y)}r.x=a.a.STAGE_WIDTH-1018,r.y=170},e.prototype.show=function(t){var e=t.group,n=t.playerArr;this.groupText.text=e.toLocaleUpperCase()+"组";for(var a=this,s=0;s<4;s++)!function(t){var s=n[t];a.playerTextArr[4*t].text=e.toLocaleUpperCase();var c=a.playerTextArr[4*t+1];c.text=s.name,c.x=400-.5*c.width,a.playerTextArr[4*t+2].text=s.win||"0",a.playerTextArr[4*t+3].text=s.dtScore||"0";var l=a.avatarArr[t];i.i(o.c)(s.avatar,function(t){l.texture=i.i(o.d)(t);var e=102/t.width;l.scale.x=l.scale.y=e},!0);var h=a.ftArr[t];i.i(o.c)(i.i(r.b)(s.groupId),function(t){h.texture=i.i(o.d)(t);var e=70/t.width;h.scale.x=h.scale.y=e},!1)}(s);this.p.addChild(this)},e.prototype.hide=function(){this.p.removeChild(this)},e}(PIXI.Container);c.class="GroupRankM2"},156:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(163),o=i(6),r=i(3),a=i(1),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.create=function(t){var e=this;t.addChild(this),this.bg=new PIXI.Graphics,this.bg.alpha=.8,this.addChild(this.bg),i.i(o.d)("/img/panel/score2017/noticeBg.png",function(t){e.imgWidth=250,e.imgHeight=130,e.frame=new n.a(t,{x:27,y:29,width:31,height:27}),e.addChildAt(e.frame,1),e.setText(e._content,e._title,e._isLeft,e._isBold)}),this.lLight=i.i(r.b)({url:"/img/panel/score2017/noticeLight.png"}),this.lLight.y=34,this.addChild(this.lLight),this.rLight=i.i(r.b)({url:"/img/panel/score2017/noticeLight.png"}),this.rLight.y=this.lLight.y,this.addChild(this.rLight);var s={fontFamily:a.c.MicrosoftYahei,fontSize:"35px",fill:"#fff",fontWeight:"bold"};this.line=i.i(r.b)({url:"/img/panel/score2017/noticeLine.png"}),this.line.y=48,this.line.x=9,this.addChild(this.line),this.content=new PIXI.Text("",s),this.content.y=60,this.addChild(this.content),this.title=new PIXI.Text("",s),this.title.style.fontSize="25px",this.title.y=12,this.addChild(this.title),this.y=85},e.prototype.show=function(t){this.setText(t.content,t.title,t.isLeft,t.isBold),this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.setText=function(t,e,i,n){e||(e="公告"),this._content=t,this._title=e,this._isLeft=i,this._isBold=n,this.content.style.fontWeight=n;var o=15;"bold"==n&&(o=18),this.content.style.lineHeight=Number((this.content.style.fontSize+"").replace("px",""))+o,this.content.text=t,this.title.text=e;var r=Math.max(this.content.width,this.title.width);r<this.imgWidth&&(r=this.imgWidth);var s=this.content.height;s<this.imgHeight&&(s=this.imgHeight),this.frame.resize(r+40,this.content.height+15+this.content.y),this.line.width=r+40-18,this.content.x=.5*(this.frame.width-this.content.width),this.title.x=.5*(this.frame.width-this.title.width),this.bg.clear();var c=this.frame.width,l=this.frame.height;this.bg.beginFill(0).moveTo(25,6).lineTo(c-8,6).lineTo(c-8,l-28).lineTo(c-25,l-6).lineTo(6,l-6).lineTo(6,25),c<260?(this.lLight.visible=!1,this.rLight.visible=!1):(this.lLight.visible=!0,this.rLight.visible=!0,this.lLight.x=this.title.x-75-8,this.rLight.x=this.title.x+this.title.width+8,this.rLight.x+this.rLight.width-this.lLight.x>c-25&&(this.lLight.visible=!1,this.rLight.visible=!1)),this.x=i?5:a.a.STAGE_WIDTH-c-5,this.y=.382*(a.a.STAGE_HEIGHT-l)},e}(PIXI.Container);c.class="NoticePanel"},157:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(3),o=i(33),r=i(16),a=i(1),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.create=function(t){this.ctn=t,this.ctn.addChild(this),this.addChild(i.i(n.a)(.2));var e=i.i(n.b)({url:"/img/panel/score/m2/victory.png"});this.addChild(e),e.y=365;var r=new PIXI.Sprite;this.avt=r,r.x=840,r.y=172,e.addChild(r);var s=new PIXI.Graphics;s.beginFill(16711680),s.drawCircle(115,115,115),s.x=r.x,s.y=r.y,r.mask=s,e.addChild(s);var c={fill:"#fff",fontWeight:"bold",fontFamily:a.c.MicrosoftYahei,fontSize:"83px"},l=new o.a(e);this.winLoseText=l.add({x:480,y:237,style:c}),c.fontSize="38px",c.fontWeight="normal",this.nameText=l.add({x:1205,y:205,style:c}),this.infoText=l.add({x:l.lastX,y:l.lastY+64,style:c}),this.locationText=l.add({x:l.lastX,y:l.lastY+57,style:c});var h=i.i(n.b)({url:"/img/panel/score/m2/victoryLight.png"});h.x=e.x,h.y=e.y,this.addChild(h)},e.prototype.show=function(t){var e=this;console.log("show Victory",t),this.winLoseText.text=t.rec.win+"胜"+t.rec.lose+"负";var o=t.winner;this.nameText.text=o.name,this.infoText.text=o.height+"cm / "+o.weight+"kg / "+o.age+"岁",this.locationText.text=o.school,console.log("show victory",t),i.i(n.c)(o.avatar,function(t){var o=230/t.width;e.avt.texture=i.i(n.d)(t),e.avt.scale.x=e.avt.scale.y=o,e.ctn.addChild(e),r.a.delayedCall(4e3,function(t){e.hide()})},!0)},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(PIXI.Container);c.class="Victory"},158:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(22),o=i(3),r=i(61),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setNum=function(e){t.prototype.setNum.call(this,e),e>=4?(this._hint||(this._hint=i.i(o.b)({url:"/img/panel/score2017/foulHint.png",x:-20,y:-22}),this.addChild(this._hint)),this._hint.visible=!0,i.i(n.a)({target:this._hint,time:100,loop:100})):this._hint&&(this._hint.visible=!1)},e}(r.b)},159:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(1),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(){var e=t.call(this)||this;e.hasHint=!0;var i={fontFamily:n.c.MicrosoftYahei,fontSize:"30px",fill:"#fff",fontWeight:"bold"},o=new PIXI.Text("",i);return e.addChild(o),e.label=o,e}return o(e,t),e.prototype.setFoul=function(t){var e=t+" ";this.label.text=e,this.label.x=.5*(109-this.label.width)},e}(PIXI.Container)},16:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(t){this.target=t,this.eventArr=[]}return t.prototype.to=function(t,e){return this.eventArr.push({event:"to",data:{vars:t,duration:e}}),this},t.prototype.delay=function(t){return this.eventArr.push({event:"delay",data:{duration:t}}),this},t.prototype.update=function(t){return this.updateFunc=t,this},t.prototype.start=function(){var t=this,e=function(){var i=t.eventArr.shift();if(i)if("to"==i.event){var n={};for(var o in i.data.vars)n[o]=t.target[o];new TWEEN.Tween(n).to(i.data.vars,i.data.duration).onUpdate(function(){for(var e in i.data.vars)t.target[e]=n[e];t.updateFunc&&t.updateFunc(t.target)}).onComplete(function(){e()}).start()}else"delay"==i.event?new TWEEN.Tween({_:0}).to({_:0},i.data.duration).onComplete(function(){e()}).start():"call"==i.event&&(i.data.callback(t),e());else t.target=null,t.eventArr=null,t.vars=null};return e(),this},t.prototype.call=function(t){return t&&this.eventArr.push({event:"call",data:{callback:t}}),this},t.to=function(e,i,n,o){return new t(e).to(n,i).call(o).start()},t.delayedCall=function(e,i){new t({_:0}).delay(e).call(i).start()},t}()},160:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i(22),o=i(158),r=i(164),a=i(61),s=i(1),c=i(6),l=i(3),h=i(159),p={light:{bg:"/img/panel/score/m2/bg2.png",fontColor:"#fff",score:"/img/panel/score/m2/score.png",foul:"/img/panel/score2017/foul.png",foulHint:"/img/panel/score2017/foulHintLight.png",section1:"/img/panel/score2017/section1Light.png",section2:"/img/panel/score2017/section2Light.png",section3:"/img/panel/score2017/section3Light.png"},dark:{bg:"/img/panel/score/m2/bg2.png",fontColor:"#1b5e80",score:"/img/panel/score/m2/score.png",foul:"/img/panel/score2017/foul.png",foulHint:"/img/panel/score2017/foulHintDark.png",section1:"/img/panel/score2017/section1Dark.png",section2:"/img/panel/score2017/section2Dark.png",section3:"/img/panel/score2017/section3Dark.png"}},u=function(){function t(t,e){void 0===e&&(e=!1);var n=this;this._tex={},this._texFt={},this._NAME_WIDTH=176,this.stage=t,this.skin=e?p.dark:p.light;var c=i.i(l.b)({url:this.skin.bg});t.addChild(c),this.ctn=c;var u=new PIXI.Container;c.addChild(u),u.y=s.a.STAGE_HEIGHT-300;var f=new PIXI.Container;f.x=780,f.y=163,u.addChild(f);var d=new PIXI.Sprite;d.x=-55,this.lFtImg=d,f.addChild(d);var y=new PIXI.Sprite;y.x=170,y.y=d.y,this.rFtImg=y,f.addChild(y);var g=i.i(l.b)({url:"/img/panel/score/m2/ftMask.png"});g.x=f.x,g.y=f.y,f.mask=g,u.addChild(g);var x=i.i(l.b)({url:"/img/panel/score/m2/ftStrip.png"});x.x=.5*(s.a.STAGE_WIDTH-356),x.y=163,x.blendMode=PIXI.BLEND_MODES.MULTIPLY,u.addChild(x);var v=i.i(l.b)({url:"/img/panel/score/m2/gameInfoBg.png"});v.x=.5*(s.a.STAGE_WIDTH-144),v.y=163,u.addChild(v),this.gameSection=new PIXI.Sprite,this.gameSection.x=926,this.gameSection.y=174,u.addChild(this.gameSection),i.i(l.c)(this.skin.score,function(t){var e=i.i(l.d)(t),o={text:"0",animations:{7:0,8:1,9:2,0:3,1:4,2:5,3:6,4:7,5:8,6:9},texture:e,frames:[[0,0,54,80],[55,0,54,80],[0,81,54,80],[55,81,54,80],[110,0,54,80],[110,81,54,80],[165,0,54,80],[165,81,54,80],[0,162,54,80],[55,162,54,80]]},r=new l.e(o);n.leftScoreText=r,r.x=825,r.y=188,r.align="center",u.addChild(r);var a=new l.e(o);n.rightScoreText=a,a.x=r.x+218,a.y=r.y,a.align="center",u.addChild(a)});var m=new o.a({dir:a.a.e,invert:29,img:this.skin.foul,count:4});m.x=771,m.y=262,this.leftFoul=m;var _=new o.a({dir:a.a.w,invert:29,img:this.skin.foul,count:4});_.x=1037,_.y=m.y,this.rightFoul=_;var w=(s.c.MicrosoftYahei,new h.a);w.x=568,w.y=248,w.setFoul(0),u.addChild(w),this.lFoulText=w;var b=new h.a;b.x=1364,b.y=w.y,b.setFoul(0),u.addChild(b),this.rFoulText=b;var I={fontFamily:s.c.MicrosoftYahei,fontSize:"30px",fill:"#fff",fontWeight:"bold"},P=new r.a("",I);u.addChild(P),P.x=919,P.y=248,P.textInSec=0,this.timer=P;var k=new PIXI.Text("",I);k.x=P.x,k.y=P.y,k.visible=!1,u.addChild(k),this.winScoreText=k;var T={fontFamily:s.c.MicrosoftYahei,fontSize:"18px",fill:"#fff",fontWeight:"bold"},C=new PIXI.Text("",T);this.gameIdx=C,C.x=915,C.y=168,u.addChild(C);var S={fontFamily:s.c.MicrosoftYahei,fontSize:"24px",fill:this.skin.fontColor,strokeThickness:2,fontWeight:"bold"},A=new PIXI.Text("",S);A.y=165,this.lPlayerName=A,u.addChild(A);var X={fontFamily:s.c.MicrosoftYahei,fontSize:"22px",fill:this.skin.fontColor,stroke:"#000",strokeThickness:2,fontWeight:"bold"},F=new PIXI.Text("",X);F.y=210,this.lPlayerHeight=F,u.addChild(F);var O=new PIXI.Text("",X);O.y=F.y,this.lPlayerWeight=O,u.addChild(O);var L=new PIXI.Text("",S);L.y=A.y,L.x=1284,this.rPlayerName=L,u.addChild(L);var N=new PIXI.Text("",X);N.x=L.x-10,N.y=F.y,this.rPlayerHeight=N,u.addChild(N);var M=new PIXI.Text("",X);M.x=L.x-10,M.y=F.y,this.rPlayerWeight=M,u.addChild(M);var W=i.i(l.b)({url:"/img/panel/score/m2/mask.png"});W.x=639,W.y=163,u.addChild(W);var G=i.i(l.b)({url:"/img/panel/score/m2/maskR.png"});G.x=1122,G.y=W.y,u.addChild(G);var H=new PIXI.Sprite;H.x=W.x,H.y=W.y,H.mask=W,this.lAvatar=H,u.addChild(this.lAvatar);var E=new PIXI.Sprite;E.x=G.x,E.y=G.y,E.mask=G,this.rAvatar=E,u.addChild(this.rAvatar);s.c.MicrosoftYahei}return t.prototype.set35ScoreLight=function(t){this.winScoreText.text=t+"球胜"},t.prototype.setGameIdx=function(t,e){console.log("isMaster",e),2==e?this.gameIdx.text="决赛"+i.i(c.f)(t,2)+"场":1==e?this.gameIdx.text="车轮战"+i.i(c.f)(t,2)+"场":3==e&&(this.gameIdx.text="总决赛"),this.gameIdx.x=962-.5*this.gameIdx.width},t.prototype._showWinScore=function(){var t=this;this.winScoreText.visible=!0,this.timer.visible=!1,i.i(n.a)({target:this.winScoreText,time:100,loop:20,callback:function(){t.winScoreText.visible=!1,t.timer.visible=!0}})},t.prototype.setLeftScore=function(t){this.leftScoreText.text=t+"",this._showWinScore()},t.prototype.setScoreFoul=function(t){"leftScore"in t&&this.setLeftScore(t.leftScore),"rightScore"in t&&this.setRightScore(t.rightScore),"leftFoul"in t&&this.setLeftFoul(t.leftFoul),"rightFoul"in t&&this.setRightFoul(t.rightFoul)},t.prototype.setRightScore=function(t){this.rightScoreText.text=t+"",this._showWinScore()},t.prototype._setFoulText=function(t,e){var i=e+"";t.text=i},t.prototype.setLeftFoul=function(t){this.lFoulText.setFoul(t)},t.prototype.setRightFoul=function(t){this.rFoulText.setFoul(t)},t.prototype.resetTimer=function(){this.timer.resetTimer()},t.prototype.setTimer=function(t){this.timer.setTimeBySec(t)},t.prototype.toggleTimer=function(t){this.timer.toggleTimer(t)},t.prototype.resetScore=function(){this.setLeftScore(0),this.setRightScore(0),this.setLeftFoul(0),this.setRightFoul(0)},t.prototype._fixFtName=function(t,e){"GREENLIGHT"==e.toUpperCase()?(e="GREENLIGHT",t.style.fontSize="13px"):t.style.fontSize="22px",t.text=e,t.y=280-.5*t.height},t.prototype.cutName=function(t,e){t.width>e&&(t.text=t.text.substr(0,t.text.length-1),this.cutName(t,e))},t.prototype.setLeftPlayerInfo=function(t,e,n,o,r,a){var s=this;this._lFtId=r,this._loadFrame(a,this.lFrame),this.lPlayerName.text=t,this.cutName(this.lPlayerName,this._NAME_WIDTH),this.lPlayerName.x=634-this.lPlayerName.width,i.i(l.c)(e,function(t){var e=s.lAvatar;e.texture=i.i(l.d)(t);var n=155/t.width;e.x=e.mask.x,e.y=e.mask.y,e.scale.x=e.scale.y=n},!0),this.lPlayerHeight.text=o,this.lPlayerWeight.text=n,this.lPlayerHeight.x=532-this.lPlayerHeight.width,this.lPlayerWeight.x=618-this.lPlayerWeight.width,this._loadFt(r,this.lFtImg)},t.prototype._loadFt=function(t,e){var n=this,o="/img/panel/score/m2/"+t+".png";this._texFt[o]?e.texture=i.i(l.d)(this._texFt[o]):i.i(c.d)(o,function(t){n._texFt[o]=t,e.texture=i.i(l.d)(t)})},t.prototype._loadFrame=function(t,e){},t.prototype.setRightPlayerInfo=function(t,e,n,o,r,a){var s=this;this._rFtId=r,this._loadFrame(a,this.rFrame),this.rPlayerName.text=t,this.cutName(this.rPlayerName,this._NAME_WIDTH),i.i(l.c)(e,function(t){var e=s.rAvatar;e.texture=i.i(l.d)(t);var n=155/t.width;e.x=e.mask.x,e.y=e.mask.y,e.scale.x=e.scale.y=n},!0),this.rPlayerHeight.text=o,this.rPlayerWeight.text=n,this.rPlayerHeight.x=1320-this.rPlayerHeight.width,this.rPlayerWeight.x=1410-this.rPlayerWeight.width,this._loadFt(r,this.rFtImg)},t.prototype.getPlayerInfo=function(t){var e={};return t?(e.name=this.lPlayerName.text,e.info=this.lPlayerHeight.text,e.ftId=this._lFtId):(e.name=this.rPlayerName.text,e.info=this.rPlayerHeight.text,e.ftId=this._rFtId),e},t.prototype.show=function(){this.ctn.visible=!0},t.prototype.hide=function(){this.ctn.visible=!1},t}()},162:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(6),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(e,o,r,a){void 0===a&&(a=2);for(var s=t.call(this)||this,c=[],l=o;l<r+1;l++)c.push(e+i.i(n.f)(l,a)+".png");for(var h=[],p=0;p<c.length;p++){var u=PIXI.Texture.fromImage(c[p]);h.push(u)}var f=new PIXI.extras.AnimatedSprite(h);return f.animationSpeed=.3,f.loop=!1,s.addChild(f),s.mc=f,f.onComplete=function(){s.emit("complete")},s}return o(e,t),e.prototype.onComplete=function(t){},e.prototype.show=function(){this.mc.play()},e.prototype.gotoAndStop=function(t){this.mc.gotoAndStop(t)},e.prototype.playOnce=function(){this.mc.gotoAndStop(0),this.mc.play()},e}(PIXI.Container)},163:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function e(e,i){var n=t.call(this)||this,o=new PIXI.BaseTexture(e),r=function(t,e,i,n){return new PIXI.Sprite(new PIXI.Texture(o,new PIXI.Rectangle(t,e,i,n)))},a=r(0,0,i.x,i.y);n.addChild(a),n.lt=a,n.t=r(i.x,0,i.width,i.y),n.t.x=i.x,n.addChild(n.t);var s=r(i.x+i.width,0,o.width-i.x-i.width,i.y);return s.x=i.x+i.width,n.addChild(s),n.rt=s,n.r=r(i.x+i.width,i.y,o.width-i.x-i.width,i.height),n.r.x=i.x+i.width,n.r.y=i.y,n.addChild(n.r),n.rb=r(i.x+i.width,i.y+i.height,o.width-i.x-i.width,o.height-i.y-i.height),n.rb.x=i.x+i.width,n.rb.y=i.y+i.height,n.addChild(n.rb),n.b=r(i.x,i.y+i.height,i.width,o.height-i.y-i.height),n.b.x=i.x,n.b.y=i.y+i.height,n.addChild(n.b),n.lb=r(0,i.y+i.height,i.x,o.height-i.y-i.height),n.lb.y=i.y+i.height,n.addChild(n.lb),n.l=r(0,i.y,i.x,i.height),n.l.y=i.y,n.addChild(n.l),n}return n(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._w},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._h},enumerable:!0,configurable:!0}),e.prototype.resize=function(t,e){this._w=t,this._h=e;var i=t-this.lt.width-this.rt.width;this.t.width=i,this.b.width=i,this.rt.x=this.lt.width+i,this.r.x=this.lt.width+i,this.rb.x=this.lt.width+i;var n=e-this.lt.height-this.lb.height;this.l.height=n,this.r.height=n,this.lb.y=this.lt.height+n,this.b.y=this.lt.height+n,this.rb.y=this.lt.height+n},e}(PIXI.Container)},164:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(6),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r={PAUSE:0,RUNNING:1},a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeInSec=0,e.timerId=null,e.isMin=!1,e}return o(e,t),Object.defineProperty(e.prototype,"textInSec",{set:function(t){this.setTimeBySec(t)},enumerable:!0,configurable:!0}),e.prototype.setTimeBySec=function(t){this.timeInSec=t,this.text=i.i(n.g)(this.timeInSec)},e.prototype.toggleTimer=function(t){var e=this,o=function(){e.timerId&&(clearInterval(e.timerId),e.timerId=0,e.timerState=r.PAUSE)},a=function(){e.timerId&&clearInterval(e.timerId),e.timerId=setInterval(function(){e.isMin?--e.timeInSec<0&&(e.timeInSec=0):e.timeInSec++,e.text=i.i(n.g)(e.timeInSec)},1e3),e.timerState=r.RUNNING};null!=t?t==r.PAUSE?o():t==r.RUNNING&&a():this.timerId?o():a()},e.prototype.resetTimer=function(){this.timeInSec=0,this.timerState=r.PAUSE,this.text=i.i(n.g)(this.timeInSec)},e}(PIXI.Text)},22:function(t,e,i){"use strict";function n(t){function e(t){i.visible&&a>0?new r.a(i).to({alpha:t},n).call(function(){a-=1,e(t?0:1)}).start():(o&&o(),a=-1)}var i=t.target,n=t.time||80,o=t.callback,a=t.loop||1/0;e(1)}function o(t,e,i){void 0===e&&(e=80),void 0===i&&(i=!1);var n=e;new r.a(t).to({alpha:1},n).to({alpha:0},n).to({alpha:1},n).to({alpha:0},n).to({alpha:1},n).start()}e.a=n,e.b=o;var r=i(16)},3:function(t,e,i){"use strict";function n(t){return new PIXI.Texture(new PIXI.BaseTexture(t))}function o(t){var e=t.url,i=t.isCrossOrigin,o=t.callback,a=new PIXI.Sprite;return r(e,function(t){a.texture=n(t),o&&o(a)},i),a}function r(t,e,n){if(n){var o=new XMLHttpRequest;o.open("GET",i.i(f.c)(t),!0),o.onload=function(t){i.i(u.d)(o.responseText,e)},o.send()}else i.i(u.d)(t,e)}function a(t){var e=t.width,i=t.height,o=t.url,a=t.callback,s=t.isCrossOrigin;r(o,function(t){c.texture=n(t),a&&a(c)},s);var c=new PIXI.extras.TilingSprite(y,e,i);return c}function s(t){var e,i=t.isTiling;return e=i?a(t):o(t),e.x=t.x?t.x:0,e.y=t.y?t.y:0,e}function c(t,e){t.scale.x=t.scale.y=e}function l(t,e){t.x=e-.5*t.width}function h(t,e){t.width>e&&(t.text=t.text.substring(0,t.text.length-1),h(t,e))}e.d=n,e.c=r,e.b=s,i.d(e,"e",function(){return g}),i.d(e,"a",function(){return x}),e.f=c,e.g=l,e.h=h;var p=i(1),u=i(6),f=i(5),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),y=n(null),g=function(t){function e(e){var i=t.call(this)||this;i.mapSprite={};var o=e.text;return i.animations=e.animations,i.frames=e.frames,i.digis={},i._digiCtn=new PIXI.Container,i.addChild(i._digiCtn),i.text=o,e.texture?(i._tex=e.texture,i.updateTex()):e.img&&r(e.img,function(t){i._tex=n(t),i.updateTex()}),i}return d(e,t),e.prototype.updateTex=function(){for(var t in this.digis){this.digis[t].sp.texture=this._tex}},Object.defineProperty(e.prototype,"text",{set:function(t){for(var e=0,i=t.charAt(e);""!=i;){var n=this.animations[i];if(n>-1){var o=this.frames[n],r=o[0],a=o[1];this._frameWidth||(this._frameWidth=o[2]),this._frameHeight||(this._frameHeight=o[3]),this.digis[e]||(this.digis[e]=this._makeFrame(this._frameWidth,this._frameHeight));var s=this.digis[e];s.x=e*this._frameWidth,s.idx=e,s.sp.x=-r,s.sp.y=-a,e+=1,i=t.charAt(e)}}this._digiWidth=(e-1)*this._frameWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{set:function(t){console.log("align right",this._digiWidth),"left"==t?this._digiCtn.x=0:"center"==t?this._digiCtn.x=.5*-this._digiWidth:"right"==t&&(this._digiCtn.x=-this._digiWidth)},enumerable:!0,configurable:!0}),e.prototype._makeFrame=function(t,e){var i=new PIXI.Container;this._digiCtn.addChild(i);var n=new PIXI.Graphics;n.beginFill(16711680).drawRect(0,0,t,e).endFill(),i.addChild(n);var o=new PIXI.Sprite(this._tex);return i.addChild(o),o.mask=n,i.sp=o,i},e}(PIXI.Container),x=function(t,e,i){void 0===t&&(t=.8),e||(e=p.a.STAGE_WIDTH),i||(i=p.a.STAGE_HEIGHT);var n=new PIXI.Graphics;return n.drawRect(0,0,e,i).alpha=t,n};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}d(e,t),Object.defineProperty(e.prototype,"text",{set:function(t){this._text=t,this.align},enumerable:!0,configurable:!0})}(PIXI.Text)},31:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(t){var e=1,i=function(i,n,o){var r=t[i],a=n.split("."),s=a[0],c=Number(a[1]);a=o.split(".");var l=a[0],h=Number(a[1]),p=t[s],u=t[l];0==r.score[0]&&0==r.score[1]||(e++,5==i&&console.log("toWin",p,"toLose",u,h),r.score[0]>r.score[1]?(p.player[c]=r.player[0],"x"!=l&&(u.player[h]=r.player[1])):(p.player[c]=r.player[1],"x"!=l&&(u.player[h]=r.player[0])))};return i(1,"9.1","16.1"),i(2,"10.1","15.1"),i(3,"11.1","14.1"),i(4,"12.1","13.1"),i(5,"21.1","13.0"),i(6,"22.1","14.0"),i(7,"23.1","15.0"),i(8,"24.1","16.0"),i(9,"21.0","17.0"),i(10,"22.0","18.0"),i(11,"23.0","19.0"),i(12,"24.0","20.0"),i(13,"17.1","x.0"),i(14,"18.1","x.0"),i(15,"19.1","x.0"),i(16,"20.1","x.0"),i(17,"27.1","x.0"),i(18,"28.1","x.0"),i(19,"25.1","x.0"),i(20,"26.1","x.0"),i(21,"31.0","25.0"),i(22,"31.1","26.0"),i(23,"32.0","27.0"),i(24,"32.1","28.0"),i(25,"29.1","x.0"),i(26,"29.0","x.0"),i(27,"30.1","x.0"),i(28,"30.0","x.0"),i(29,"34.1","x.0"),i(30,"33.1","x.0"),i(31,"36.0","33.0"),i(32,"36.1","34.0"),i(33,"35.1","x.0"),i(34,"35.0","x.0"),i(35,"37.1","x.0"),i(36,"38.0","37.0"),i(37,"38.1","x.0"),{incoming:e}}},32:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={resetTimer:"",sc_startTimer:"",sc_pauseTimer:"",sc_resetTimer:"",cs_setDelayTime:"",sc_setDelayTime:"",sc_setTimer:"",sc_toggleTheme:"",sc_showChampion:"",sc_toggleScorePanel:"",sc_toggleChampionPanel:"",sc_showNotice:"",sc_setFxPoint:"",sc_playScoreFx:"",sc_setBdVisible:""};for(var o in n)n[o]=o},33:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=function(){function t(t){this._x=0,this._y=0,this.hAlign="left",this.vAlign="top",this.t=t}return Object.defineProperty(t.prototype,"text",{get:function(){return this.t.text},set:function(t){this.t.text=t,this.x=this._x,this.y=this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,"right"==this.hAlign?(console.log("set x right"),this.t.x=this._x-this.t.width):"center"==this.hAlign?this.t.x=this._x-.5*this.t.width:this.t.x=this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,"bottom"==this.vAlign?this.t.y=this._y-this.t.height:"middle"==this.vAlign?this.t.y=this._y-.5*this.t.height:this.t.y=this._y},enumerable:!0,configurable:!0}),t}(),o=function(){function t(t){this.lastX=0,this.lastY=0,this.ctn=t}return t.prototype._cloneStyle=function(t){var e={};for(var i in t)e[i]=t[i];return e},t.prototype.add=function(t){var e=t.style;e=this._cloneStyle(e);var i=new PIXI.Text(t.text||"",e);t.parent?t.parent.addChild(i):this.ctn.addChild(i);var o=new n(i);return o.hAlign=t.hAlign||"left",o.x=t.x||0,o.y=t.y||0,this.lastX=o.x,this.lastY=o.y,o},t}()},5:function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"d",function(){return o}),i.d(e,"b",function(){return a}),i.d(e,"a",function(){return s});var n=function(t,e){return void 0===e&&(e="image"),"/proxy?url="+t+"&type="+e},o=(function(){function t(t,e){this.cmdMap={},this.reqFunc=e,this.io=t}t.prototype.send=function(t,e){var i=this;return this.reqFunc(t,e),this.cmdMap[t]?{on:function(t,e){}}:(this.cmdMap[t]=!0,{on:function(t,e){i.io.on(t,function(t){e(t)})}})}}(),function(t){var e,i,n=decodeURIComponent(window.location.search.substring(1)),o=n.split("&");for(i=0;i<o.length;i++)if(e=o[i].split("="),e[0]===t)return void 0===e[1]||e[1]}),r=function(t,e,i,n){var o=new XMLHttpRequest;o.open(e,t,!0);var r="";if("POST"==e){if(i)for(var a in i)r+=a+"="+i[a]+"&";o.setRequestHeader("Content-type","application/x-www-form-urlencoded")}o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var t=o.getResponseHeader("content-type");console.log("http.response",t,o.response);var e=o.response;t.search("json")>-1&&(e=JSON.parse(o.response)),n&&n(e)}},o.send(r)},a=function(t,e){var i=window.$http;i?i.get(t).then(function(t){e&&e(t.body,t)}):r(t,"GET",null,function(t){e&&e(t)})},s=function(t,e,i){var n=window.$http;n?n.post(t,e).then(function(t){i&&i(t.body,t)}):r(t,"POST",e,function(t){i&&i(t)})}},57:function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"a",function(){return l});var n=i(15),o=i(3),r=i(149),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=2,c={"1.0":"L1",1.1:"R1","2.0":"L2",2.1:"R2","3.0":"L3",3.1:"R3","4.0":"L4",4.1:"R4","5.0":"L5",5.1:"R5","6.0":"L6",6.1:"R6","7.0":"L7",7.1:"R7","8.0":"L8",8.1:"R8","9.0":"L9","10.0":"R9","11.0":"L10","12.0":"R10"},l=function(t){function e(e){var a=t.call(this)||this;a.gameMap={},a.playerNameMapPoker={},e.addChild(a);var c=i.i(o.b)({url:"/img/panel/bracket/final/bracketBg.png"});a.addChild(c);var l=i.i(o.b)({url:"/img/panel/bracket/final/bracket.png"});a.addChild(l);var h=395,p={1:[78,82],2:[78,241],3:[78,400],4:[78,562],5:[h,123],6:[h,279],7:[h,439],8:[h,601],9:[h,45],10:[h,201],11:[h,359],12:[h,519],13:[78,990],14:[78,910],15:[78,830],16:[78,750],17:[365,970],18:[365,890],19:[365,810],20:[365,730],21:[712,82],22:[712,242],23:[712,402],24:[712,562],25:[652,790],26:[652,710],27:[652,950],28:[652,870],29:[930,750],30:[930,910],31:[1030,162],32:[1030,482],33:[1168,870],34:[1168,710],35:[1405,795],36:[1345,320],37:[1650,758],38:[1662,448]};a.posMap=p;var u={29:!0,30:!0,33:!0,34:!0,35:!0};return n.a.loadTexArr(["/img/panel/bracket/final/pokerBlack.png","/img/panel/bracket/final/pokerRed.png","/img/panel/bracket/final/winHint.png"],function(t){for(var e=0;e<38;e++){var n=p[e+1];n[0]*=s,n[1]*=s;var c=Boolean(u[e+1]),l=new r.a(c);l.x=n[0],l.y=n[1],l.setInfo("","");var h=new r.a(c);h.x=l.x,h.y=l.y+35*s,h.setInfo("",""),a.addChild(l),a.addChild(h),a.gameMap[e+1]=[l,h]}var f=i.i(o.b)({url:"/img/panel/bracket/final/incoming.png"});f.scale.x=f.scale.y=.5,a.incomingSp=f,a.initKey(),a.scale.x=a.scale.y=.5},!1),a}return a(e,t),e.prototype.setFirstView=function(){this.x=0,this.scale.x=this.scale.y=.8,this.y=-30},e.prototype.initKey=function(){var t=this;window.onkeyup=function(e){219==e.keyCode?(console.log("zoom out"),t.scale.x=t.scale.y=.5,t.x=t.y=0):81==e.keyCode?t.setFirstView():65==e.keyCode?(t.x=0,t.y=-1080,t.scale.x=t.scale.y=1):87==e.keyCode?(t.x=-576,t.y=0,t.scale.x=t.scale.y=1):83==e.keyCode?(t.x=-384,t.y=-1080,t.scale.x=t.scale.y=1):69==e.keyCode?(t.x=-1920,t.y=-50,t.scale.x=t.scale.y=1):68==e.keyCode?(t.x=-1920,t.y=-1080,t.scale.x=t.scale.y=1):221==e.keyCode&&(console.log("zoom in"),t.scale.x=t.scale.y=1),console.log("key up",e.keyCode)};var e=!1,i=function(i){e&&.5!=t.scale.x&&(t.x+=i.movementX,t.y+=i.movementY,t.x>0&&(t.x=0),t.y>0&&(t.y=0),t.x<-1920&&(t.x=-1920),t.y<-1080&&(t.y=-1080))};window.onmousemove=function(t){i(t)},window.onmouseup=function(t){e=!1},window.onmousedown=function(t){e=!0}},e.prototype.setRec=function(t,e){for(var i=0;i<38;i++){var n=i+1,o=t[n],r=this.gameMap[n],a=r[0],l=r[1],h=[c[n+".0"],c[n+".1"]];console.log("gameIdx",n,h),o.player[0]&&a.setInfo(o.player[0],o.score[0],h[0]),o.player[1]&&l.setInfo(o.player[1],o.score[1],h[1]);var p=Number(o.score[0]),u=Number(o.score[1]);a.setWin(1),l.setWin(1),0==p&&0==u?(a.winSp.visible=!1,l.winSp.visible=!1):p<u?a.setWin(.3):l.setWin(.3)}var f=this.posMap[e];f&&(this.incomingSp.x=f[0]-40,this.incomingSp.y=f[1]-20*s)},e}(PIXI.Container)},58:function(t,e,i){"use strict";function n(t){var e=t.x,i=t.y,n=t.hints?t.hints:["",""],o={font:"25px",fill:"#fff",align:"right"},a=new PIXI.Text("",o);a.y=8;var s=new PIXI.Text("",o);s.y=61,a.x=s.x=188;var c={fontSize:"25px",fontFamily:r.c.MicrosoftYahei,fontWeight:"bold"},l=new PIXI.Text("",c);l.x=3,l.y=8;var h=new PIXI.Text("",c);return h.x=l.x,h.y=l.y+50,{x:e,y:i,labels:[l,h],hints:n,winIdx:-1,scores:[a,s]}}function o(t,e,i){console.log(t.width,e),t.width>e&&(t.style.font=i+"px",t.style.fontFamily=r.c.MicrosoftYahei,o(t,e,i-1))}e.b=o,i.d(e,"a",function(){return a});var r=i(1),a={1:n({x:320,y:91,hints:["1号种子 ","8号种子 "]}),2:n({x:320,y:232,hints:["4号种子 ","5号种子 "]}),3:n({x:320,y:403,hints:["2号种子 ","7号种子 "]}),4:n({x:320,y:544,hints:["3号种子 ","6号种子 "]}),5:n({x:320,y:806,hints:["第1场败者 ","第2场败者 "]}),6:n({x:320,y:947,hints:["第3场败者 ","第4场败者 "]}),7:n({x:671,y:162}),8:n({x:671,y:476}),9:n({x:664,y:893,hints:["第7场败者 ",""]}),10:n({x:664,y:751,hints:["第8场败者 ",""]}),11:n({x:1067,y:319}),12:n({x:1020,y:825}),13:n({x:1366,y:770,hints:["第11场败者 ",""]}),14:n({x:1463,y:396,hints:["","第13场胜者 "]})},s=(function(){function t(t){this.idx=t,this.playerArr=[new s,new s]}}(),function(){function t(){this.isHint=!1,this.isWin=!1,this.score=0}return t}())},59:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(3),o=i(162),r=i(15),a=i(1),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){var e=t.call(this)||this;return e.isPlaying=!1,e.ctn=new PIXI.Container,e.addChild(e.ctn),r.a.loadTex("/img/panel/bracket/final/playerBg1.png",function(t){var r=new PIXI.Sprite;r.texture=t,e.bg=r;var s=new PIXI.Sprite;s.x=61,s.y=39;var c=new PIXI.Graphics;c.x=s.x,c.y=s.y,c.beginFill(16711680).drawCircle(105,105,105),e.ctn.addChild(s),s.mask=c,e.ctn.addChild(c),e.avt=s,e.ctn.addChild(r);var l={fill:"#000",fontWeight:"bold",fontFamily:a.c.MicrosoftYahei,fontSize:"32px"},h=new PIXI.Text("",l);h.x=20,h.y=255,e.ctn.addChild(h),e.nameText=h;var p=new PIXI.Text("",l);p.x=20,p.y=305,e.ctn.addChild(p),p.style.fontSize="25px",e.infoText=p;var u=new PIXI.Sprite,f={fontWeight:"bold",fontFamily:a.c.MicrosoftYahei,fontSize:"50px"},d=new PIXI.Text("A",f);d.y=65,u.label=d,u.addChild(d),u.x=25,u.y=25,e.pokerSpTop=u,e.ctn.addChild(u);var y=new PIXI.Sprite;d=new PIXI.Text("A",f),y.label=d,d.y=65,y.addChild(d),y.x=308,y.y=340,y.rotation=180*PIXI.DEG_TO_RAD,e.pokerSpBottom=y,e.ctn.addChild(y),i.i(n.f)(y,.6),i.i(n.f)(u,.6);var g=new o.a("/img/panel/bracket/final/poker8/poker_8_",0,13);g.y=-72,g.x=-87,e.addChild(g),e.fx=g,g.on("complete",function(t){e.isPlaying=!1,e.fx.visible=!1,e.ctn.visible=!0,console.log("complete",e.pokerSpTop,e.nameText)})}),e}return s(e,t),e.prototype.playOnce=function(){if(!this.isPlaying){this.isPlaying=!0;var t=this.fx;t.visible=!0,this.ctn.visible=!1,t.playOnce()}},e.prototype.setPoker=function(t){var e=this;this.pokerStr=t;var o,a,s=t.charAt(0);"L"==s?(o="/img/panel/bracket/final/pokerBlack.png",a="#000"):"R"==s&&(o="/img/panel/bracket/final/pokerRed.png",a="#d40d0d"),r.a.loadTex(o,function(t){e.pokerSpTop.texture=t,e.pokerSpBottom.texture=t}),this.pokerSpBottom.label.style.fill=a,this.pokerSpTop.label.style.fill=a;var c=t.substring(1);"1"==c&&(c="A"),this.pokerSpBottom.label.text=c,this.pokerSpTop.label.text=c,i.i(n.g)(this.pokerSpBottom.label,30),i.i(n.g)(this.pokerSpTop.label,30)},e.prototype.setInfo=function(t){var e=this;this.nameText.text=t.name,i.i(n.h)(this.nameText,230),i.i(n.g)(this.nameText,164),this.infoText.text=t.height+" CM /"+t.weight+" KG",i.i(n.g)(this.infoText,164),r.a.loadTex(t.avatar,function(t){e.avt.texture=t,i.i(n.f)(e.avt,210/t.height),e.playOnce()})},e.prototype.reset=function(){this.isPlaying=!1,console.log("poker reset",this.pokerStr),this.ctn.visible=!1,this.fx.visible=!0,this.fx.gotoAndStop(0)},e}(PIXI.Container)},6:function(t,e,i){"use strict";function n(t){return function(e,i){return e[t]-i[t]}}function o(t,e){var i=[];for(var n in t)i.push(t[n]);return e&&(i=JSON.parse(JSON.stringify(i))),i}function r(t,e,i){var n=new Image;n.onload=function(){e(n)},null!=i&&(n.onerror=function(t){i(t)}),n.src=t}function a(t,e){function i(){0===--r&&(r=-1,e(n))}var n,o,r=t.length;r&&t[0].hasOwnProperty("name")&&t[0].hasOwnProperty("url")?(o=!1,n={}):(o=!0,n=[]);for(var a,s,c=0;c<t.length;c++){var l=t[c];a=new Image,o?(n.push(a),s=l):(n[l.name]=a,s=l.url),a.onload=i,a.src=s}}function s(t,e,i){void 0===e&&(e=":"),void 0===i&&(i="");var n=Math.floor(t/60),o=t%60,r=n+"",a=o+"";return n<10&&(r="0"+r),o<10&&(a="0"+a),r+e+a+i}function c(t,e,i){void 0===i&&(i=0);for(var n=0,o=t.length,r=new String,a="",s=0,c=0;c<o&&!(0!=i&&s>i);c++){var l=t.charAt(c);n++,s++,escape(l).length>4&&(n++,s++),r=r.concat(l),n>=e&&(a+=r.concat("\n"),r=new String,n=0)}return a+=r}function l(t,e,i){var n=void 0!==i?i:"0",o=new Array(1+e).join(n);return(o+t).slice(-o.length)}e.b=n,e.a=o,e.d=r,e.c=a,e.g=s,e.e=c,e.f=l},60:function(t,e,i){"use strict";function n(t){return"/img/ft/"+t+"g.png"}function o(t){return"/img/ft/"+t+"m.png"}e.a=n,e.b=o},61:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var n,o=i(22),r=i(3),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.e=0]="e",t[t.w=1]="w",t[t.s=2]="s",t[t.n=3]="n"}(n||(n={}));var s=function(t){function e(e){var o=t.call(this)||this;o.spArr=[];var a=e.dir||n.e,s=e.flip||1,c=e.flipY||1,l=e.count,h=e.invert;o._w=l*h;for(var p=0;p<l;p++){var u=i.i(r.b)({url:e.img});a==n.e?u.x=p*e.invert:a==n.w?u.x=(l-1-p)*h:a==n.s?u.y=p*h:a==n.n&&(u.y=(l-1-p)*h),u.scale.x=s,u.scale.y=c,o.spArr.push(u),o.addChild(u)}return o}return a(e,t),e.prototype.setNum=function(t){for(var e=0;e<this.spArr.length;e++){var i=this.spArr[e];e<t?this.onShowPoint(i):this.onHidePoint(i)}},Object.defineProperty(e.prototype,"width",{get:function(){return this._w},enumerable:!0,configurable:!0}),e.prototype.onShowPoint=function(t){t.visible=!0,i.i(o.b)(t)},e.prototype.onHidePoint=function(t){t.visible=!1},e}(PIXI.Container)},74:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(3),o=i(57),r=i(5),a=i(8),s=i(31),c=i(59),l=function(){function t(t){this.bracket=new o.a(t),this.pokerCtn=new PIXI.Container,t.addChild(this.pokerCtn),this.initPokerPanel(),this.initLocal()}return t.prototype.initPokerPanel=function(){var t=i.i(n.a)(.9,1500,1080);t.x=1060,this.pokerCtn.addChild(t);var e=new c.a;this.pokerPlayer=e,e.x=1130,e.y=640,this.pokerCtn.visible=!1,this.pokerCtn.addChild(e)},t.prototype.onBracketData=function(t){var e=i.i(s.a)(t);this.bracket.setRec(t,e.incoming)},t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(e){t.isInit||(t.isInit=!0,i.i(r.a)("/emit/"+a.a.cs_bracket20Created,{_:null})),console.log("connect",window.location.host)}).on(""+a.a.sc_bracket20Init,function(e){console.log("sc_bracketInit",e),t.onBracketData(e.rec)}).on(""+a.a.sc_showPokerPlayer,function(e){console.log("sc_showPokerPlayer",e,t.pokerPlayer),t.pokerPlayer.reset(),t.pokerPlayer.setPoker(e.pokerStr),t.pokerPlayer.setInfo(e.playerData.data)}).on(""+a.a.sc_showPoker,function(e){console.log("sc_showPokerPlayer",e,t.pokerPlayer),t.pokerCtn.visible=e.visible,e.visible&&t.bracket.setFirstView()})},t}()},75:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(5),o=i(14),r=i(1),a=i(8),s=i(150),c=i(58),l=function(){function t(t,e,i){var n=this;console.log("BracketView isMon: ",i),this.isMonth=i,this.bracket=new s.a(t),this.isMonth?this.initManmaul():(this.bracket.visible=!1,window.onkeyup=function(t){console.log(t),"ArrowLeft"==t.key||"ArrowRight"==t.key||("Tab"==t.key?n.bracket.visible=!n.bracket.visible:t.key)},this.getPreRoundInfo(e),this.initAuto(Number(e))),this.initLocal()}return t.prototype.initManmaul=function(){},t.prototype.getPreRoundInfo=function(t){},t.prototype.showComingIdx=function(t){this.bracket.showComingIdx(t)},t.prototype.hide=function(){},t.prototype.show=function(){},t.prototype.getFtBracketInfo=function(){},t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(e){t.isMonth&&!t.isInit&&(t.isInit=!0,i.i(n.a)("/emit/"+a.a.cs_bracketCreated,{_:null})),console.log("connect",window.location.host)}).on(""+a.a.sc_bracketInit,function(e){console.log("sc_bracketInit"),delete e._,t.onBracketData({data:e})})},t.prototype.initAuto=function(t){var e=this,n=function(i){var n=io.connect(i);n.on("connect",function(){t?(console.log("hupuAuto socket connected GameId",t),n.emit("passerbyking",{game_id:t,page:"top8Map"})):(e.getFtBracketInfo(),console.log("connected local /rkb"))});var o={};o.top8Match=function(t){console.log("top8Match",t),t.data=t.list,e.onBracketData(t)},o.startGame=function(i){console.log("startGame",i),e.getPreRoundInfo(t)},o.init=function(t){console.log("init",t)},o.commitGame=function(i){console.log("commitGame",i),e.getPreRoundInfo(t)},o.updateScore=function(t){e.bracket.hideComing()},n.on("wall",function(t){var e=t.et;console.log("event:",e,t),o[e]&&o[e](t)})};t?i.i(o.d)(function(t){n(t)}):n("/rkb")},t.prototype.onBracketData=function(t){var e={},n=new PIXI.TextStyle({fontSize:"25px",fill:"#e1e1e1",align:"right",fontFamily:r.c.MicrosoftYahei});console.log("onBracketData",t.data);for(var o in t.data){var a=t.data[o],s=c.a[o];s.idx=Number(o),(Number(a.left.score)||Number(a.right.score))&&(a.left.score>a.right.score?this.bracket.setWinHint(s.hint1,!0):this.bracket.setWinHint(s.hint2),e[o]=!0),a.left.name&&(s.labels[0].style=n),a.right.name&&(s.labels[1].style=n);var l=s.hints;s.labels[0].text=a.left.name||(l?l[0]:""),i.i(c.b)(s.labels[0],160,25),s.scores[0].text=a.left.score||"0",s.labels[1].text=a.right.name||(l?l[1]:""),i.i(c.b)(s.labels[1],160,25),s.scores[1].text=a.right.score||"0"}for(var h=1,p=0;p<14;p++){if(e[14-p]){h=14-p+1;break}}this.showComingIdx(h)},t}()},76:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(15),o=i(152),r=i(8),a=function(){function t(t){var e=this;this.isInit=!1;for(var i=0;i<13;i++);n.a.loadTexArr(["/img/panel/bracket/final/playerBg1.png","/img/panel/bracket/final/bg1.png","/img/panel/bracket/final/bg2.png","/img/panel/bracket/final/pokerBlack.png","/img/panel/bracket/final/pokerRed.png"],function(i){e.pokerPanel=new o.a,t.addChild(e.pokerPanel),e.initLocal()},!1)}return t.prototype.initLocal=function(){var t=this;io.connect("/rkb").on("connect",function(t){}).on(""+r.a.sc_showPokerPlayer,function(e){console.log("sc_showPokerPlayer",e),t.pokerPanel.showPokerPlayer(e)}).on(""+r.a.sc_showPoker,function(e){t.pokerPanel.visible=e.visible,e.visible&&(8==e.pokerNum?t.pokerPanel.show8Player():12==e.pokerNum?t.pokerPanel.show12Player():0==e.pokerNum&&t.pokerPanel.resetAll()),console.log("sc_bracketInit",e)})},t}()},77:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(157),o=i(8),r=i(153),a=i(154),s=i(155),c=i(156),l=function(){function t(t,e){this.popupItemMap={},this.ctn=t,this.initWS(e)}return t.prototype.initWS=function(t){var e=this;t.on(o.a.sc_showGroupRank,function(t){console.log("sc_groupRank",t),t.visible?e.show(s.a,t):e.hide(s.a)}).on(o.a.sc_showChampion,function(t){console.log("sc_showChampion",t),t.visible?e.show(r.a,t):e.hide(r.a)}).on(o.a.sc_showGamePlayerInfo,function(t){console.log("sc_showGamePlayerInfo",t),t.visible?e.show(a.a,t):e.hide(a.a)}).on(o.a.sc_showNotice,function(t){console.log("sc_showNotice",t),t.visible?e.show(c.a,t):e.hide(c.a)}).on(o.a.sc_showVictory,function(t){console.log("sc_showVictory",t),t.visible?e.show(n.a,t):e.hide(n.a)})},t.prototype.show=function(t,e){if(!t.class)throw"check class def"+t;this.popupItemMap[t.class]||(this.popupItemMap[t.class]=new t,this.popupItemMap[t.class].create(this.ctn)),this.popupItemMap[t.class].show(e)},t.prototype.hide=function(t){this.popupItemMap[t]&&this.popupItemMap[t].hide()},t}()},78:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i(160),o=i(8),r=i(5),a=i(32),s=i(1),c=function(){function t(t){this.delayTimeMS=0,this.isInit=!1;var e=i.i(r.d)("gameId"),o="dark"==i.i(r.d)("theme"),a="1"==i.i(r.d)("m");console.log(e,o),a&&(this.scorePanel=new n.a(t,o)),this.localWS=this.initLocalWs()}return t.prototype.initDefaultPlayer=function(){var t="http://w1.hoopchina.com.cn/huputv/resource/img/amateur.jpg";this.scorePanel.setLeftPlayerInfo("Player 1",t,78,178,"",0),this.scorePanel.setRightPlayerInfo("Player 2",t,78,178,"",0)},t.prototype.initLocalWs=function(){var t=this,e=io.connect("/rkb");return e.on("connect",function(e){console.log("connect",window.location.host),t.isInit||(t.isInit=!0,i.i(r.a)("/emit/"+o.a.cs_panelCreated,{_:null}))}).on(""+a.a.sc_setDelayTime,function(e){t.delayTimeMS=e.delayTimeMS}).on(""+a.a.sc_toggleTheme,function(t){}).on(""+a.a.sc_toggleScorePanel,function(e){e.visible?t.scorePanel.show():t.scorePanel.hide()}).on(""+a.a.sc_toggleChampionPanel,function(e){e.visible?t.eventPanel.champion.show():t.eventPanel.champion.hide()}).on(""+a.a.sc_showNotice,function(e){t.eventPanel.showNotice(e.title,e.content,e.isLeft,e.isBold),e.visible?t.eventPanel.noticeSprite.show():t.eventPanel.noticeSprite.hide()}).on(""+a.a.sc_setFxPoint,function(e){t.eventPanel.setFxPoint(e.mx,e.my)}).on(""+a.a.sc_playScoreFx,function(e){t.eventPanel.showScoreFx()}).on(""+a.a.sc_setBdVisible,function(e){t.eventPanel.showBd(e.v),e.v?t.scorePanel.hide():t.scorePanel.show()}).on(""+o.a.sc_init,function(e){console.log("sc_init",e);var i=e.leftPlayer;t.scorePanel.setLeftPlayerInfo(i.name,i.avatar,i.weight,i.height,i.groupId,i.level),i=e.rightPlayer,t.scorePanel.setRightPlayerInfo(i.name,i.avatar,i.weight,i.height,i.groupId,i.level),t.scorePanel.setGameIdx(e.gameIdx,e.matchType),t.scorePanel.set35ScoreLight(e.winScore),t.scorePanel.setLeftFoul(e.leftFoul),t.scorePanel.setRightFoul(e.rightFoul),t.scorePanel.setLeftScore(e.leftScore),t.scorePanel.setRightScore(e.rightScore)}).on(""+o.a.sc_score,function(e){t.scorePanel.setScoreFoul(e)}).on(""+o.a.sc_showScore,function(e){e.visible?t.scorePanel.show():t.scorePanel.hide()}).on(""+o.a.sc_setTimer,function(e){console.log("webdbcmd",e);var i=e.state;i==s.d.RUNNING?(console.log("start timer"),t.scorePanel.toggleTimer(Number(i))):i==s.d.PAUSE?t.scorePanel.toggleTimer(i):i==s.d.RESET&&t.scorePanel.resetTimer(),"sec"in e&&t.scorePanel.setTimer(e.sec)}),e},t}()},8:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={init:"",pull:"",cs_pull:"",cs_showNotice:"",sc_showNotice:"",sc_showPoker:"",cs_showPoker:"",sc_showPokerPlayer:"",cs_showPokerPlayer:"",cs_init:"",sc_init:"",cs_bracketInit:"",sc_bracketInit:"",cs_bracket20Init:"",sc_bracket20Init:"",cs_startGame:"",sc_startGame:"",cs_showGroupRank:"",sc_showGroupRank:"",cs_showChampion:"",sc_showChampion:"",cs_showGamePlayerInfo:"",sc_showGamePlayerInfo:"",cs_showVictory:"",sc_showVictory:"",cs_startTimer:"",sc_startTimer:"",cs_setTimer:"",sc_setTimer:"",cs_commit:"",sc_commit:"",cs_score:"",sc_score:"",cs_showScore:"",sc_showScore:"",cs_panelCreated:"",sc_panelCreated:"",cs_bracketCreated:"",sc_bracketCreated:"",cs_bracket20Created:"",sc_bracket20Created:"",cs_srvCreated:"",sc_srvCreated:""};for(var o in n)n[o]=o}});
//# sourceMappingURL=panel.js.map?20646c4729833a2b34f5